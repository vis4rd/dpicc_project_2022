import{_ as uc,o as sa,c as Ru,a as nl,r as nc,b as ca,T as a0,E as u0,F as s0,M as c0,d as l0,e as il,f as f0,g as d0,w as ts,h as v0,i as h0,j as p0,t as ol}from"./index-1a948997.js";var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y0(e){var i=e.default;if(typeof i=="function"){var u=function o(){if(this instanceof o){var n=[null];n.push.apply(n,arguments);var r=Function.bind.apply(i,n);return new r}return i.apply(this,arguments)};u.prototype=i.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(u,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),u}var H_={},Er={exports:{}};(function(e){function i(u){return u&&u.__esModule?u:{default:u}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(Er);var ns={exports:{}},is={exports:{}},al;function ju(){return al||(al=1,function(e){function i(u){return e.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e.exports.__esModule=!0,e.exports.default=e.exports,i(u)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(is)),is.exports}var ul;function m0(){return ul||(ul=1,function(e){var i=ju().default;function u(){e.exports=u=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var o={},n=Object.prototype,r=n.hasOwnProperty,t=Object.defineProperty||function(k,j,V){k[j]=V.value},a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",h=a.toStringTag||"@@toStringTag";function l(k,j,V){return Object.defineProperty(k,j,{value:V,enumerable:!0,configurable:!0,writable:!0}),k[j]}try{l({},"")}catch{l=function(V,Y,N){return V[Y]=N}}function m(k,j,V,Y){var N=j&&j.prototype instanceof d?j:d,$=Object.create(N.prototype),Z=new q(Y||[]);return t($,"_invoke",{value:R(k,V,Z)}),$}function _(k,j,V){try{return{type:"normal",arg:k.call(j,V)}}catch(Y){return{type:"throw",arg:Y}}}o.wrap=m;var y={};function d(){}function f(){}function v(){}var p={};l(p,s,function(){return this});var b=Object.getPrototypeOf,g=b&&b(b(F([])));g&&g!==n&&r.call(g,s)&&(p=g);var O=v.prototype=d.prototype=Object.create(p);function w(k){["next","throw","return"].forEach(function(j){l(k,j,function(V){return this._invoke(j,V)})})}function E(k,j){function V(N,$,Z,z){var G=_(k[N],k,$);if(G.type!=="throw"){var I=G.arg,M=I.value;return M&&i(M)=="object"&&r.call(M,"__await")?j.resolve(M.__await).then(function(x){V("next",x,Z,z)},function(x){V("throw",x,Z,z)}):j.resolve(M).then(function(x){I.value=x,Z(I)},function(x){return V("throw",x,Z,z)})}z(G.arg)}var Y;t(this,"_invoke",{value:function($,Z){function z(){return new j(function(G,I){V($,Z,G,I)})}return Y=Y?Y.then(z,z):z()}})}function R(k,j,V){var Y="suspendedStart";return function(N,$){if(Y==="executing")throw new Error("Generator is already running");if(Y==="completed"){if(N==="throw")throw $;return W()}for(V.method=N,V.arg=$;;){var Z=V.delegate;if(Z){var z=A(Z,V);if(z){if(z===y)continue;return z}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(Y==="suspendedStart")throw Y="completed",V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);Y="executing";var G=_(k,j,V);if(G.type==="normal"){if(Y=V.done?"completed":"suspendedYield",G.arg===y)continue;return{value:G.arg,done:V.done}}G.type==="throw"&&(Y="completed",V.method="throw",V.arg=G.arg)}}}function A(k,j){var V=j.method,Y=k.iterator[V];if(Y===void 0)return j.delegate=null,V==="throw"&&k.iterator.return&&(j.method="return",j.arg=void 0,A(k,j),j.method==="throw")||V!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+V+"' method")),y;var N=_(Y,k.iterator,j.arg);if(N.type==="throw")return j.method="throw",j.arg=N.arg,j.delegate=null,y;var $=N.arg;return $?$.done?(j[k.resultName]=$.value,j.next=k.nextLoc,j.method!=="return"&&(j.method="next",j.arg=void 0),j.delegate=null,y):$:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,y)}function B(k){var j={tryLoc:k[0]};1 in k&&(j.catchLoc=k[1]),2 in k&&(j.finallyLoc=k[2],j.afterLoc=k[3]),this.tryEntries.push(j)}function D(k){var j=k.completion||{};j.type="normal",delete j.arg,k.completion=j}function q(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(B,this),this.reset(!0)}function F(k){if(k){var j=k[s];if(j)return j.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var V=-1,Y=function N(){for(;++V<k.length;)if(r.call(k,V))return N.value=k[V],N.done=!1,N;return N.value=void 0,N.done=!0,N};return Y.next=Y}}return{next:W}}function W(){return{value:void 0,done:!0}}return f.prototype=v,t(O,"constructor",{value:v,configurable:!0}),t(v,"constructor",{value:f,configurable:!0}),f.displayName=l(v,h,"GeneratorFunction"),o.isGeneratorFunction=function(k){var j=typeof k=="function"&&k.constructor;return!!j&&(j===f||(j.displayName||j.name)==="GeneratorFunction")},o.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,v):(k.__proto__=v,l(k,h,"GeneratorFunction")),k.prototype=Object.create(O),k},o.awrap=function(k){return{__await:k}},w(E.prototype),l(E.prototype,c,function(){return this}),o.AsyncIterator=E,o.async=function(k,j,V,Y,N){N===void 0&&(N=Promise);var $=new E(m(k,j,V,Y),N);return o.isGeneratorFunction(j)?$:$.next().then(function(Z){return Z.done?Z.value:$.next()})},w(O),l(O,h,"Generator"),l(O,s,function(){return this}),l(O,"toString",function(){return"[object Generator]"}),o.keys=function(k){var j=Object(k),V=[];for(var Y in j)V.push(Y);return V.reverse(),function N(){for(;V.length;){var $=V.pop();if($ in j)return N.value=$,N.done=!1,N}return N.done=!0,N}},o.values=F,q.prototype={constructor:q,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!j)for(var V in this)V.charAt(0)==="t"&&r.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var V=this;function Y(I,M){return Z.type="throw",Z.arg=j,V.next=I,M&&(V.method="next",V.arg=void 0),!!M}for(var N=this.tryEntries.length-1;N>=0;--N){var $=this.tryEntries[N],Z=$.completion;if($.tryLoc==="root")return Y("end");if($.tryLoc<=this.prev){var z=r.call($,"catchLoc"),G=r.call($,"finallyLoc");if(z&&G){if(this.prev<$.catchLoc)return Y($.catchLoc,!0);if(this.prev<$.finallyLoc)return Y($.finallyLoc)}else if(z){if(this.prev<$.catchLoc)return Y($.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return Y($.finallyLoc)}}}},abrupt:function(j,V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var N=this.tryEntries[Y];if(N.tryLoc<=this.prev&&r.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var $=N;break}}$&&(j==="break"||j==="continue")&&$.tryLoc<=V&&V<=$.finallyLoc&&($=null);var Z=$?$.completion:{};return Z.type=j,Z.arg=V,$?(this.method="next",this.next=$.finallyLoc,y):this.complete(Z)},complete:function(j,V){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&V&&(this.next=V),y},finish:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var Y=this.tryEntries[V];if(Y.finallyLoc===j)return this.complete(Y.completion,Y.afterLoc),D(Y),y}},catch:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var Y=this.tryEntries[V];if(Y.tryLoc===j){var N=Y.completion;if(N.type==="throw"){var $=N.arg;D(Y)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(j,V,Y){return this.delegate={iterator:F(j),resultName:V,nextLoc:Y},this.method==="next"&&(this.arg=void 0),y}},o}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(ns)),ns.exports}var os,sl;function z_(){if(sl)return os;sl=1;var e=m0()();os=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return os}var as={exports:{}},cl;function Y_(){return cl||(cl=1,function(e){function i(o,n,r,t,a,s,c){try{var h=o[s](c),l=h.value}catch(m){r(m);return}h.done?n(l):Promise.resolve(l).then(t,a)}function u(o){return function(){var n=this,r=arguments;return new Promise(function(t,a){var s=o.apply(n,r);function c(l){i(s,t,a,c,h,"next",l)}function h(l){i(s,t,a,c,h,"throw",l)}c(void 0)})}}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(as)),as.exports}var us={},ss={exports:{}},ll;function yt(){return ll||(ll=1,function(e){function i(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(ss)),ss.exports}var cs={exports:{}},ls={exports:{}},fs={exports:{}},fl;function b0(){return fl||(fl=1,function(e){var i=ju().default;function u(o,n){if(i(o)!=="object"||o===null)return o;var r=o[Symbol.toPrimitive];if(r!==void 0){var t=r.call(o,n||"default");if(i(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(fs)),fs.exports}var dl;function g0(){return dl||(dl=1,function(e){var i=ju().default,u=b0();function o(n){var r=u(n,"string");return i(r)==="symbol"?r:String(r)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(ls)),ls.exports}var vl;function mt(){return vl||(vl=1,function(e){var i=g0();function u(n,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,i(a.key),a)}}function o(n,r,t){return r&&u(n.prototype,r),t&&u(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(cs)),cs.exports}var ds={exports:{}},vs={exports:{}},hl;function O0(){return hl||(hl=1,function(e){function i(u,o){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},e.exports.__esModule=!0,e.exports.default=e.exports,i(u,o)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(vs)),vs.exports}var pl;function w0(){return pl||(pl=1,function(e){var i=O0();function u(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),n&&i(o,n)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports}(ds)),ds.exports}var hs={exports:{}},ps={exports:{}},_l;function E0(){return _l||(_l=1,function(e){function i(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(ps)),ps.exports}var yl;function S0(){return yl||(yl=1,function(e){var i=ju().default,u=E0();function o(n,r){if(r&&(i(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(n)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(hs)),hs.exports}var _s={exports:{}},ml;function T0(){return ml||(ml=1,function(e){function i(u){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,i(u)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(_s)),_s.exports}var ys={},Ve={},bl;function Je(){if(bl)return Ve;bl=1;var e=P&&P.__extends||function(){var l=function(m,_){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},l(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");l(m,_);function y(){this.constructor=m}m.prototype=_===null?Object.create(_):(y.prototype=_.prototype,new y)}}();Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.PROTOCOL_ERROR=Ve.SESSION_EXPIRED=Ve.SERVICE_UNAVAILABLE=Ve.Neo4jError=Ve.isRetriableError=Ve.newError=void 0;var i="ServiceUnavailable";Ve.SERVICE_UNAVAILABLE=i;var u="SessionExpired";Ve.SESSION_EXPIRED=u;var o="ProtocolError";Ve.PROTOCOL_ERROR=o;var n="N/A",r=function(l){e(m,l);function m(_,y,d){var f=l.call(this,_,d!=null?{cause:d}:void 0)||this;return f.constructor=m,f.__proto__=m.prototype,f.code=y,f.name="Neo4jError",f.retriable=s(y),f}return m.isRetriable=function(_){return _!=null&&_ instanceof m&&_.retriable},m}(Error);Ve.Neo4jError=r;function t(l,m,_){return new r(l,m??n,_)}Ve.newError=t;var a=r.isRetriable;Ve.isRetriableError=a;function s(l){return l===i||l===u||h(l)||c(l)}function c(l){return(l==null?void 0:l.includes("TransientError"))===!0}function h(l){return l==="Neo.ClientError.Security.AuthorizationExpired"}return Ve}var He={},gl;function bt(){if(gl)return He;gl=1,Object.defineProperty(He,"__esModule",{value:!0}),He.toString=He.toNumber=He.inSafeRange=He.isInt=He.int=void 0;var e=Je(),i=new Map,u=function(){function f(v,p){this.low=v??0,this.high=p??0}return f.prototype.inSafeRange=function(){return this.greaterThanOrEqual(f.MIN_SAFE_VALUE)&&this.lessThanOrEqual(f.MAX_SAFE_VALUE)},f.prototype.toInt=function(){return this.low},f.prototype.toNumber=function(){return this.high*a+(this.low>>>0)},f.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(a)+BigInt(this.low>>>0);var v=this.negate();return BigInt(-1)*(BigInt(v.high>>>0)*BigInt(a)+BigInt(v.low>>>0))},f.prototype.toNumberOrInfinity=function(){return this.lessThan(f.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(f.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},f.prototype.toString=function(v){if(v=v??10,v<2||v>36)throw RangeError("radix out of range: "+v.toString());if(this.isZero())return"0";var p;if(this.isNegative())if(this.equals(f.MIN_VALUE)){var b=f.fromNumber(v),g=this.div(b);return p=g.multiply(b).subtract(this),g.toString(v)+p.toInt().toString(v)}else return"-"+this.negate().toString(v);var O=f.fromNumber(Math.pow(v,6));p=this;for(var w="";;){var E=p.div(O),R=p.subtract(E.multiply(O)).toInt()>>>0,A=R.toString(v);if(p=E,p.isZero())return A+w;for(;A.length<6;)A="0"+A;w=""+A+w}},f.prototype.getHighBits=function(){return this.high},f.prototype.getLowBits=function(){return this.low},f.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(f.MIN_VALUE)?64:this.negate().getNumBitsAbs();var v=this.high!==0?this.high:this.low,p=0;for(p=31;p>0&&!(v&1<<p);p--);return this.high!==0?p+33:p+1},f.prototype.isZero=function(){return this.high===0&&this.low===0},f.prototype.isNegative=function(){return this.high<0},f.prototype.isPositive=function(){return this.high>=0},f.prototype.isOdd=function(){return(this.low&1)===1},f.prototype.isEven=function(){return(this.low&1)===0},f.prototype.equals=function(v){var p=f.fromValue(v);return this.high===p.high&&this.low===p.low},f.prototype.notEquals=function(v){return!this.equals(v)},f.prototype.lessThan=function(v){return this.compare(v)<0},f.prototype.lessThanOrEqual=function(v){return this.compare(v)<=0},f.prototype.greaterThan=function(v){return this.compare(v)>0},f.prototype.greaterThanOrEqual=function(v){return this.compare(v)>=0},f.prototype.compare=function(v){var p=f.fromValue(v);if(this.equals(p))return 0;var b=this.isNegative(),g=p.isNegative();return b&&!g?-1:!b&&g?1:this.subtract(p).isNegative()?-1:1},f.prototype.negate=function(){return this.equals(f.MIN_VALUE)?f.MIN_VALUE:this.not().add(f.ONE)},f.prototype.add=function(v){var p=f.fromValue(v),b=this.high>>>16,g=this.high&65535,O=this.low>>>16,w=this.low&65535,E=p.high>>>16,R=p.high&65535,A=p.low>>>16,B=p.low&65535,D=0,q=0,F=0,W=0;return W+=w+B,F+=W>>>16,W&=65535,F+=O+A,q+=F>>>16,F&=65535,q+=g+R,D+=q>>>16,q&=65535,D+=b+E,D&=65535,f.fromBits(F<<16|W,D<<16|q)},f.prototype.subtract=function(v){var p=f.fromValue(v);return this.add(p.negate())},f.prototype.multiply=function(v){if(this.isZero())return f.ZERO;var p=f.fromValue(v);if(p.isZero())return f.ZERO;if(this.equals(f.MIN_VALUE))return p.isOdd()?f.MIN_VALUE:f.ZERO;if(p.equals(f.MIN_VALUE))return this.isOdd()?f.MIN_VALUE:f.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(h)&&p.lessThan(h))return f.fromNumber(this.toNumber()*p.toNumber());var b=this.high>>>16,g=this.high&65535,O=this.low>>>16,w=this.low&65535,E=p.high>>>16,R=p.high&65535,A=p.low>>>16,B=p.low&65535,D=0,q=0,F=0,W=0;return W+=w*B,F+=W>>>16,W&=65535,F+=O*B,q+=F>>>16,F&=65535,F+=w*A,q+=F>>>16,F&=65535,q+=g*B,D+=q>>>16,q&=65535,q+=O*A,D+=q>>>16,q&=65535,q+=w*R,D+=q>>>16,q&=65535,D+=b*B+g*A+O*R+w*E,D&=65535,f.fromBits(F<<16|W,D<<16|q)},f.prototype.div=function(v){var p=f.fromValue(v);if(p.isZero())throw(0,e.newError)("division by zero");if(this.isZero())return f.ZERO;var b,g,O;if(this.equals(f.MIN_VALUE)){if(p.equals(f.ONE)||p.equals(f.NEG_ONE))return f.MIN_VALUE;if(p.equals(f.MIN_VALUE))return f.ONE;var w=this.shiftRight(1);return b=w.div(p).shiftLeft(1),b.equals(f.ZERO)?p.isNegative()?f.ONE:f.NEG_ONE:(g=this.subtract(p.multiply(b)),O=b.add(g.div(p)),O)}else if(p.equals(f.MIN_VALUE))return f.ZERO;if(this.isNegative())return p.isNegative()?this.negate().div(p.negate()):this.negate().div(p).negate();if(p.isNegative())return this.div(p.negate()).negate();for(O=f.ZERO,g=this;g.greaterThanOrEqual(p);){b=Math.max(1,Math.floor(g.toNumber()/p.toNumber()));for(var E=Math.ceil(Math.log(b)/Math.LN2),R=E<=48?1:Math.pow(2,E-48),A=f.fromNumber(b),B=A.multiply(p);B.isNegative()||B.greaterThan(g);)b-=R,A=f.fromNumber(b),B=A.multiply(p);A.isZero()&&(A=f.ONE),O=O.add(A),g=g.subtract(B)}return O},f.prototype.modulo=function(v){var p=f.fromValue(v);return this.subtract(this.div(p).multiply(p))},f.prototype.not=function(){return f.fromBits(~this.low,~this.high)},f.prototype.and=function(v){var p=f.fromValue(v);return f.fromBits(this.low&p.low,this.high&p.high)},f.prototype.or=function(v){var p=f.fromValue(v);return f.fromBits(this.low|p.low,this.high|p.high)},f.prototype.xor=function(v){var p=f.fromValue(v);return f.fromBits(this.low^p.low,this.high^p.high)},f.prototype.shiftLeft=function(v){var p=f.toNumber(v);return(p&=63)===0?f.ZERO:p<32?f.fromBits(this.low<<p,this.high<<p|this.low>>>32-p):f.fromBits(0,this.low<<p-32)},f.prototype.shiftRight=function(v){var p=f.toNumber(v);return(p&=63)===0?f.ZERO:v<32?f.fromBits(this.low>>>p|this.high<<32-p,this.high>>p):f.fromBits(this.high>>p-32,this.high>=0?0:-1)},f.isInteger=function(v){return(v==null?void 0:v.__isInteger__)===!0},f.fromInt=function(v){var p;if(v=v|0,v>=-128&&v<128&&(p=i.get(v),p!=null))return p;var b=new f(v,v<0?-1:0);return v>=-128&&v<128&&i.set(v,b),b},f.fromBits=function(v,p){return new f(v,p)},f.fromNumber=function(v){return isNaN(v)||!isFinite(v)?f.ZERO:v<=-c?f.MIN_VALUE:v+1>=c?f.MAX_VALUE:v<0?f.fromNumber(-v).negate():new f(v%a|0,v/a|0)},f.fromString=function(v,p,b){var g=b===void 0?{}:b,O=g.strictStringValidation;if(v.length===0)throw(0,e.newError)("number format error: empty string");if(v==="NaN"||v==="Infinity"||v==="+Infinity"||v==="-Infinity")return f.ZERO;if(p=p??10,p<2||p>36)throw(0,e.newError)("radix out of range: "+p.toString());var w;if((w=v.indexOf("-"))>0)throw(0,e.newError)('number format error: interior "-" character: '+v);if(w===0)return f.fromString(v.substring(1),p).negate();for(var E=f.fromNumber(Math.pow(p,8)),R=f.ZERO,A=0;A<v.length;A+=8){var B=Math.min(8,v.length-A),D=v.substring(A,A+B),q=parseInt(D,p);if(O===!0&&!n(D,q,p))throw(0,e.newError)('number format error: "'.concat(D,'" is NaN in radix ').concat(p,": ").concat(v));if(B<8){var F=f.fromNumber(Math.pow(p,B));R=R.multiply(F).add(f.fromNumber(q))}else R=R.multiply(E),R=R.add(f.fromNumber(q))}return R},f.fromValue=function(v,p){return p===void 0&&(p={}),v instanceof f?v:typeof v=="number"?f.fromNumber(v):typeof v=="string"?f.fromString(v,void 0,p):typeof v=="bigint"?f.fromString(v.toString()):new f(v.low,v.high)},f.toNumber=function(v){switch(typeof v){case"number":return v;case"bigint":return Number(v);default:return f.fromValue(v).toNumber()}},f.toString=function(v,p){return f.fromValue(v).toString(p)},f.inSafeRange=function(v){return f.fromValue(v).inSafeRange()},f.ZERO=f.fromInt(0),f.ONE=f.fromInt(1),f.NEG_ONE=f.fromInt(-1),f.MAX_VALUE=f.fromBits(-1,2147483647),f.MIN_VALUE=f.fromBits(0,-2147483648),f.MIN_SAFE_VALUE=f.fromBits(1,-2097152),f.MAX_SAFE_VALUE=f.fromBits(-1,2097151),f.__isInteger__=!0,f}();function o(f,v,p){var b=f.toString(v),g=Math.max(p-b.length,0),O="0".repeat(g);return"".concat(O).concat(b)}function n(f,v,p){return!Number.isNaN(f)&&!Number.isNaN(v)&&o(v,p,f.length)===f.toLowerCase()}Object.defineProperty(u.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var r=1<<16,t=1<<24,a=r*r,s=a*a,c=s/2,h=u.fromInt(t),l=u.fromValue;He.int=l;var m=u.isInteger;He.isInt=m;var _=u.inSafeRange;He.inSafeRange=_;var y=u.toNumber;He.toNumber=y;var d=u.toString;return He.toString=d,He.default=u,He}var me={},ms={},Oe={},Pt={},vr={},Ol;function G_(){if(Ol)return vr;Ol=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.getBrokenObjectReason=vr.isBrokenObject=vr.createBrokenObject=void 0;var e="__isBrokenObject__",i="__reason__";function u(r,t){t===void 0&&(t={});var a=function(){throw r};return new Proxy(t,{get:function(s,c){if(c===e)return!0;if(c===i)return r;if(c==="toJSON")return;a()},set:a,apply:a,construct:a,defineProperty:a,deleteProperty:a,getOwnPropertyDescriptor:a,getPrototypeOf:a,has:a,isExtensible:a,ownKeys:a,preventExtensions:a,setPrototypeOf:a})}vr.createBrokenObject=u;function o(r){return r!==null&&typeof r=="object"&&r[e]===!0}vr.isBrokenObject=o;function n(r){return r[i]}return vr.getBrokenObjectReason=n,vr}var wl;function sc(){if(wl)return Pt;wl=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.stringify=void 0;var e=G_();function i(u){return JSON.stringify(u,function(o,n){return(0,e.isBrokenObject)(n)?{__isBrokenObject__:!0,__reason__:(0,e.getBrokenObjectReason)(n)}:typeof n=="bigint"?"".concat(n,"n"):n})}return Pt.stringify=i,Pt}var El;function er(){if(El)return Oe;El=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.ENCRYPTION_OFF=Oe.ENCRYPTION_ON=Oe.validateQueryAndParameters=Oe.assertValidDate=Oe.assertNumberOrInteger=Oe.assertNumber=Oe.assertString=Oe.assertObject=Oe.isString=Oe.isObject=Oe.isEmptyObjectOrNull=void 0;var e=bt(),i=sc(),u="ENCRYPTION_ON";Oe.ENCRYPTION_ON=u;var o="ENCRYPTION_OFF";Oe.ENCRYPTION_OFF=o;function n(d){if(d===null)return!0;if(!r(d))return!1;for(var f in d)if(d[f]!==void 0)return!1;return!0}Oe.isEmptyObjectOrNull=n;function r(d){return typeof d=="object"&&!Array.isArray(d)&&d!==null}Oe.isObject=r;function t(d,f,v){var p,b,g="",O=f??{},w=(p=v==null?void 0:v.skipAsserts)!==null&&p!==void 0?p:!1;return typeof d=="string"?g=d:d instanceof String?g=d.toString():typeof d=="object"&&d.text!=null&&(g=d.text,O=(b=d.parameters)!==null&&b!==void 0?b:{}),w||(m(g),_(O)),{validatedQuery:g,params:O}}Oe.validateQueryAndParameters=t;function a(d,f){if(!r(d))throw new TypeError(f+" expected to be an object but was: "+(0,i.stringify)(d));return d}Oe.assertObject=a;function s(d,f){if(!y(d))throw new TypeError((0,i.stringify)(f)+" expected to be string but was: "+(0,i.stringify)(d));return d}Oe.assertString=s;function c(d,f){if(typeof d!="number")throw new TypeError(f+" expected to be a number but was: "+(0,i.stringify)(d));return d}Oe.assertNumber=c;function h(d,f){if(typeof d!="number"&&typeof d!="bigint"&&!(0,e.isInt)(d))throw new TypeError(f+" expected to be either a number or an Integer object but was: "+(0,i.stringify)(d));return d}Oe.assertNumberOrInteger=h;function l(d,f){if(Object.prototype.toString.call(d)!=="[object Date]")throw new TypeError(f+" expected to be a standard JavaScript Date but was: "+(0,i.stringify)(d));if(Number.isNaN(d.getTime()))throw new TypeError(f+" expected to be valid JavaScript Date but its time was NaN: "+(0,i.stringify)(d));return d}Oe.assertValidDate=l;function m(d){if(s(d,"Cypher query"),d.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}function _(d){if(!r(d)){var f=d.constructor!=null?" "+d.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(f," ").concat(JSON.stringify(d)))}}function y(d){return Object.prototype.toString.call(d)==="[object String]"}return Oe.isString=y,Oe}var Sl;function K_(){return Sl||(Sl=1,function(e){var i=P&&P.__createBinding||(Object.create?function(I,M,x,U){U===void 0&&(U=x);var K=Object.getOwnPropertyDescriptor(M,x);(!K||("get"in K?!M.__esModule:K.writable||K.configurable))&&(K={enumerable:!0,get:function(){return M[x]}}),Object.defineProperty(I,U,K)}:function(I,M,x,U){U===void 0&&(U=x),I[U]=M[x]}),u=P&&P.__setModuleDefault||(Object.create?function(I,M){Object.defineProperty(I,"default",{enumerable:!0,value:M})}:function(I,M){I.default=M}),o=P&&P.__importStar||function(I){if(I&&I.__esModule)return I;var M={};if(I!=null)for(var x in I)x!=="default"&&Object.prototype.hasOwnProperty.call(I,x)&&i(M,I,x);return u(M,I),M};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var n=o(bt()),r=Je(),t=er(),a=function(){function I(M,x){this._minNumber=M,this._maxNumber=x,this._minInteger=(0,n.int)(M),this._maxInteger=(0,n.int)(x)}return I.prototype.contains=function(M){if((0,n.isInt)(M)&&M instanceof n.default)return M.greaterThanOrEqual(this._minInteger)&&M.lessThanOrEqual(this._maxInteger);if(typeof M=="bigint"){var x=(0,n.int)(M);return x.greaterThanOrEqual(this._minInteger)&&x.lessThanOrEqual(this._maxInteger)}else return M>=this._minNumber&&M<=this._maxNumber},I.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},I}();e.YEAR_RANGE=new a(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new a(1,12),e.DAY_OF_MONTH_RANGE=new a(1,31),e.HOUR_OF_DAY_RANGE=new a(0,23),e.MINUTE_OF_HOUR_RANGE=new a(0,59),e.SECOND_OF_MINUTE_RANGE=new a(0,59),e.NANOSECOND_OF_SECOND_RANGE=new a(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400;function s(I,M){return(0,n.int)(I).add(V(M,e.NANOS_PER_SECOND))}e.normalizeSecondsForDuration=s;function c(I){return Y(I,e.NANOS_PER_SECOND)}e.normalizeNanosecondsForDuration=c;function h(I,M,x,U){I=(0,n.int)(I),M=(0,n.int)(M),x=(0,n.int)(x),U=(0,n.int)(U);var K=I.multiply(e.NANOS_PER_HOUR);return K=K.add(M.multiply(e.NANOS_PER_MINUTE)),K=K.add(x.multiply(e.NANOS_PER_SECOND)),K.add(U)}e.localTimeToNanoOfDay=h;function l(I,M,x,U,K,ee,re){var J=m(I,M,x),ie=k(U,K,ee);return J.multiply(e.SECONDS_PER_DAY).add(ie)}e.localDateTimeToEpochSecond=l;function m(I,M,x){I=(0,n.int)(I),M=(0,n.int)(M),x=(0,n.int)(x);var U=I.multiply(365);return I.greaterThanOrEqual(0)?U=U.add(I.add(3).div(4).subtract(I.add(99).div(100)).add(I.add(399).div(400))):U=U.subtract(I.div(-4).subtract(I.div(-100)).add(I.div(-400))),U=U.add(M.multiply(367).subtract(362).div(12)),U=U.add(x.subtract(1)),M.greaterThan(2)&&(U=U.subtract(1),j(I)||(U=U.subtract(1))),U.subtract(e.DAYS_0000_TO_1970)}e.dateToEpochDay=m;function _(I,M,x,U){var K=z(I),ee=z(M),re=N(x,U);return"P".concat(K,"M").concat(ee,"DT").concat(re,"S")}e.durationToIsoString=_;function y(I,M,x,U){var K=z(I,2),ee=z(M,2),re=z(x,2),J=$(U);return"".concat(K,":").concat(ee,":").concat(re).concat(J)}e.timeToIsoString=y;function d(I){if(I=(0,n.int)(I),I.equals(0))return"Z";var M=I.isNegative();M&&(I=I.multiply(-1));var x=M?"-":"+",U=z(I.div(e.SECONDS_PER_HOUR),2),K=z(I.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),ee=I.modulo(e.SECONDS_PER_MINUTE),re=ee.equals(0)?null:z(ee,2);return re!=null?"".concat(x).concat(U,":").concat(K,":").concat(re):"".concat(x).concat(U,":").concat(K)}e.timeZoneOffsetToIsoString=d;function f(I,M,x){var U=Z(I),K=z(M,2),ee=z(x,2);return"".concat(U,"-").concat(K,"-").concat(ee)}e.dateToIsoString=f;function v(I){return new Date(I)}e.isoStringToStandardDate=v;function p(I){return new Date(I)}e.toStandardDate=p;function b(I){return new Date(I)}e.newDate=b;function g(I,M){M=M??0;var x=I.getMilliseconds()*e.NANOS_PER_MILLISECOND;return G(M,x)}e.totalNanoseconds=g;function O(I){var M=I.getSeconds()>=I.getUTCSeconds()?I.getSeconds()-I.getUTCSeconds():I.getSeconds()-I.getUTCSeconds()+60,x=I.getTimezoneOffset();return x===0?0+M:-1*x*e.SECONDS_PER_MINUTE+M}e.timeZoneOffsetInSeconds=O;function w(I){return W(I,e.YEAR_RANGE,"Year")}e.assertValidYear=w;function E(I){return W(I,e.MONTH_OF_YEAR_RANGE,"Month")}e.assertValidMonth=E;function R(I){return W(I,e.DAY_OF_MONTH_RANGE,"Day")}e.assertValidDay=R;function A(I){return W(I,e.HOUR_OF_DAY_RANGE,"Hour")}e.assertValidHour=A;function B(I){return W(I,e.MINUTE_OF_HOUR_RANGE,"Minute")}e.assertValidMinute=B;function D(I){return W(I,e.SECOND_OF_MINUTE_RANGE,"Second")}e.assertValidSecond=D;function q(I){return W(I,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")}e.assertValidNanosecond=q;function F(I,M){try{Intl.DateTimeFormat(void 0,{timeZone:M})}catch{throw(0,r.newError)("".concat(I,' is expected to be a valid ZoneId but was: "').concat(M,'"'))}}e.assertValidZoneId=F;function W(I,M,x){if((0,t.assertNumberOrInteger)(I,x),!M.contains(I))throw(0,r.newError)("".concat(x," is expected to be in range ").concat(M.toString()," but was: ").concat(I.toString()));return I}function k(I,M,x){I=(0,n.int)(I),M=(0,n.int)(M),x=(0,n.int)(x);var U=I.multiply(e.SECONDS_PER_HOUR);return U=U.add(M.multiply(e.SECONDS_PER_MINUTE)),U.add(x)}function j(I){return I=(0,n.int)(I),I.modulo(4).equals(0)?I.modulo(100).equals(0)?!!I.modulo(400).equals(0):!0:!1}function V(I,M){I=(0,n.int)(I),M=(0,n.int)(M);var x=I.div(M);return I.isPositive()!==M.isPositive()&&x.multiply(M).notEquals(I)&&(x=x.subtract(1)),x}e.floorDiv=V;function Y(I,M){return I=(0,n.int)(I),M=(0,n.int)(M),I.subtract(V(I,M).multiply(M))}e.floorMod=Y;function N(I,M){I=(0,n.int)(I),M=(0,n.int)(M);var x,U,K=I.isNegative(),ee=M.greaterThan(0);return K&&ee?I.equals(-1)?x="-0":x=I.add(1).toString():x=I.toString(),ee&&(K?U=$(M.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND)):U=$(M.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),U!=null?x+U:x}function $(I){return I=(0,n.int)(I),I.equals(0)?"":"."+z(I,9)}function Z(I){var M=(0,n.int)(I);return M.isNegative()||M.greaterThan(9999)?z(M,6,{usePositiveSign:!0}):z(M,4)}function z(I,M,x){I=(0,n.int)(I);var U=I.isNegative();U&&(I=I.negate());var K=I.toString();if(M!=null)for(;K.length<M;)K="0"+K;return U?"-"+K:(x==null?void 0:x.usePositiveSign)===!0?"+"+K:K}function G(I,M){return I instanceof n.default?I.add(M):typeof I=="bigint"?I+BigInt(M):I+M}}(ms)),ms}var Tl;function P0(){if(Tl)return me;Tl=1;var e=P&&P.__createBinding||(Object.create?function(k,j,V,Y){Y===void 0&&(Y=V);var N=Object.getOwnPropertyDescriptor(j,V);(!N||("get"in N?!j.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return j[V]}}),Object.defineProperty(k,Y,N)}:function(k,j,V,Y){Y===void 0&&(Y=V),k[Y]=j[V]}),i=P&&P.__setModuleDefault||(Object.create?function(k,j){Object.defineProperty(k,"default",{enumerable:!0,value:j})}:function(k,j){k.default=j}),u=P&&P.__importStar||function(k){if(k&&k.__esModule)return k;var j={};if(k!=null)for(var V in k)V!=="default"&&Object.prototype.hasOwnProperty.call(k,V)&&e(j,k,V);return i(j,k),j},o=P&&P.__read||function(k,j){var V=typeof Symbol=="function"&&k[Symbol.iterator];if(!V)return k;var Y=V.call(k),N,$=[],Z;try{for(;(j===void 0||j-- >0)&&!(N=Y.next()).done;)$.push(N.value)}catch(z){Z={error:z}}finally{try{N&&!N.done&&(V=Y.return)&&V.call(Y)}finally{if(Z)throw Z.error}}return $};Object.defineProperty(me,"__esModule",{value:!0}),me.isDateTime=me.DateTime=me.isLocalDateTime=me.LocalDateTime=me.isDate=me.Date=me.isTime=me.Time=me.isLocalTime=me.LocalTime=me.isDuration=me.Duration=void 0;var n=u(K_()),r=er(),t=Je(),a=u(bt()),s={value:!0,enumerable:!1,configurable:!1,writable:!1},c="__isDuration__",h="__isLocalTime__",l="__isTime__",m="__isDate__",_="__isLocalDateTime__",y="__isDateTime__",d=function(){function k(j,V,Y,N){this.months=(0,r.assertNumberOrInteger)(j,"Months"),this.days=(0,r.assertNumberOrInteger)(V,"Days"),(0,r.assertNumberOrInteger)(Y,"Seconds"),(0,r.assertNumberOrInteger)(N,"Nanoseconds"),this.seconds=n.normalizeSecondsForDuration(Y,N),this.nanoseconds=n.normalizeNanosecondsForDuration(N),Object.freeze(this)}return k.prototype.toString=function(){return n.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},k}();me.Duration=d,Object.defineProperty(d.prototype,c,s);function f(k){return D(k,c)}me.isDuration=f;var v=function(){function k(j,V,Y,N){this.hour=n.assertValidHour(j),this.minute=n.assertValidMinute(V),this.second=n.assertValidSecond(Y),this.nanosecond=n.assertValidNanosecond(N),Object.freeze(this)}return k.fromStandardDate=function(j,V){W(j,V);var Y=n.totalNanoseconds(j,V);return new k(j.getHours(),j.getMinutes(),j.getSeconds(),Y instanceof a.default?Y.toInt():typeof Y=="bigint"?(0,a.int)(Y).toInt():Y)},k.prototype.toString=function(){return n.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},k}();me.LocalTime=v,Object.defineProperty(v.prototype,h,s);function p(k){return D(k,h)}me.isLocalTime=p;var b=function(){function k(j,V,Y,N,$){this.hour=n.assertValidHour(j),this.minute=n.assertValidMinute(V),this.second=n.assertValidSecond(Y),this.nanosecond=n.assertValidNanosecond(N),this.timeZoneOffsetSeconds=(0,r.assertNumberOrInteger)($,"Time zone offset in seconds"),Object.freeze(this)}return k.fromStandardDate=function(j,V){return W(j,V),new k(j.getHours(),j.getMinutes(),j.getSeconds(),(0,a.toNumber)(n.totalNanoseconds(j,V)),n.timeZoneOffsetInSeconds(j))},k.prototype.toString=function(){return n.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+n.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},k}();me.Time=b,Object.defineProperty(b.prototype,l,s);function g(k){return D(k,l)}me.isTime=g;var O=function(){function k(j,V,Y){this.year=n.assertValidYear(j),this.month=n.assertValidMonth(V),this.day=n.assertValidDay(Y),Object.freeze(this)}return k.fromStandardDate=function(j){return W(j),new k(j.getFullYear(),j.getMonth()+1,j.getDate())},k.prototype.toStandardDate=function(){return n.isoStringToStandardDate(this.toString())},k.prototype.toString=function(){return n.dateToIsoString(this.year,this.month,this.day)},k}();me.Date=O,Object.defineProperty(O.prototype,m,s);function w(k){return D(k,m)}me.isDate=w;var E=function(){function k(j,V,Y,N,$,Z,z){this.year=n.assertValidYear(j),this.month=n.assertValidMonth(V),this.day=n.assertValidDay(Y),this.hour=n.assertValidHour(N),this.minute=n.assertValidMinute($),this.second=n.assertValidSecond(Z),this.nanosecond=n.assertValidNanosecond(z),Object.freeze(this)}return k.fromStandardDate=function(j,V){return W(j,V),new k(j.getFullYear(),j.getMonth()+1,j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),(0,a.toNumber)(n.totalNanoseconds(j,V)))},k.prototype.toStandardDate=function(){return n.isoStringToStandardDate(this.toString())},k.prototype.toString=function(){return q(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},k}();me.LocalDateTime=E,Object.defineProperty(E.prototype,_,s);function R(k){return D(k,_)}me.isLocalDateTime=R;var A=function(){function k(j,V,Y,N,$,Z,z,G,I){this.year=n.assertValidYear(j),this.month=n.assertValidMonth(V),this.day=n.assertValidDay(Y),this.hour=n.assertValidHour(N),this.minute=n.assertValidMinute($),this.second=n.assertValidSecond(Z),this.nanosecond=n.assertValidNanosecond(z);var M=o(F(G,I),2),x=M[0],U=M[1];this.timeZoneOffsetSeconds=x,this.timeZoneId=U??void 0,Object.freeze(this)}return k.fromStandardDate=function(j,V){return W(j,V),new k(j.getFullYear(),j.getMonth()+1,j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),(0,a.toNumber)(n.totalNanoseconds(j,V)),n.timeZoneOffsetInSeconds(j),null)},k.prototype.toStandardDate=function(){return n.toStandardDate(this._toUTC())},k.prototype.toString=function(){var j,V=q(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),Y=this.timeZoneOffsetSeconds!=null?n.timeZoneOffsetToIsoString((j=this.timeZoneOffsetSeconds)!==null&&j!==void 0?j:0):"",N=this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"";return V+Y+N},k.prototype._toUTC=function(){var j;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var V=n.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),Y=V.subtract((j=this.timeZoneOffsetSeconds)!==null&&j!==void 0?j:0);return(0,a.int)(Y).multiply(1e3).add((0,a.int)(this.nanosecond).div(1e6)).toNumber()},k}();me.DateTime=A,Object.defineProperty(A.prototype,y,s);function B(k){return D(k,y)}me.isDateTime=B;function D(k,j){return k!=null&&k[j]===!0}function q(k,j,V,Y,N,$,Z){return n.dateToIsoString(k,j,V)+"T"+n.timeToIsoString(Y,N,$,Z)}function F(k,j){var V=k!=null,Y=j!=null&&j!=="";if(!V&&!Y)throw(0,t.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(k," and id: ").concat(j));var N=[void 0,void 0];return V&&((0,r.assertNumberOrInteger)(k,"Time zone offset in seconds"),N[0]=k),Y&&((0,r.assertString)(j,"Time zone ID"),n.assertValidZoneId("Time zone ID",j),N[1]=j),N}function W(k,j){(0,r.assertValidDate)(k,"Standard date"),j!=null&&(0,r.assertNumberOrInteger)(j,"Nanosecond")}return me}var Pe={},Pl;function R0(){if(Pl)return Pe;Pl=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.isPathSegment=Pe.PathSegment=Pe.isPath=Pe.Path=Pe.isUnboundRelationship=Pe.UnboundRelationship=Pe.isRelationship=Pe.Relationship=Pe.isNode=Pe.Node=void 0;var e=sc(),i={value:!0,enumerable:!1,configurable:!1,writable:!1},u="__isNode__",o="__isRelationship__",n="__isUnboundRelationship__",r="__isPath__",t="__isPathSegment__";function a(b,g){return b!=null&&b[g]===!0}var s=function(){function b(g,O,w,E){this.identity=g,this.labels=O,this.properties=w,this.elementId=p(E,function(){return g.toString()})}return b.prototype.toString=function(){for(var g="("+this.elementId,O=0;O<this.labels.length;O++)g+=":"+this.labels[O];var w=Object.keys(this.properties);if(w.length>0){g+=" {";for(var O=0;O<w.length;O++)O>0&&(g+=","),g+=w[O]+":"+(0,e.stringify)(this.properties[w[O]]);g+="}"}return g+=")",g},b}();Pe.Node=s,Object.defineProperty(s.prototype,u,i);function c(b){return a(b,u)}Pe.isNode=c;var h=function(){function b(g,O,w,E,R,A,B,D){this.identity=g,this.start=O,this.end=w,this.type=E,this.properties=R,this.elementId=p(A,function(){return g.toString()}),this.startNodeElementId=p(B,function(){return O.toString()}),this.endNodeElementId=p(D,function(){return w.toString()})}return b.prototype.toString=function(){var g="("+this.startNodeElementId+")-[:"+this.type,O=Object.keys(this.properties);if(O.length>0){g+=" {";for(var w=0;w<O.length;w++)w>0&&(g+=","),g+=O[w]+":"+(0,e.stringify)(this.properties[O[w]]);g+="}"}return g+="]->("+this.endNodeElementId+")",g},b}();Pe.Relationship=h,Object.defineProperty(h.prototype,o,i);function l(b){return a(b,o)}Pe.isRelationship=l;var m=function(){function b(g,O,w,E){this.identity=g,this.type=O,this.properties=w,this.elementId=p(E,function(){return g.toString()})}return b.prototype.bind=function(g,O){return new h(this.identity,g,O,this.type,this.properties,this.elementId)},b.prototype.bindTo=function(g,O){return new h(this.identity,g.identity,O.identity,this.type,this.properties,this.elementId,g.elementId,O.elementId)},b.prototype.toString=function(){var g="-[:"+this.type,O=Object.keys(this.properties);if(O.length>0){g+=" {";for(var w=0;w<O.length;w++)w>0&&(g+=","),g+=O[w]+":"+(0,e.stringify)(this.properties[O[w]]);g+="}"}return g+="]->",g},b}();Pe.UnboundRelationship=m,Object.defineProperty(m.prototype,n,i);function _(b){return a(b,n)}Pe.isUnboundRelationship=_;var y=function(){function b(g,O,w){this.start=g,this.relationship=O,this.end=w}return b}();Pe.PathSegment=y,Object.defineProperty(y.prototype,t,i);function d(b){return a(b,t)}Pe.isPathSegment=d;var f=function(){function b(g,O,w){this.start=g,this.end=O,this.segments=w,this.length=w.length}return b}();Pe.Path=f,Object.defineProperty(f.prototype,r,i);function v(b){return a(b,r)}Pe.isPath=v;function p(b,g){return b??g()}return Pe}var Ea={},Rl;function I0(){if(Rl)return Ea;Rl=1;var e=P&&P.__generator||function(t,a){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,h,l,m;return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(d){return function(f){return y([d,f])}}function y(d){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,h&&(l=d[0]&2?h.return:d[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,d[1])).done)return l;switch(h=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,h=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){s.label=d[1];break}if(d[0]===6&&s.label<l[1]){s.label=l[1],l=d;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(d);break}l[2]&&s.ops.pop(),s.trys.pop();continue}d=a.call(t,s)}catch(f){d=[6,f],h=0}finally{c=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},i=P&&P.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&t[a],c=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&c>=t.length&&(t=void 0),{value:t&&t[c++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},u=P&&P.__read||function(t,a){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var c=s.call(t),h,l=[],m;try{for(;(a===void 0||a-- >0)&&!(h=c.next()).done;)l.push(h.value)}catch(_){m={error:_}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(m)throw m.error}}return l};Object.defineProperty(Ea,"__esModule",{value:!0});var o=Je();function n(t){var a={};return t.forEach(function(s,c){a[s]=c}),a}var r=function(){function t(a,s,c){this.keys=a,this.length=a.length,this._fields=s,this._fieldLookup=c??n(a)}return t.prototype.forEach=function(a){var s,c;try{for(var h=i(this.entries()),l=h.next();!l.done;l=h.next()){var m=u(l.value,2),_=m[0],y=m[1];a(y,_,this)}}catch(d){s={error:d}}finally{try{l&&!l.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}},t.prototype.map=function(a){var s,c,h=[];try{for(var l=i(this.entries()),m=l.next();!m.done;m=l.next()){var _=u(m.value,2),y=_[0],d=_[1];h.push(a(d,y,this))}}catch(f){s={error:f}}finally{try{m&&!m.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}return h},t.prototype.entries=function(){var a;return e(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<this.keys.length?[4,[this.keys[a],this._fields[a]]]:[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:return[2]}})},t.prototype.values=function(){var a;return e(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<this.keys.length?[4,this._fields[a]]:[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:return[2]}})},t.prototype[Symbol.iterator]=function(){var a;return e(this,function(s){switch(s.label){case 0:a=0,s.label=1;case 1:return a<this.keys.length?[4,this._fields[a]]:[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:return[2]}})},t.prototype.toObject=function(){var a,s,c={};try{for(var h=i(this.entries()),l=h.next();!l.done;l=h.next()){var m=u(l.value,2),_=m[0],y=m[1];c[_]=y}}catch(d){a={error:d}}finally{try{l&&!l.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return c},t.prototype.get=function(a){var s;if(typeof a!="number"){if(s=this._fieldLookup[a],s===void 0)throw(0,o.newError)("This record has no field with key '".concat(a.toString(),"', available keys are: [")+this.keys.toString()+"].")}else s=a;if(s>this._fields.length-1||s<0)throw(0,o.newError)("This record has no field with index '"+s.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[s]},t.prototype.has=function(a){return typeof a=="number"?a>=0&&a<this._fields.length:this._fieldLookup[a]!==void 0},t}();return Ea.default=r,Ea}var Mr={},Il;function C0(){if(Il)return Mr;Il=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.isPoint=Mr.Point=void 0;var e=er(),i="__isPoint__",u=function(){function r(t,a,s,c){this.srid=(0,e.assertNumberOrInteger)(t,"SRID"),this.x=(0,e.assertNumber)(a,"X coordinate"),this.y=(0,e.assertNumber)(s,"Y coordinate"),this.z=c==null?c:(0,e.assertNumber)(c,"Z coordinate"),Object.freeze(this)}return r.prototype.toString=function(){return this.z!=null&&!isNaN(this.z)?"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),", z=").concat(o(this.z),"}"):"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),"}")},r}();Mr.Point=u;function o(r){return Number.isInteger(r)?r.toString()+".0":r.toString()}Object.defineProperty(u.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1});function n(r){return r!=null&&r[i]===!0}return Mr.isPoint=n,Mr}var ke={},Cl;function Z_(){if(Cl)return ke;Cl=1;var e=P&&P.__createBinding||(Object.create?function(y,d,f,v){v===void 0&&(v=f);var p=Object.getOwnPropertyDescriptor(d,f);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(y,v,p)}:function(y,d,f,v){v===void 0&&(v=f),y[v]=d[f]}),i=P&&P.__setModuleDefault||(Object.create?function(y,d){Object.defineProperty(y,"default",{enumerable:!0,value:d})}:function(y,d){y.default=d}),u=P&&P.__importStar||function(y){if(y&&y.__esModule)return y;var d={};if(y!=null)for(var f in y)f!=="default"&&Object.prototype.hasOwnProperty.call(y,f)&&e(d,y,f);return i(d,y),d};Object.defineProperty(ke,"__esModule",{value:!0}),ke.Stats=ke.QueryStatistics=ke.ProfiledPlan=ke.Plan=ke.Notification=ke.ServerInfo=ke.queryType=void 0;var o=u(bt()),n=function(){function y(d,f,v,p){var b,g,O;this.query={text:d,parameters:f},this.queryType=v.type,this.counters=new s((b=v.stats)!==null&&b!==void 0?b:{}),this.updateStatistics=this.counters,this.plan=v.plan!=null||v.profile!=null?new r((g=v.plan)!==null&&g!==void 0?g:v.profile):!1,this.profile=v.profile!=null?new t(v.profile):!1,this.notifications=this._buildNotifications(v.notifications),this.server=new h(v.server,p),this.resultConsumedAfter=v.result_consumed_after,this.resultAvailableAfter=v.result_available_after,this.database={name:(O=v.db)!==null&&O!==void 0?O:null}}return y.prototype._buildNotifications=function(d){return d==null?[]:d.map(function(f){return new c(f)})},y.prototype.hasPlan=function(){return this.plan instanceof r},y.prototype.hasProfile=function(){return this.profile instanceof t},y}(),r=function(){function y(d){this.operatorType=d.operatorType,this.identifiers=d.identifiers,this.arguments=d.args,this.children=d.children!=null?d.children.map(function(f){return new y(f)}):[]}return y}();ke.Plan=r;var t=function(){function y(d){this.operatorType=d.operatorType,this.identifiers=d.identifiers,this.arguments=d.args,this.dbHits=m("dbHits",d),this.rows=m("rows",d),this.pageCacheMisses=m("pageCacheMisses",d),this.pageCacheHits=m("pageCacheHits",d),this.pageCacheHitRatio=m("pageCacheHitRatio",d),this.time=m("time",d),this.children=d.children!=null?d.children.map(function(f){return new y(f)}):[]}return y.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},y}();ke.ProfiledPlan=t;var a=function(){function y(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0}return y}();ke.Stats=a;var s=function(){function y(d){var f=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(d).forEach(function(v){var p=v.replace(/(-\w)/g,function(b){return b[1].toUpperCase()});p in f._stats?f._stats[p]=l(d[v]):p==="systemUpdates"?f._systemUpdates=l(d[v]):p==="containsSystemUpdates"?f._containsSystemUpdates=d[v]:p==="containsUpdates"&&(f._containsUpdates=d[v])}),this._stats=Object.freeze(this._stats)}return y.prototype.containsUpdates=function(){var d=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(f,v){return f+d._stats[v]},0)>0},y.prototype.updates=function(){return this._stats},y.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},y.prototype.systemUpdates=function(){return this._systemUpdates},y}();ke.QueryStatistics=s;var c=function(){function y(d){this.code=d.code,this.title=d.title,this.description=d.description,this.severity=d.severity,this.position=y._constructPosition(d.position)}return y._constructPosition=function(d){return d==null?{}:{offset:l(d.offset),line:l(d.line),column:l(d.column)}},y}();ke.Notification=c;var h=function(){function y(d,f){d!=null&&(this.address=d.address,this.agent=d.version),this.protocolVersion=f}return y}();ke.ServerInfo=h;function l(y){return y instanceof o.default?y.toInt():typeof y=="bigint"?(0,o.int)(y).toInt():y}function m(y,d,f){if(f===void 0&&(f=0),d!==!1&&y in d){var v=d[y];return l(v)}else return f}var _={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};return ke.queryType=_,ke.default=n,ke}var Sa={},_e={},Nr={},Al;function cc(){if(Al)return Nr;Al=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.FailedObserver=Nr.CompletedObserver=void 0;var e=function(){function o(){}return o.prototype.subscribe=function(n){u(n,n.onKeys,[]),u(n,n.onCompleted,{})},o.prototype.cancel=function(){},o.prototype.pause=function(){},o.prototype.resume=function(){},o.prototype.prepareToHandleSingleResponse=function(){},o.prototype.markCompleted=function(){},o.prototype.onError=function(n){throw Error("CompletedObserver not supposed to call onError")},o}();Nr.CompletedObserver=e;var i=function(){function o(n){var r=n.error,t=n.onError;this._error=r,this._beforeError=t,this._observers=[],this.onError(r)}return o.prototype.subscribe=function(n){u(n,n.onError,this._error),this._observers.push(n)},o.prototype.onError=function(n){u(this,this._beforeError,n),this._observers.forEach(function(r){return u(r,r.onError,n)})},o.prototype.cancel=function(){},o.prototype.pause=function(){},o.prototype.resume=function(){},o.prototype.markCompleted=function(){},o.prototype.prepareToHandleSingleResponse=function(){},o}();Nr.FailedObserver=i;function u(o,n,r){n!=null&&n.bind(o)(r)}return Nr}var Rt={},jl;function va(){if(jl)return Rt;jl=1;var e=P&&P.__createBinding||(Object.create?function(l,m,_,y){y===void 0&&(y=_);var d=Object.getOwnPropertyDescriptor(m,_);(!d||("get"in d?!m.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(l,y,d)}:function(l,m,_,y){y===void 0&&(y=_),l[y]=m[_]}),i=P&&P.__setModuleDefault||(Object.create?function(l,m){Object.defineProperty(l,"default",{enumerable:!0,value:m})}:function(l,m){l.default=m}),u=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var m={};if(l!=null)for(var _ in l)_!=="default"&&Object.prototype.hasOwnProperty.call(l,_)&&e(m,l,_);return i(m,l),m},o=P&&P.__read||function(l,m){var _=typeof Symbol=="function"&&l[Symbol.iterator];if(!_)return l;var y=_.call(l),d,f=[],v;try{for(;(m===void 0||m-- >0)&&!(d=y.next()).done;)f.push(d.value)}catch(p){v={error:p}}finally{try{d&&!d.done&&(_=y.return)&&_.call(y)}finally{if(v)throw v.error}}return f},n=P&&P.__spreadArray||function(l,m,_){if(_||arguments.length===2)for(var y=0,d=m.length,f;y<d;y++)(f||!(y in m))&&(f||(f=Array.prototype.slice.call(m,0,y)),f[y]=m[y]);return l.concat(f||Array.prototype.slice.call(m))};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.Bookmarks=void 0;var r=u(er()),t="bookmarks",a=function(){function l(m){this._values=c(m)}return l.empty=function(){return s},l.prototype.isEmpty=function(){return this._values.length===0},l.prototype.values=function(){return this._values},l.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},l.prototype.asBeginTransactionParameters=function(){var m;return this.isEmpty()?{}:(m={},m[t]=this._values,m)},l}();Rt.Bookmarks=a;var s=new a(null);function c(l){if(l==null||l==="")return[];if(r.isString(l))return[l];if(Array.isArray(l)){for(var m=new Set,_=h(l),y=0;y<_.length;y++){var d=_[y];if(d!=null){if(!r.isString(d))throw new TypeError("Bookmark value should be a string, given: '".concat(d,"'"));m.add(d)}}return n([],o(m),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(l,"'"))}function h(l){return l.reduce(function(m,_){return Array.isArray(_)?m.concat(h(_)):m.concat(_)},[])}return Rt}var ve={},Ml;function Mu(){if(Ml)return ve;Ml=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.BOLT_PROTOCOL_V5_0=ve.BOLT_PROTOCOL_V4_4=ve.BOLT_PROTOCOL_V4_3=ve.BOLT_PROTOCOL_V4_2=ve.BOLT_PROTOCOL_V4_1=ve.BOLT_PROTOCOL_V4_0=ve.BOLT_PROTOCOL_V3=ve.BOLT_PROTOCOL_V2=ve.BOLT_PROTOCOL_V1=ve.DEFAULT_POOL_MAX_SIZE=ve.DEFAULT_POOL_ACQUISITION_TIMEOUT=ve.DEFAULT_CONNECTION_TIMEOUT_MILLIS=ve.ACCESS_MODE_WRITE=ve.ACCESS_MODE_READ=ve.FETCH_ALL=void 0;var e=-1;ve.FETCH_ALL=e;var i=60*1e3;ve.DEFAULT_POOL_ACQUISITION_TIMEOUT=i;var u=100;ve.DEFAULT_POOL_MAX_SIZE=u;var o=3e4;ve.DEFAULT_CONNECTION_TIMEOUT_MILLIS=o;var n="READ";ve.ACCESS_MODE_READ=n;var r="WRITE";ve.ACCESS_MODE_WRITE=r;var t=1;ve.BOLT_PROTOCOL_V1=t;var a=2;ve.BOLT_PROTOCOL_V2=a;var s=3;ve.BOLT_PROTOCOL_V3=s;var c=4;ve.BOLT_PROTOCOL_V4_0=c;var h=4.1;ve.BOLT_PROTOCOL_V4_1=h;var l=4.2;ve.BOLT_PROTOCOL_V4_2=l;var m=4.3;ve.BOLT_PROTOCOL_V4_3=m;var _=4.4;ve.BOLT_PROTOCOL_V4_4=_;var y=5;return ve.BOLT_PROTOCOL_V5_0=y,ve}var sr={},Nl;function lc(){if(Nl)return sr;Nl=1;var e=P&&P.__extends||function(){var m=function(_,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(d[v]=f[v])},m(_,y)};return function(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(_,y);function d(){this.constructor=_}_.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}(),i=P&&P.__awaiter||function(m,_,y,d){function f(v){return v instanceof y?v:new y(function(p){p(v)})}return new(y||(y=Promise))(function(v,p){function b(w){try{O(d.next(w))}catch(E){p(E)}}function g(w){try{O(d.throw(w))}catch(E){p(E)}}function O(w){w.done?v(w.value):f(w.value).then(b,g)}O((d=d.apply(m,_||[])).next())})},u=P&&P.__generator||function(m,_){var y={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},d,f,v,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(O){return function(w){return g([O,w])}}function g(O){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,f&&(v=O[0]&2?f.return:O[0]?f.throw||((v=f.return)&&v.call(f),0):f.next)&&!(v=v.call(f,O[1])).done)return v;switch(f=0,v&&(O=[O[0]&2,v.value]),O[0]){case 0:case 1:v=O;break;case 4:return y.label++,{value:O[1],done:!1};case 5:y.label++,f=O[1],O=[0];continue;case 7:O=y.ops.pop(),y.trys.pop();continue;default:if(v=y.trys,!(v=v.length>0&&v[v.length-1])&&(O[0]===6||O[0]===2)){y=0;continue}if(O[0]===3&&(!v||O[1]>v[0]&&O[1]<v[3])){y.label=O[1];break}if(O[0]===6&&y.label<v[1]){y.label=v[1],v=O;break}if(v&&y.label<v[2]){y.label=v[2],y.ops.push(O);break}v[2]&&y.ops.pop(),y.trys.pop();continue}O=_.call(m,y)}catch(w){O=[6,w],f=0}finally{d=v=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}};Object.defineProperty(sr,"__esModule",{value:!0}),sr.EMPTY_CONNECTION_HOLDER=sr.ReadOnlyConnectionHolder=sr.ConnectionHolder=void 0;var o=Je(),n=er(),r=Mu(),t=va(),a=function(){function m(_){var y=_===void 0?{}:_,d=y.mode,f=d===void 0?r.ACCESS_MODE_WRITE:d,v=y.database,p=v===void 0?"":v,b=y.bookmarks,g=y.connectionProvider,O=y.impersonatedUser,w=y.onDatabaseNameResolved,E=y.getConnectionAcquistionBookmarks;this._mode=f,this._database=p!=null?(0,n.assertString)(p,"database"):"",this._bookmarks=b??t.Bookmarks.empty(),this._connectionProvider=g,this._impersonatedUser=O,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=w,this._getConnectionAcquistionBookmarks=E??function(){return Promise.resolve(t.Bookmarks.empty())}}return m.prototype.mode=function(){return this._mode},m.prototype.database=function(){return this._database},m.prototype.setDatabase=function(_){this._database=_},m.prototype.bookmarks=function(){return this._bookmarks},m.prototype.connectionProvider=function(){return this._connectionProvider},m.prototype.referenceCount=function(){return this._referenceCount},m.prototype.initializeConnection=function(){if(this._referenceCount===0&&this._connectionProvider!=null)this._connectionPromise=this._createConnectionPromise(this._connectionProvider);else return this._referenceCount++,!1;return this._referenceCount++,!0},m.prototype._createConnectionPromise=function(_){return i(this,void 0,void 0,function(){var y,d,f;return u(this,function(v){switch(v.label){case 0:return d=(y=_).acquireConnection,f={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,d.apply(y,[(f.bookmarks=v.sent(),f.impersonatedUser=this._impersonatedUser,f.onDatabaseNameResolved=this._onDatabaseNameResolved,f)])];case 2:return[2,v.sent()]}})})},m.prototype._getBookmarks=function(){return i(this,void 0,void 0,function(){return u(this,function(_){switch(_.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,_.sent()]}})})},m.prototype.getConnection=function(){return this._connectionPromise},m.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},m.prototype.close=function(_){return this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(_))},m.prototype._releaseConnection=function(_){return this._connectionPromise=this._connectionPromise.then(function(y){return y!=null?y.isOpen()&&(y.hasOngoingObservableRequests()||_===!0)?y.resetAndFlush().catch(l).then(function(){return y._release().then(function(){return null})}):y._release().then(function(){return null}):Promise.resolve(null)}).catch(l),this._connectionPromise},m}();sr.ConnectionHolder=a;var s=function(m){e(_,m);function _(y){var d=m.call(this,{mode:y.mode(),database:y.database(),bookmarks:y.bookmarks(),getConnectionAcquistionBookmarks:y._getConnectionAcquistionBookmarks,connectionProvider:y.connectionProvider()})||this;return d._connectionHolder=y,d}return _.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},_.prototype.getConnection=function(){return this._connectionHolder.getConnection()},_.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},_.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},_}(a);sr.ReadOnlyConnectionHolder=s,sr.default=s;var c=function(m){e(_,m);function _(){return m!==null&&m.apply(this,arguments)||this}return _.prototype.mode=function(){},_.prototype.database=function(){},_.prototype.initializeConnection=function(){return!0},_.prototype.getConnection=function(){return i(this,void 0,void 0,function(){return u(this,function(y){switch(y.label){case 0:return[4,Promise.reject((0,o.newError)("This connection holder does not serve connections"))];case 1:return[2,y.sent()]}})})},_.prototype.releaseConnection=function(){return i(this,void 0,void 0,function(){return u(this,function(y){switch(y.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,y.sent()]}})})},_.prototype.close=function(){return i(this,void 0,void 0,function(){return u(this,function(y){switch(y.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,y.sent()]}})})},_}(a),h=new c;sr.EMPTY_CONNECTION_HOLDER=h;function l(m){return null}return sr}var It={},kl;function fc(){if(kl)return It;kl=1;var e=P&&P.__createBinding||(Object.create?function(l,m,_,y){y===void 0&&(y=_);var d=Object.getOwnPropertyDescriptor(m,_);(!d||("get"in d?!m.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(l,y,d)}:function(l,m,_,y){y===void 0&&(y=_),l[y]=m[_]}),i=P&&P.__setModuleDefault||(Object.create?function(l,m){Object.defineProperty(l,"default",{enumerable:!0,value:m})}:function(l,m){l.default=m}),u=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var m={};if(l!=null)for(var _ in l)_!=="default"&&Object.prototype.hasOwnProperty.call(l,_)&&e(m,l,_);return i(m,l),m};Object.defineProperty(It,"__esModule",{value:!0}),It.TxConfig=void 0;var o=u(er()),n=Je(),r=bt(),t=function(){function l(m){h(m),this.timeout=s(m),this.metadata=c(m)}return l.empty=function(){return a},l.prototype.isEmpty=function(){return Object.values(this).every(function(m){return m==null})},l}();It.TxConfig=t;var a=new t({});function s(l){if(o.isObject(l)&&l.timeout!=null){o.assertNumberOrInteger(l.timeout,"Transaction timeout");var m=(0,r.int)(l.timeout);if(m.isNegative())throw(0,n.newError)("Transaction timeout should not be negative");return m}return null}function c(l){if(o.isObject(l)&&l.metadata!=null){var m=l.metadata;if(o.assertObject(m,"config.metadata"),Object.keys(m).length!==0)return m}return null}function h(l){l!=null&&o.assertObject(l,"Transaction config")}return It}var Ct={},Dl;function Q_(){if(Dl)return Ct;Dl=1;var e=P&&P.__awaiter||function(c,h,l,m){function _(y){return y instanceof l?y:new l(function(d){d(y)})}return new(l||(l=Promise))(function(y,d){function f(b){try{p(m.next(b))}catch(g){d(g)}}function v(b){try{p(m.throw(b))}catch(g){d(g)}}function p(b){b.done?y(b.value):_(b.value).then(f,v)}p((m=m.apply(c,h||[])).next())})},i=P&&P.__generator||function(c,h){var l={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,_,y,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(p){return function(b){return v([p,b])}}function v(p){if(m)throw new TypeError("Generator is already executing.");for(;l;)try{if(m=1,_&&(y=p[0]&2?_.return:p[0]?_.throw||((y=_.return)&&y.call(_),0):_.next)&&!(y=y.call(_,p[1])).done)return y;switch(_=0,y&&(p=[p[0]&2,y.value]),p[0]){case 0:case 1:y=p;break;case 4:return l.label++,{value:p[1],done:!1};case 5:l.label++,_=p[1],p=[0];continue;case 7:p=l.ops.pop(),l.trys.pop();continue;default:if(y=l.trys,!(y=y.length>0&&y[y.length-1])&&(p[0]===6||p[0]===2)){l=0;continue}if(p[0]===3&&(!y||p[1]>y[0]&&p[1]<y[3])){l.label=p[1];break}if(p[0]===6&&l.label<y[1]){l.label=y[1],y=p;break}if(y&&l.label<y[2]){l.label=y[2],l.ops.push(p);break}y[2]&&l.ops.pop(),l.trys.pop();continue}p=h.call(c,l)}catch(b){p=[6,b],_=0}finally{m=y=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.TransactionExecutor=void 0;var u=Je(),o=30*1e3,n=1e3,r=2,t=.2,a=function(){function c(h,l,m,_){this._maxRetryTimeMs=s(h,o),this._initialRetryDelayMs=s(l,n),this._multiplier=s(m,r),this._jitterFactor=s(_,t),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return c.prototype.execute=function(h,l,m){var _=this;return new Promise(function(y,d){_._executeTransactionInsidePromise(h,l,y,d,m).catch(d)}).catch(function(y){var d=Date.now(),f=_._initialRetryDelayMs;return _._retryTransactionPromise(h,l,y,d,f,m)})},c.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(h){return clearTimeout(h)}),this._inFlightTimeoutIds=[]},c.prototype._retryTransactionPromise=function(h,l,m,_,y,d){var f=this,v=Date.now()-_;return v>this._maxRetryTimeMs||!(0,u.isRetriableError)(m)?Promise.reject(m):new Promise(function(p,b){var g=f._computeDelayWithJitter(y),O=setTimeout(function(){f._inFlightTimeoutIds=f._inFlightTimeoutIds.filter(function(w){return w!==O}),f._executeTransactionInsidePromise(h,l,p,b,d).catch(b)},g);f._inFlightTimeoutIds.push(O)}).catch(function(p){var b=y*f._multiplier;return f._retryTransactionPromise(h,l,p,_,b,d)})},c.prototype._executeTransactionInsidePromise=function(h,l,m,_,y){return e(this,void 0,void 0,function(){var d,f,v,p,b,g=this;return i(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,h()];case 1:return d=O.sent(),[3,3];case 2:return f=O.sent(),_(f),[2];case 3:return v=y??function(w){return w},p=v(d),b=this._safeExecuteTransactionWork(p,l),b.then(function(w){return g._handleTransactionWorkSuccess(w,d,m,_)}).catch(function(w){return g._handleTransactionWorkFailure(w,d,_)}),[2]}})})},c.prototype._safeExecuteTransactionWork=function(h,l){try{var m=l(h);return Promise.resolve(m)}catch(_){return Promise.reject(_)}},c.prototype._handleTransactionWorkSuccess=function(h,l,m,_){l.isOpen()?l.commit().then(function(){m(h)}).catch(function(y){_(y)}):m(h)},c.prototype._handleTransactionWorkFailure=function(h,l,m){l.isOpen()?l.rollback().catch(function(_){}).then(function(){return m(h)}).catch(m):m(h)},c.prototype._computeDelayWithJitter=function(h){var l=h*this._jitterFactor,m=h-l,_=h+l;return Math.random()*(_-m)+m},c.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,u.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,u.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,u.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,u.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},c}();Ct.TransactionExecutor=a;function s(c,h){return c??h}return Ct}var At={},ql;function X_(){if(ql)return At;ql=1;var e=P&&P.__extends||function(){var d=function(f,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(p[g]=b[g])},d(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(f,v);function p(){this.constructor=f}f.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}(),i;Object.defineProperty(At,"__esModule",{value:!0}),At.Logger=void 0;var u=Je(),o="error",n="warn",r="info",t="debug",a=r,s=(i={},i[o]=0,i[n]=1,i[r]=2,i[t]=3,i),c=function(){function d(f,v){this._level=f,this._loggerFunction=v}return d.create=function(f){if((f==null?void 0:f.logging)!=null){var v=f.logging,p=_(v),b=y(v);return new d(p,b)}return this.noOp()},d.noOp=function(){return l},d.prototype.isErrorEnabled=function(){return m(this._level,o)},d.prototype.error=function(f){this.isErrorEnabled()&&this._loggerFunction(o,f)},d.prototype.isWarnEnabled=function(){return m(this._level,n)},d.prototype.warn=function(f){this.isWarnEnabled()&&this._loggerFunction(n,f)},d.prototype.isInfoEnabled=function(){return m(this._level,r)},d.prototype.info=function(f){this.isInfoEnabled()&&this._loggerFunction(r,f)},d.prototype.isDebugEnabled=function(){return m(this._level,t)},d.prototype.debug=function(f){this.isDebugEnabled()&&this._loggerFunction(t,f)},d}();At.Logger=c;var h=function(d){e(f,d);function f(){return d.call(this,r,function(v,p){})||this}return f.prototype.isErrorEnabled=function(){return!1},f.prototype.error=function(v){},f.prototype.isWarnEnabled=function(){return!1},f.prototype.warn=function(v){},f.prototype.isInfoEnabled=function(){return!1},f.prototype.info=function(v){},f.prototype.isDebugEnabled=function(){return!1},f.prototype.debug=function(v){},f}(c),l=new h;function m(d,f){return s[d]>=s[f]}function _(d){if((d==null?void 0:d.level)!=null){var f=d.level,v=s[f];if(v==null&&v!==0)throw(0,u.newError)("Illegal logging level: ".concat(f,". Supported levels are: ").concat(Object.keys(s).toString()));return f}return a}function y(d){var f,v;if((d==null?void 0:d.logger)!=null){var p=d.logger;if(p!=null&&typeof p=="function")return p}throw(0,u.newError)("Illegal logger function: ".concat((v=(f=d==null?void 0:d.logger)===null||f===void 0?void 0:f.toString())!==null&&v!==void 0?v:"undefined"))}return At}var Ge={},Ll;function J_(){if(Ll)return Ge;Ll=1;var e=P&&P.__assign||function(){return e=Object.assign||function(w){for(var E,R=1,A=arguments.length;R<A;R++){E=arguments[R];for(var B in E)Object.prototype.hasOwnProperty.call(E,B)&&(w[B]=E[B])}return w},e.apply(this,arguments)},i=P&&P.__read||function(w,E){var R=typeof Symbol=="function"&&w[Symbol.iterator];if(!R)return w;var A=R.call(w),B,D=[],q;try{for(;(E===void 0||E-- >0)&&!(B=A.next()).done;)D.push(B.value)}catch(F){q={error:F}}finally{try{B&&!B.done&&(R=A.return)&&R.call(A)}finally{if(q)throw q.error}}return D};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.Url=Ge.formatIPv6Address=Ge.formatIPv4Address=Ge.defaultPortForScheme=Ge.parseDatabaseUrl=void 0;var u=er(),o=7687,n=7474,r=7473,t=function(){function w(E,R,A,B,D){this.scheme=E,this.host=R,this.port=A,this.hostAndPort=B,this.query=D}return w}();Ge.Url=t;function a(w){var E;(0,u.assertString)(w,"URL");var R=c(w),A=O(R.url),B=R.schemeMissing?null:h(A.scheme),D=l(A.host),q=v(D),F=m(A.port,B),W="".concat(q,":").concat(F),k=_((E=A.query)!==null&&E!==void 0?E:s(A.resourceName),w);return new t(B,D,F,W,k)}Ge.parseDatabaseUrl=a;function s(w){if(typeof w!="string")return null;var E=i(w.split("?"),2),R=E[1];return R}function c(w){return w=w.trim(),w.includes("://")?{schemeMissing:!1,url:w}:{schemeMissing:!0,url:"none://".concat(w)}}function h(w){return w!=null?(w=w.trim(),w.charAt(w.length-1)===":"&&(w=w.substring(0,w.length-1)),w):null}function l(w,E){if(w==null)throw new Error("Unable to extract host from null or undefined URL");return w.trim()}function m(w,E){var R=typeof w=="string"?parseInt(w,10):w;return R!=null&&!isNaN(R)?R:g(E)}function _(w,E){var R=w!=null?y(w):null,A={};return R!=null&&R.split("&").forEach(function(B){var D=B.split("=");if(D.length!==2)throw new Error("Invalid parameters: '".concat(D.toString(),"' in URL '").concat(E,"'."));var q=d(D[0],"key",E),F=d(D[1],"value",E);if(A[q]!==void 0)throw new Error("Duplicated query parameters with key '".concat(q,"' in URL '").concat(E,"'"));A[q]=F}),A}function y(w){return w=(w??"").trim(),(w==null?void 0:w.charAt(0))==="?"&&(w=w.substring(1,w.length)),w}function d(w,E,R){if(w=(w??"").trim(),w==="")throw new Error("Illegal empty ".concat(E," in URL query '").concat(R,"'"));return w}function f(w){var E=w.charAt(0)==="[",R=w.charAt(w.length-1)==="]";if(!E&&!R)return"[".concat(w,"]");if(E&&R)return w;throw new Error("Illegal IPv6 address ".concat(w))}function v(w){if(w===""||w==null)throw new Error("Illegal host ".concat(w));var E=w.includes(":");return E?f(w):w}function p(w,E){return"".concat(w,":").concat(E)}Ge.formatIPv4Address=p;function b(w,E){var R=f(w);return"".concat(R,":").concat(E)}Ge.formatIPv6Address=b;function g(w){return w==="http"?n:w==="https"?r:o}Ge.defaultPortForScheme=g;function O(w){function E(F,W){var k=F.indexOf(W);return k>=0?[F.substring(0,k),F[k],F.substring(k+1)]:[F,"",""]}function R(F,W){var k=F.lastIndexOf(W);return k>=0?[F.substring(0,k),F[k],F.substring(k+1)]:["","",F]}function A(F,W,k){var j=E(F,W),V=E(j[2],k);return[V[0],V[2]]}function B(F){var W={},k;k=R(F,"@"),k[1]==="@"&&(W.userInfo=decodeURIComponent(k[0]),F=k[2]);var j=i(A(F,"[","]"),2),V=j[0],Y=j[1];return V!==""?(W.host=V,k=E(Y,":")):(k=E(F,":"),W.host=k[0]),k[1]===":"&&(W.port=k[2]),W}var D={},q;return q=E(w,":"),q[1]===":"&&(D.scheme=decodeURIComponent(q[0]),w=q[2]),q=E(w,"#"),q[1]==="#"&&(D.fragment=decodeURIComponent(q[2]),w=q[0]),q=E(w,"?"),q[1]==="?"&&(D.query=q[2],w=q[0]),w.startsWith("//")?(q=E(w.substr(2),"/"),D=e(e({},D),B(q[0])),D.path=q[1]+q[2]):D.path=w,D}return Ge}var jt={},Ul;function ey(){if(Ul)return jt;Ul=1;var e=P&&P.__createBinding||(Object.create?function(t,a,s,c){c===void 0&&(c=s);var h=Object.getOwnPropertyDescriptor(a,s);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(t,c,h)}:function(t,a,s,c){c===void 0&&(c=s),t[c]=a[s]}),i=P&&P.__setModuleDefault||(Object.create?function(t,a){Object.defineProperty(t,"default",{enumerable:!0,value:a})}:function(t,a){t.default=a}),u=P&&P.__importStar||function(t){if(t&&t.__esModule)return t;var a={};if(t!=null)for(var s in t)s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)&&e(a,t,s);return i(a,t),a};Object.defineProperty(jt,"__esModule",{value:!0}),jt.ServerAddress=void 0;var o=er(),n=u(J_()),r=function(){function t(a,s,c,h){this._host=(0,o.assertString)(a,"host"),this._resolved=s!=null?(0,o.assertString)(s,"resolved"):null,this._port=(0,o.assertNumber)(c,"port"),this._hostPort=h,this._stringValue=s!=null?"".concat(h,"(").concat(s,")"):"".concat(h)}return t.prototype.host=function(){return this._host},t.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},t.prototype.port=function(){return this._port},t.prototype.resolveWith=function(a){return new t(this._host,a,this._port,this._hostPort)},t.prototype.asHostPort=function(){return this._hostPort},t.prototype.asKey=function(){return this._hostPort},t.prototype.toString=function(){return this._stringValue},t.fromUrl=function(a){var s=n.parseDatabaseUrl(a);return new t(s.host,null,s.port,s.hostAndPort)},t}();return jt.ServerAddress=r,jt}var kr={},Ta={},xl;function A0(){if(xl)return Ta;xl=1,Object.defineProperty(Ta,"__esModule",{value:!0});var e=function(){function i(){}return i.prototype.resolve=function(){throw new Error("Abstract function")},i.prototype._resolveToItself=function(u){return Promise.resolve([u])},i}();return Ta.default=e,Ta}var Pa={},Fl;function ry(){if(Fl)return Pa;Fl=1,Object.defineProperty(Pa,"__esModule",{value:!0});var e=ey();function i(o){return Promise.resolve([o])}var u=function(){function o(n){this._resolverFunction=n??i}return o.prototype.resolve=function(n){var r=this;return new Promise(function(t){return t(r._resolverFunction(n.asHostPort()))}).then(function(t){if(!Array.isArray(t))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(t));return t.map(function(a){return e.ServerAddress.fromUrl(a)})})},o}();return Pa.default=u,Pa}var Bl;function j0(){if(Bl)return kr;Bl=1;var e=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.ConfiguredCustomResolver=kr.BaseHostNameResolver=void 0;var i=e(A0());kr.BaseHostNameResolver=i.default;var u=e(ry());return kr.ConfiguredCustomResolver=u.default,kr}var Wl;function ty(){if(Wl)return _e;Wl=1;var e=P&&P.__createBinding||(Object.create?function(f,v,p,b){b===void 0&&(b=p);var g=Object.getOwnPropertyDescriptor(v,p);(!g||("get"in g?!v.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(f,b,g)}:function(f,v,p,b){b===void 0&&(b=p),f[b]=v[p]}),i=P&&P.__setModuleDefault||(Object.create?function(f,v){Object.defineProperty(f,"default",{enumerable:!0,value:v})}:function(f,v){f.default=v}),u=P&&P.__importStar||function(f){if(f&&f.__esModule)return f;var v={};if(f!=null)for(var p in f)p!=="default"&&Object.prototype.hasOwnProperty.call(f,p)&&e(v,f,p);return i(v,f),v};Object.defineProperty(_e,"__esModule",{value:!0}),_e.objectUtil=_e.resolver=_e.serverAddress=_e.urlUtil=_e.logger=_e.transactionExecutor=_e.txConfig=_e.connectionHolder=_e.constants=_e.bookmarks=_e.observer=_e.temporalUtil=_e.util=void 0;var o=u(er());_e.util=o;var n=u(K_());_e.temporalUtil=n;var r=u(cc());_e.observer=r;var t=u(va());_e.bookmarks=t;var a=u(Mu());_e.constants=a;var s=u(lc());_e.connectionHolder=s;var c=u(fc());_e.txConfig=c;var h=u(Q_());_e.transactionExecutor=h;var l=u(X_());_e.logger=l;var m=u(J_());_e.urlUtil=m;var _=u(ey());_e.serverAddress=_;var y=u(j0());_e.resolver=y;var d=u(G_());return _e.objectUtil=d,_e}var Vl;function dc(){if(Vl)return Sa;Vl=1;var e=P&&P.__awaiter||function(_,y,d,f){function v(p){return p instanceof d?p:new d(function(b){b(p)})}return new(d||(d=Promise))(function(p,b){function g(E){try{w(f.next(E))}catch(R){b(R)}}function O(E){try{w(f.throw(E))}catch(R){b(R)}}function w(E){E.done?p(E.value):v(E.value).then(g,O)}w((f=f.apply(_,y||[])).next())})},i=P&&P.__generator||function(_,y){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,v,p,b;return b={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function g(w){return function(E){return O([w,E])}}function O(w){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,v&&(p=w[0]&2?v.return:w[0]?v.throw||((p=v.return)&&p.call(v),0):v.next)&&!(p=p.call(v,w[1])).done)return p;switch(v=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,v=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=y.call(_,d)}catch(E){w=[6,E],v=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},u=P&&P.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Sa,"__esModule",{value:!0});var o=u(Z_()),n=ty(),r=Je(),t=n.connectionHolder.EMPTY_CONNECTION_HOLDER,a=function(_){console.log("Uncaught error when processing result: "+_)},s=function(_){},c=function(_){},h=function(){function _(y,d,f,v,p){p===void 0&&(p={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this._stack=l(),this._streamObserverPromise=y,this._p=null,this._query=d,this._parameters=f??{},this._connectionHolder=v??t,this._keys=null,this._summary=null,this._error=null,this._watermarks=p}return _.prototype.keys=function(){var y=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(d,f){y._streamObserverPromise.then(function(v){return v.subscribe(y._decorateObserver({onKeys:function(p){return d(p)},onError:function(p){return f(p)}}))}).catch(f)})},_.prototype.summary=function(){var y=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(d,f){y._streamObserverPromise.then(function(v){v.cancel(),v.subscribe(y._decorateObserver({onCompleted:function(p){return d(p)},onError:function(p){return f(p)}}))}).catch(f)})},_.prototype._getOrCreatePromise=function(){var y=this;return this._p==null&&(this._p=new Promise(function(d,f){var v=[],p={onNext:function(b){v.push(b)},onCompleted:function(b){d({records:v,summary:b})},onError:function(b){f(b)}};y.subscribe(p)})),this._p},_.prototype[Symbol.asyncIterator]=function(){var y=this;if(!this.isOpen()){var d=(0,r.newError)("Result is already consumed");return{next:function(){return Promise.reject(d)},peek:function(){return Promise.reject(d)}}}var f={paused:!0,firstRun:!0,finished:!1},v=function(){var g,O;if(f.streaming!=null){var w=(O=(g=f.queuedObserver)===null||g===void 0?void 0:g.size)!==null&&O!==void 0?O:0,E=w>=y._watermarks.high,R=w<=y._watermarks.low;E&&!f.paused?(f.paused=!0,f.streaming.pause()):(R&&f.paused||f.firstRun&&!E)&&(f.firstRun=!1,f.paused=!1,f.streaming.resume())}},p=function(){return e(y,void 0,void 0,function(){var g;return i(this,function(O){switch(O.label){case 0:return f.queuedObserver!==void 0?[3,2]:(f.queuedObserver=this._createQueuedResultObserver(v),g=f,[4,this._subscribe(f.queuedObserver,!0).catch(function(){})]);case 1:g.streaming=O.sent(),v(),O.label=2;case 2:return[2,f.queuedObserver]}})})},b=function(g){if(g===void 0)throw(0,r.newError)("InvalidState: Result stream finished without Summary",r.PROTOCOL_ERROR);return!0};return{next:function(){return e(y,void 0,void 0,function(){var g,O;return i(this,function(w){switch(w.label){case 0:return f.finished&&b(f.summary)?[2,{done:!0,value:f.summary}]:[4,p()];case 1:return g=w.sent(),[4,g.dequeue()];case 2:return O=w.sent(),O.done===!0&&(f.finished=O.done,f.summary=O.value),[2,O]}})})},return:function(g){return e(y,void 0,void 0,function(){var O,w,E;return i(this,function(R){switch(R.label){case 0:return f.finished&&b(f.summary)?[2,{done:!0,value:g??f.summary}]:((E=f.streaming)===null||E===void 0||E.cancel(),[4,p()]);case 1:return O=R.sent(),[4,O.dequeueUntilDone()];case 2:return w=R.sent(),f.finished=!0,w.value=g??w.value,f.summary=w.value,[2,w]}})})},peek:function(){return e(y,void 0,void 0,function(){var g;return i(this,function(O){switch(O.label){case 0:return f.finished&&b(f.summary)?[2,{done:!0,value:f.summary}]:[4,p()];case 1:return g=O.sent(),[4,g.head()];case 2:return[2,O.sent()]}})})}}},_.prototype.then=function(y,d){return this._getOrCreatePromise().then(y,d)},_.prototype.catch=function(y){return this._getOrCreatePromise().catch(y)},_.prototype.finally=function(y){return this._getOrCreatePromise().finally(y)},_.prototype.subscribe=function(y){this._subscribe(y).catch(function(){})},_.prototype.isOpen=function(){return this._summary===null&&this._error===null},_.prototype._subscribe=function(y,d){d===void 0&&(d=!1);var f=this._decorateObserver(y);return this._streamObserverPromise.then(function(v){return d&&v.pause(),v.subscribe(f),v}).catch(function(v){return f.onError!=null&&f.onError(v),Promise.reject(v)})},_.prototype._decorateObserver=function(y){var d=this,f,v,p,b=(f=y.onCompleted)!==null&&f!==void 0?f:s,g=(v=y.onError)!==null&&v!==void 0?v:a,O=(p=y.onKeys)!==null&&p!==void 0?p:c,w=function(A){d._releaseConnectionAndGetSummary(A).then(function(B){return d._summary!==null?b.call(y,d._summary):(d._summary=B,b.call(y,B))}).catch(g)},E=function(A){d._connectionHolder.releaseConnection().then(function(){m(A,d._stack),d._error=A,g.call(y,A)}).catch(g)},R=function(A){return d._keys=A,O.call(y,A)};return{onNext:y.onNext!=null?y.onNext.bind(y):void 0,onKeys:R,onCompleted:w,onError:E}},_.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(y){return y.cancel()}).catch(function(){})},_.prototype._releaseConnectionAndGetSummary=function(y){var d=n.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),f=d.validatedQuery,v=d.params,p=this._connectionHolder;return p.getConnection().then(function(b){return p.releaseConnection().then(function(){var g;return(g=b==null?void 0:b.protocol())===null||g===void 0?void 0:g.version})},function(b){}).then(function(b){return new o.default(f,v,y,b)})},_.prototype._createQueuedResultObserver=function(y){var d=this;function f(){var w={};return w.promise=new Promise(function(E,R){w.resolve=E,w.reject=R}),w}function v(w){return w instanceof Error}function p(){var w;return e(this,void 0,void 0,function(){var E;return i(this,function(R){switch(R.label){case 0:if(b.length>0){if(E=(w=b.shift())!==null&&w!==void 0?w:(0,r.newError)("Unexpected empty buffer",r.PROTOCOL_ERROR),y(),v(E))throw E;return[2,E]}return g.resolvable=f(),[4,g.resolvable.promise];case 1:return[2,R.sent()]}})})}var b=[],g={resolvable:null},O={onNext:function(w){O._push({done:!1,value:w})},onCompleted:function(w){O._push({done:!0,value:w})},onError:function(w){O._push(w)},_push:function(w){if(g.resolvable!==null){var E=g.resolvable;g.resolvable=null,v(w)?E.reject(w):E.resolve(w)}else b.push(w),y()},dequeue:p,dequeueUntilDone:function(){return e(d,void 0,void 0,function(){var w;return i(this,function(E){switch(E.label){case 0:return[4,p()];case 1:return w=E.sent(),w.done===!0?[2,w]:[3,0];case 2:return[2]}})})},head:function(){return e(d,void 0,void 0,function(){var w,w,E;return i(this,function(R){switch(R.label){case 0:if(b.length>0){if(w=b[0],v(w))throw w;return[2,w]}g.resolvable=f(),R.label=1;case 1:return R.trys.push([1,3,4,5]),[4,g.resolvable.promise];case 2:return w=R.sent(),b.unshift(w),[2,w];case 3:throw E=R.sent(),b.unshift(E),E;case 4:return y(),[7];case 5:return[2]}})})},get size(){return b.length}};return O},_}();function l(){var _=new Error("");return _.stack!=null?_.stack.replace(/^Error(\n\r)*/,""):null}function m(_,y){y!=null&&(_.stack=_.toString()+`
`+y)}return Sa.default=h,Sa}var Ra={},$l;function M0(){if($l)return Ra;$l=1,Object.defineProperty(Ra,"__esModule",{value:!0});var e=function(){function i(){}return i.prototype.acquireConnection=function(u){throw Error("Not implemented")},i.prototype.supportsMultiDb=function(){throw Error("Not implemented")},i.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},i.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},i.prototype.verifyConnectivityAndGetServerInfo=function(u){throw Error("Not implemented")},i.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},i.prototype.close=function(){throw Error("Not implemented")},i}();return Ra.default=e,Ra}var Ia={},Hl;function N0(){if(Hl)return Ia;Hl=1,Object.defineProperty(Ia,"__esModule",{value:!0});var e=function(){function i(){}return Object.defineProperty(i.prototype,"id",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"databaseId",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"server",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"address",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){},enumerable:!1,configurable:!0}),i.prototype.isOpen=function(){return!1},i.prototype.protocol=function(){throw Error("Not implemented")},i.prototype.connect=function(u,o){throw Error("Not implemented")},i.prototype.write=function(u,o,n){throw Error("Not implemented")},i.prototype.resetAndFlush=function(){throw Error("Not implemented")},i.prototype.hasOngoingObservableRequests=function(){throw Error("Not implemented")},i.prototype.close=function(){throw Error("Not implemented")},i.prototype._release=function(){return Promise.resolve()},i}();return Ia.default=e,Ia}var Ca={},zl;function ny(){if(zl)return Ca;zl=1;var e=P&&P.__awaiter||function(y,d,f,v){function p(b){return b instanceof f?b:new f(function(g){g(b)})}return new(f||(f=Promise))(function(b,g){function O(R){try{E(v.next(R))}catch(A){g(A)}}function w(R){try{E(v.throw(R))}catch(A){g(A)}}function E(R){R.done?b(R.value):p(R.value).then(O,w)}E((v=v.apply(y,d||[])).next())})},i=P&&P.__generator||function(y,d){var f={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},v,p,b,g;return g={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function O(E){return function(R){return w([E,R])}}function w(E){if(v)throw new TypeError("Generator is already executing.");for(;f;)try{if(v=1,p&&(b=E[0]&2?p.return:E[0]?p.throw||((b=p.return)&&b.call(p),0):p.next)&&!(b=b.call(p,E[1])).done)return b;switch(p=0,b&&(E=[E[0]&2,b.value]),E[0]){case 0:case 1:b=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,p=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(b=f.trys,!(b=b.length>0&&b[b.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!b||E[1]>b[0]&&E[1]<b[3])){f.label=E[1];break}if(E[0]===6&&f.label<b[1]){f.label=b[1],b=E;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(E);break}b[2]&&f.ops.pop(),f.trys.pop();continue}E=d.call(y,f)}catch(R){E=[6,R],p=0}finally{v=b=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},u=P&&P.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Ca,"__esModule",{value:!0});var o=er(),n=lc(),r=va(),t=fc(),a=cc(),s=Je(),c=u(dc()),h=function(){function y(d){var f=d.connectionHolder,v=d.onClose,p=d.onBookmarks,b=d.onConnection,g=d.reactive,O=d.fetchSize,w=d.impersonatedUser,E=d.highRecordWatermark,R=d.lowRecordWatermark,A=this;this._connectionHolder=f,this._reactive=g,this._state=l.ACTIVE,this._onClose=v,this._onBookmarks=p,this._onConnection=b,this._onError=this._onErrorCallback.bind(this),this._fetchSize=O,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=w,this._lowRecordWatermak=R,this._highRecordWatermark=E,this._bookmarks=r.Bookmarks.empty(),this._acceptActive=function(){},this._activePromise=new Promise(function(B,D){A._acceptActive=B})}return y.prototype._begin=function(d,f,v){var p=this;this._connectionHolder.getConnection().then(function(b){return e(p,void 0,void 0,function(){var g,O=this;return i(this,function(w){switch(w.label){case 0:return this._onConnection(),b==null?[3,2]:(g=this,[4,d()]);case 1:return g._bookmarks=w.sent(),[2,b.protocol().beginTransaction({bookmarks:this._bookmarks,txConfig:f,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,beforeError:function(E){return v!=null&&v.onError(E),O._onError(E)},afterComplete:function(E){return v!=null&&v.onComplete(E),O._onComplete(E)}})];case 2:throw(0,s.newError)("No connection available")}})})}).catch(function(b){v!=null&&v.onError(b),p._onError(b).catch(function(){})}).finally(function(){return p._acceptActive()})},y.prototype.run=function(d,f){var v=(0,o.validateQueryAndParameters)(d,f),p=v.validatedQuery,b=v.params,g=this._state.run(p,b,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(g),g},y.prototype.commit=function(){var d=this,f=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(v){return d._onCompleteCallback(v,d._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=f.state,this._onClose(),new Promise(function(v,p){f.result.subscribe({onCompleted:function(){return v()},onError:function(b){return p(b)}})})},y.prototype.rollback=function(){var d=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=d.state,this._onClose(),new Promise(function(f,v){d.result.subscribe({onCompleted:function(){return f()},onError:function(p){return v(p)}})})},y.prototype.isOpen=function(){return this._state===l.ACTIVE},y.prototype.close=function(){return e(this,void 0,void 0,function(){return i(this,function(d){switch(d.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},y.prototype._onErrorCallback=function(){return this._state=l.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},y.prototype._onCompleteCallback=function(d,f){this._onBookmarks(new r.Bookmarks(d==null?void 0:d.bookmark),f??r.Bookmarks.empty(),d==null?void 0:d.db)},y}(),l={ACTIVE:{commit:function(y){var d=y.connectionHolder,f=y.onError,v=y.onComplete,p=y.onConnection,b=y.pendingResults,g=y.preparationJob;return{result:m(!0,d,f,v,p,b,g),state:l.SUCCEEDED}},rollback:function(y){var d=y.connectionHolder,f=y.onError,v=y.onComplete,p=y.onConnection,b=y.pendingResults,g=y.preparationJob;return{result:m(!1,d,f,v,p,b,g),state:l.ROLLED_BACK}},run:function(y,d,f){var v=f.connectionHolder,p=f.onError,b=f.onComplete,g=f.onConnection,O=f.reactive,w=f.fetchSize,E=f.highRecordWatermark,R=f.lowRecordWatermark,A=f.preparationJob,B=A??Promise.resolve(),D=v.getConnection().then(function(q){return B.then(function(){return q})}).then(function(q){if(g(),q!=null)return q.protocol().run(y,d,{bookmarks:r.Bookmarks.empty(),txConfig:t.TxConfig.empty(),beforeError:p,afterComplete:b,reactive:O,fetchSize:w,highRecordWatermark:E,lowRecordWatermark:R});throw(0,s.newError)("No connection available")}).catch(function(q){return new a.FailedObserver({error:q,onError:p})});return _(D,y,d,v,E,R)}},FAILED:{commit:function(y){var d=y.connectionHolder,f=y.onError;return y.onComplete,{result:_(new a.FailedObserver({error:(0,s.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:f}),"COMMIT",{},d,0,0),state:l.FAILED}},rollback:function(y){var d=y.connectionHolder;return y.onError,y.onComplete,{result:_(new a.CompletedObserver,"ROLLBACK",{},d,0,0),state:l.FAILED}},run:function(y,d,f){var v=f.connectionHolder,p=f.onError;return f.onComplete,_(new a.FailedObserver({error:(0,s.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:p}),y,d,v,0,0)}},SUCCEEDED:{commit:function(y){var d=y.connectionHolder,f=y.onError;return y.onComplete,{result:_(new a.FailedObserver({error:(0,s.newError)("Cannot commit this transaction, because it has already been committed."),onError:f}),"COMMIT",{},n.EMPTY_CONNECTION_HOLDER,0,0),state:l.SUCCEEDED,connectionHolder:d}},rollback:function(y){var d=y.connectionHolder,f=y.onError;return y.onComplete,{result:_(new a.FailedObserver({error:(0,s.newError)("Cannot rollback this transaction, because it has already been committed."),onError:f}),"ROLLBACK",{},n.EMPTY_CONNECTION_HOLDER,0,0),state:l.SUCCEEDED,connectionHolder:d}},run:function(y,d,f){var v=f.connectionHolder,p=f.onError;return f.onComplete,_(new a.FailedObserver({error:(0,s.newError)("Cannot run query in this transaction, because it has already been committed."),onError:p}),y,d,v,0,0)}},ROLLED_BACK:{commit:function(y){var d=y.connectionHolder,f=y.onError;return y.onComplete,{result:_(new a.FailedObserver({error:(0,s.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:f}),"COMMIT",{},d,0,0),state:l.ROLLED_BACK}},rollback:function(y){var d=y.connectionHolder;return y.onError,y.onComplete,{result:_(new a.FailedObserver({error:(0,s.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},d,0,0),state:l.ROLLED_BACK}},run:function(y,d,f){var v=f.connectionHolder,p=f.onError;return f.onComplete,_(new a.FailedObserver({error:(0,s.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:p}),y,d,v,0,0)}}};function m(y,d,f,v,p,b,g){var O=g??Promise.resolve(),w=d.getConnection().then(function(E){return O.then(function(){return E})}).then(function(E){return p(),b.forEach(function(R){return R._cancel()}),Promise.all(b.map(function(R){return R.summary()})).then(function(R){if(E!=null)return y?E.protocol().commitTransaction({beforeError:f,afterComplete:v}):E.protocol().rollbackTransaction({beforeError:f,afterComplete:v});throw(0,s.newError)("No connection available")})}).catch(function(E){return new a.FailedObserver({error:E,onError:f})});return new c.default(w,y?"COMMIT":"ROLLBACK",{},d,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function _(y,d,f,v,p,b){return v===void 0&&(v=n.EMPTY_CONNECTION_HOLDER),new c.default(Promise.resolve(y),d,f,new n.ReadOnlyConnectionHolder(v??n.EMPTY_CONNECTION_HOLDER),{low:b,high:p})}return Ca.default=h,Ca}var Aa={},Yl;function iy(){if(Yl)return Aa;Yl=1,Object.defineProperty(Aa,"__esModule",{value:!0});var e=function(){function i(u){var o=u.run;this._run=o}return i.fromTransaction=function(u){return new i({run:u.run.bind(u)})},i.prototype.run=function(u,o){return this._run(u,o)},i}();return Aa.default=e,Aa}var ja={},Gl;function oy(){if(Gl)return ja;Gl=1;var e=P&&P.__extends||function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(c[l]=h[l])},t(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function c(){this.constructor=a}a.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(t){for(var a,s=1,c=arguments.length;s<c;s++){a=arguments[s];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(t[h]=a[h])}return t},i.apply(this,arguments)},u=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o;Object.defineProperty(ja,"__esModule",{value:!0});var n=u(ny()),r=function(t){e(a,t);function a(s){var c=s.connectionHolder,h=s.onClose,l=s.onBookmarks,m=s.onConnection,_=s.reactive,y=s.fetchSize,d=s.impersonatedUser,f=s.highRecordWatermark,v=s.lowRecordWatermark,p=t.call(this,{connectionHolder:c,onClose:h,onBookmarks:l,onConnection:m,reactive:_,fetchSize:y,impersonatedUser:d,highRecordWatermark:f,lowRecordWatermark:v})||this;return p[o]="TransactionPromise",p}return a.prototype.then=function(s,c){return this._getOrCreateBeginPromise().then(s,c)},a.prototype.catch=function(s){return this._getOrCreateBeginPromise().catch(s)},a.prototype.finally=function(s){return this._getOrCreateBeginPromise().finally(s)},a.prototype._getOrCreateBeginPromise=function(){var s=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(c,h){s._resolve=c,s._reject=h,s._beginError!=null&&h(s._beginError),s._beginMetadata!=null&&c(s._toTransaction())})),this._beginPromise},a.prototype._toTransaction=function(){return i(i({},this),{run:t.prototype.run.bind(this),commit:t.prototype.commit.bind(this),rollback:t.prototype.rollback.bind(this),close:t.prototype.close.bind(this),isOpen:t.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},a.prototype._begin=function(s,c){return t.prototype._begin.call(this,s,c,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},a.prototype._onBeginError=function(s){this._beginError=s,this._reject!=null&&this._reject(s)},a.prototype._onBeginMetadata=function(s){this._beginMetadata=s??{},this._resolve!=null&&this._resolve(this._toTransaction())},a}(n.default);return o=Symbol.toStringTag,ja.default=r,ja}var Ma={},Kl;function ay(){if(Kl)return Ma;Kl=1;var e=P&&P.__awaiter||function(p,b,g,O){function w(E){return E instanceof g?E:new g(function(R){R(E)})}return new(g||(g=Promise))(function(E,R){function A(q){try{D(O.next(q))}catch(F){R(F)}}function B(q){try{D(O.throw(q))}catch(F){R(F)}}function D(q){q.done?E(q.value):w(q.value).then(A,B)}D((O=O.apply(p,b||[])).next())})},i=P&&P.__generator||function(p,b){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},O,w,E,R;return R={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function A(D){return function(q){return B([D,q])}}function B(D){if(O)throw new TypeError("Generator is already executing.");for(;g;)try{if(O=1,w&&(E=D[0]&2?w.return:D[0]?w.throw||((E=w.return)&&E.call(w),0):w.next)&&!(E=E.call(w,D[1])).done)return E;switch(w=0,E&&(D=[D[0]&2,E.value]),D[0]){case 0:case 1:E=D;break;case 4:return g.label++,{value:D[1],done:!1};case 5:g.label++,w=D[1],D=[0];continue;case 7:D=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(D[0]===6||D[0]===2)){g=0;continue}if(D[0]===3&&(!E||D[1]>E[0]&&D[1]<E[3])){g.label=D[1];break}if(D[0]===6&&g.label<E[1]){g.label=E[1],E=D;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(D);break}E[2]&&g.ops.pop(),g.trys.pop();continue}D=b.call(p,g)}catch(q){D=[6,q],w=0}finally{O=E=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},u=P&&P.__read||function(p,b){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var O=g.call(p),w,E=[],R;try{for(;(b===void 0||b-- >0)&&!(w=O.next()).done;)E.push(w.value)}catch(A){R={error:A}}finally{try{w&&!w.done&&(g=O.return)&&g.call(O)}finally{if(R)throw R.error}}return E},o=P&&P.__spreadArray||function(p,b,g){if(g||arguments.length===2)for(var O=0,w=b.length,E;O<w;O++)(E||!(O in b))&&(E||(E=Array.prototype.slice.call(b,0,O)),E[O]=b[O]);return p.concat(E||Array.prototype.slice.call(b))},n=P&&P.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ma,"__esModule",{value:!0});var r=cc(),t=er(),a=Mu(),s=Je(),c=n(dc()),h=lc(),l=Q_(),m=va(),_=fc(),y=n(oy()),d=n(iy()),f=function(){function p(b){var g=b.mode,O=b.connectionProvider,w=b.bookmarks,E=b.database,R=b.config,A=b.reactive,B=b.fetchSize,D=b.impersonatedUser,q=b.bookmarkManager;this._mode=g,this._database=E,this._reactive=A,this._fetchSize=B,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new h.ConnectionHolder({mode:a.ACCESS_MODE_READ,database:E,bookmarks:w,connectionProvider:O,impersonatedUser:D,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._writeConnectionHolder=new h.ConnectionHolder({mode:a.ACCESS_MODE_WRITE,database:E,bookmarks:w,connectionProvider:O,impersonatedUser:D,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._open=!0,this._hasTx=!1,this._impersonatedUser=D,this._lastBookmarks=w??m.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=v(R),this._databaseNameResolved=this._database!=="";var F=this._calculateWatermaks();this._lowRecordWatermark=F.low,this._highRecordWatermark=F.high,this._results=[],this._bookmarkManager=q}return p.prototype.run=function(b,g,O){var w=this,E=(0,t.validateQueryAndParameters)(b,g),R=E.validatedQuery,A=E.params,B=O!=null?new _.TxConfig(O):_.TxConfig.empty(),D=this._run(R,A,function(q){return e(w,void 0,void 0,function(){var F,W=this;return i(this,function(k){switch(k.label){case 0:return[4,this._bookmarks()];case 1:return F=k.sent(),this._assertSessionIsOpen(),[2,q.protocol().run(R,A,{bookmarks:F,txConfig:B,mode:this._mode,database:this._database,impersonatedUser:this._impersonatedUser,afterComplete:function(j){return W._onCompleteCallback(j,F)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark})]}})})});return this._results.push(D),D},p.prototype._run=function(b,g,O){var w=this._connectionHolderWithMode(this._mode),E;this._open?!this._hasTx&&w.initializeConnection()?E=w.getConnection().then(function(A){return O(A)}).catch(function(A){return Promise.resolve(new r.FailedObserver({error:A}))}):E=Promise.resolve(new r.FailedObserver({error:(0,s.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):E=Promise.resolve(new r.FailedObserver({error:(0,s.newError)("Cannot run query in a closed session.")}));var R={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new c.default(E,b,g,w,R)},p.prototype._acquireConnection=function(b){var g=this,O,w=this._connectionHolderWithMode(this._mode);return this._open?!this._hasTx&&w.initializeConnection()?O=w.getConnection().then(function(E){return b(E)}).then(function(E){return e(g,void 0,void 0,function(){return i(this,function(R){switch(R.label){case 0:return[4,w.releaseConnection()];case 1:return R.sent(),[2,E]}})})}):O=Promise.reject((0,s.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):O=Promise.reject((0,s.newError)("Cannot run query in a closed session.")),O},p.prototype.beginTransaction=function(b){var g=b,O=_.TxConfig.empty();return g!=null&&(O=new _.TxConfig(g)),this._beginTransaction(this._mode,O)},p.prototype._beginTransaction=function(b,g){var O=this;if(!this._open)throw(0,s.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,s.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var w=p._validateSessionMode(b),E=this._connectionHolderWithMode(w);E.initializeConnection(),this._hasTx=!0;var R=new y.default({connectionHolder:E,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(A,B,D){return O._updateBookmarks(A,B,D)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark});return R._begin(function(){return O._bookmarks()},g),R},p.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,s.newError)("You cannot run more transactions on a closed session.")},p.prototype._transactionClosed=function(){this._hasTx=!1},p.prototype.lastBookmark=function(){return this.lastBookmarks()},p.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},p.prototype._bookmarks=function(){var b;return e(this,void 0,void 0,function(){var g;return i(this,function(O){switch(O.label){case 0:return[4,(b=this._bookmarkManager)===null||b===void 0?void 0:b.getBookmarks()];case 1:return g=O.sent(),g===void 0?[2,this._lastBookmarks]:[2,new m.Bookmarks(o(o([],u(g),!1),u(this._configuredBookmarks),!1))]}})})},p.prototype.readTransaction=function(b,g){var O=new _.TxConfig(g);return this._runTransaction(a.ACCESS_MODE_READ,O,b)},p.prototype.writeTransaction=function(b,g){var O=new _.TxConfig(g);return this._runTransaction(a.ACCESS_MODE_WRITE,O,b)},p.prototype._runTransaction=function(b,g,O){var w=this;return this._transactionExecutor.execute(function(){return w._beginTransaction(b,g)},O)},p.prototype.executeRead=function(b,g){var O=new _.TxConfig(g);return this._executeInTransaction(a.ACCESS_MODE_READ,O,b)},p.prototype.executeWrite=function(b,g){var O=new _.TxConfig(g);return this._executeInTransaction(a.ACCESS_MODE_WRITE,O,b)},p.prototype._executeInTransaction=function(b,g,O){var w=this;return this._transactionExecutor.execute(function(){return w._beginTransaction(b,g)},O,d.default.fromTransaction)},p.prototype._onDatabaseNameResolved=function(b){if(!this._databaseNameResolved){var g=b??"";this._database=g,this._readConnectionHolder.setDatabase(g),this._writeConnectionHolder.setDatabase(g),this._databaseNameResolved=!0}},p.prototype._getConnectionAcquistionBookmarks=function(){var b;return e(this,void 0,void 0,function(){var g;return i(this,function(O){switch(O.label){case 0:return[4,(b=this._bookmarkManager)===null||b===void 0?void 0:b.getBookmarks()];case 1:return g=O.sent(),g===void 0?[2,this._lastBookmarks]:[2,new m.Bookmarks(o(o([],u(this._configuredBookmarks),!1),u(g),!1))]}})})},p.prototype._updateBookmarks=function(b,g,O){var w,E,R;b!=null&&!b.isEmpty()&&((w=this._bookmarkManager)===null||w===void 0||w.updateBookmarks((E=g==null?void 0:g.values())!==null&&E!==void 0?E:[],(R=b==null?void 0:b.values())!==null&&R!==void 0?R:[]),this._lastBookmarks=b,this._configuredBookmarks=m.Bookmarks.empty())},p.prototype.close=function(){return e(this,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(g){return g._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return b.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:b.sent(),b.label=3;case 3:return[2]}})})},p.prototype._connectionHolderWithMode=function(b){if(b===a.ACCESS_MODE_READ)return this._readConnectionHolder;if(b===a.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,s.newError)("Unknown access mode: "+b)},p.prototype._onCompleteCallback=function(b,g){this._updateBookmarks(new m.Bookmarks(b.bookmark),g,b.db)},p.prototype._calculateWatermaks=function(){return this._fetchSize===a.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},p._validateSessionMode=function(b){var g=b??a.ACCESS_MODE_WRITE;if(g!==a.ACCESS_MODE_READ&&g!==a.ACCESS_MODE_WRITE)throw(0,s.newError)("Illegal session mode "+g);return g},p}();function v(p){var b,g=(b=p==null?void 0:p.maxTransactionRetryTime)!==null&&b!==void 0?b:null;return new l.TransactionExecutor(g)}return Ma.default=f,Ma}var Xe={},Zl;function Ql(){if(Zl)return Xe;Zl=1;var e=P&&P.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.SessionConfig=Xe.WRITE=Xe.READ=Xe.Driver=void 0;var i=va(),u=e(ry()),o=Mu(),n=X_(),r=e(ay()),t=er(),a=60*60*1e3,s=1e3,c=o.ACCESS_MODE_READ;Xe.READ=c;var h=o.ACCESS_MODE_WRITE;Xe.WRITE=h;var l=0,m=function(){function g(){this.defaultAccessMode=h,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0}return g}();Xe.SessionConfig=m;var _=function(){function g(O,w,E,R){w===void 0&&(w={}),R===void 0&&(R=function(B){return new r.default(B)}),d(w);var A=n.Logger.create(w);y(w,A),this._id=l++,this._meta=O,this._config=w,this._log=A,this._createConnectionProvider=E,this._createSession=R,this._connectionProvider=null,this._afterConstruction()}return g.prototype.verifyConnectivity=function(O){var w=O===void 0?{}:O,E=w.database,R=E===void 0?"":E,A=this._getOrCreateConnectionProvider();return A.verifyConnectivityAndGetServerInfo({database:R,accessMode:c})},g.prototype.getServerInfo=function(O){var w=O===void 0?{}:O,E=w.database,R=E===void 0?"":E,A=this._getOrCreateConnectionProvider();return A.verifyConnectivityAndGetServerInfo({database:R,accessMode:c})},g.prototype.supportsMultiDb=function(){var O=this._getOrCreateConnectionProvider();return O.supportsMultiDb()},g.prototype.supportsTransactionConfig=function(){var O=this._getOrCreateConnectionProvider();return O.supportsTransactionConfig()},g.prototype.supportsUserImpersonation=function(){var O=this._getOrCreateConnectionProvider();return O.supportsUserImpersonation()},g.prototype.getNegotiatedProtocolVersion=function(){var O=this._getOrCreateConnectionProvider();return O.getNegotiatedProtocolVersion()},g.prototype.isEncrypted=function(){return this._isEncrypted()},g.prototype._supportsRouting=function(){return this._meta.routing},g.prototype._isEncrypted=function(){return this._config.encrypted===t.ENCRYPTION_ON||this._config.encrypted===!0},g.prototype._getTrust=function(){return this._config.trust},g.prototype.session=function(O){var w=O===void 0?{}:O,E=w.defaultAccessMode,R=E===void 0?h:E,A=w.bookmarks,B=w.database,D=B===void 0?"":B,q=w.impersonatedUser,F=w.fetchSize,W=w.bookmarkManager;return this._newSession({defaultAccessMode:R,bookmarkOrBookmarks:A,database:D,reactive:!1,impersonatedUser:q,fetchSize:v(F,this._config.fetchSize),bookmarkManager:W})},g.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},g.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},g.prototype._newSession=function(O){var w=O.defaultAccessMode,E=O.bookmarkOrBookmarks,R=O.database,A=O.reactive,B=O.impersonatedUser,D=O.fetchSize,q=O.bookmarkManager,F=r.default._validateSessionMode(w),W=this._getOrCreateConnectionProvider(),k=E!=null?new i.Bookmarks(E):i.Bookmarks.empty();return this._createSession({mode:F,database:R??"",connectionProvider:W,bookmarks:k,config:this._config,reactive:A,impersonatedUser:B,fetchSize:D,bookmarkManager:q})},g.prototype._getOrCreateConnectionProvider=function(){return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,b(this._config))),this._connectionProvider},g}();Xe.Driver=_;function y(g,O){var w=g.resolver;if(w!=null&&typeof w!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof w));return g.connectionAcquisitionTimeout<g.connectionTimeout&&O.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),g}function d(g){g.maxConnectionLifetime=f(g.maxConnectionLifetime,a),g.maxConnectionPoolSize=f(g.maxConnectionPoolSize,o.DEFAULT_POOL_MAX_SIZE),g.connectionAcquisitionTimeout=f(g.connectionAcquisitionTimeout,o.DEFAULT_POOL_ACQUISITION_TIMEOUT),g.fetchSize=v(g.fetchSize,s),g.connectionTimeout=p(g)}function f(g,O){var w=parseInt(g,10);return w>0||w===0?w:w<0?Number.MAX_SAFE_INTEGER:O}function v(g,O){var w=parseInt(g,10);if(w>0||w===o.FETCH_ALL)return w;if(w===0||w<0)throw new Error("The fetch size can only be a positive value or ".concat(o.FETCH_ALL," for ALL. However fetchSize = ").concat(w));return O}function p(g){var O=parseInt(g.connectionTimeout,10);return O===0||!isNaN(O)&&O<0?null:isNaN(O)?o.DEFAULT_CONNECTION_TIMEOUT_MILLIS:O}function b(g){return new u.default(g.resolver)}return Xe.default=_,Xe}var Na={},Xl;function k0(){if(Xl)return Na;Xl=1,Object.defineProperty(Na,"__esModule",{value:!0});var e={basic:function(u,o,n){return n!=null?{scheme:"basic",principal:u,credentials:o,realm:n}:{scheme:"basic",principal:u,credentials:o}},kerberos:function(u){return{scheme:"kerberos",principal:"",credentials:u}},bearer:function(u){return{scheme:"bearer",credentials:u}},custom:function(u,o,n,r,t){var a={scheme:r,principal:u};return i(o)&&(a.credentials=o),i(n)&&(a.realm=n),i(t)&&(a.parameters=t),a}};function i(u){return!(u==null||u===""||Object.getPrototypeOf(u)===Object.prototype&&Object.keys(u).length===0)}return Na.default=e,Na}var lt={},Jl;function D0(){if(Jl)return lt;Jl=1;var e=P&&P.__awaiter||function(s,c,h,l){function m(_){return _ instanceof h?_:new h(function(y){y(_)})}return new(h||(h=Promise))(function(_,y){function d(p){try{v(l.next(p))}catch(b){y(b)}}function f(p){try{v(l.throw(p))}catch(b){y(b)}}function v(p){p.done?_(p.value):m(p.value).then(d,f)}v((l=l.apply(s,c||[])).next())})},i=P&&P.__generator||function(s,c){var h={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},l,m,_,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(v){return function(p){return f([v,p])}}function f(v){if(l)throw new TypeError("Generator is already executing.");for(;h;)try{if(l=1,m&&(_=v[0]&2?m.return:v[0]?m.throw||((_=m.return)&&_.call(m),0):m.next)&&!(_=_.call(m,v[1])).done)return _;switch(m=0,_&&(v=[v[0]&2,_.value]),v[0]){case 0:case 1:_=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,m=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(_=h.trys,!(_=_.length>0&&_[_.length-1])&&(v[0]===6||v[0]===2)){h=0;continue}if(v[0]===3&&(!_||v[1]>_[0]&&v[1]<_[3])){h.label=v[1];break}if(v[0]===6&&h.label<_[1]){h.label=_[1],_=v;break}if(_&&h.label<_[2]){h.label=_[2],h.ops.push(v);break}_[2]&&h.ops.pop(),h.trys.pop();continue}v=c.call(s,h)}catch(p){v=[6,p],m=0}finally{l=_=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},u=P&&P.__values||function(s){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&s[c],l=0;if(h)return h.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},o=P&&P.__read||function(s,c){var h=typeof Symbol=="function"&&s[Symbol.iterator];if(!h)return s;var l=h.call(s),m,_=[],y;try{for(;(c===void 0||c-- >0)&&!(m=l.next()).done;)_.push(m.value)}catch(d){y={error:d}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(y)throw y.error}}return _},n=P&&P.__spreadArray||function(s,c,h){if(h||arguments.length===2)for(var l=0,m=c.length,_;l<m;l++)(_||!(l in c))&&(_||(_=Array.prototype.slice.call(c,0,l)),_[l]=c[l]);return s.concat(_||Array.prototype.slice.call(c))};Object.defineProperty(lt,"__esModule",{value:!0}),lt.bookmarkManager=void 0;var r=function(){function s(){throw new Error("Not implemented")}return s.prototype.updateBookmarks=function(c,h){return e(this,void 0,void 0,function(){return i(this,function(l){throw new Error("Not implemented")})})},s.prototype.getBookmarks=function(){return e(this,void 0,void 0,function(){return i(this,function(c){throw new Error("Not implemented")})})},s}();lt.default=r;function t(s){s===void 0&&(s={});var c=new Set(s.initialBookmarks);return new a(c,s.bookmarksSupplier,s.bookmarksConsumer)}lt.bookmarkManager=t;var a=function(){function s(c,h,l){this._bookmarks=c,this._bookmarksSupplier=h,this._bookmarksConsumer=l}return s.prototype.updateBookmarks=function(c,h){return e(this,void 0,void 0,function(){var l,m,_,f,y,d,f,v,p,b,g;return i(this,function(O){switch(O.label){case 0:l=this._bookmarks;try{for(m=u(c),_=m.next();!_.done;_=m.next())f=_.value,l.delete(f)}catch(w){v={error:w}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(v)throw v.error}}try{for(y=u(h),d=y.next();!d.done;d=y.next())f=d.value,l.add(f)}catch(w){b={error:w}}finally{try{d&&!d.done&&(g=y.return)&&g.call(y)}finally{if(b)throw b.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(n([],o(l),!1))];case 1:O.sent(),O.label=2;case 2:return[2]}})})},s.prototype.getBookmarks=function(){var c;return e(this,void 0,void 0,function(){var h,l,m,_,y,d,f;return i(this,function(v){switch(v.label){case 0:return h=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:l=(c=v.sent())!==null&&c!==void 0?c:[];try{for(m=u(l),_=m.next();!_.done;_=m.next())y=_.value,h.add(y)}catch(p){d={error:p}}finally{try{_&&!_.done&&(f=m.return)&&f.call(m)}finally{if(d)throw d.error}}v.label=2;case 2:return[2,n([],o(h),!1)]}})})},s}();return lt}var bs={},ef;function q0(){return ef||(ef=1,Object.defineProperty(bs,"__esModule",{value:!0})),bs}var rf;function se(){return rf||(rf=1,function(e){var i=P&&P.__createBinding||(Object.create?function(q,F,W,k){k===void 0&&(k=W);var j=Object.getOwnPropertyDescriptor(F,W);(!j||("get"in j?!F.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return F[W]}}),Object.defineProperty(q,k,j)}:function(q,F,W,k){k===void 0&&(k=W),q[k]=F[W]}),u=P&&P.__setModuleDefault||(Object.create?function(q,F){Object.defineProperty(q,"default",{enumerable:!0,value:F})}:function(q,F){q.default=F}),o=P&&P.__importStar||function(q){if(q&&q.__esModule)return q;var F={};if(q!=null)for(var W in q)W!=="default"&&Object.prototype.hasOwnProperty.call(q,W)&&i(F,q,W);return u(F,q),F},n=P&&P.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.ConnectionProvider=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.Neo4jError=e.newError=void 0,e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=void 0;var r=Je();Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return r.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return r.Neo4jError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return r.isRetriableError}});var t=o(bt());e.Integer=t.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return t.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return t.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return t.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return t.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return t.toString}});var a=P0();Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return a.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return a.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return a.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return a.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return a.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return a.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return a.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return a.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return a.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return a.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return a.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return a.Time}});var s=R0();Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}});var c=n(I0());e.Record=c.default;var h=C0();Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h.Point}});var l=o(Z_());e.ResultSummary=l.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return l.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return l.ServerInfo}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return l.Notification}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return l.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return l.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return l.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return l.Stats}});var m=n(dc());e.Result=m.default;var _=n(M0());e.ConnectionProvider=_.default;var y=n(N0());e.Connection=y.default;var d=n(ny());e.Transaction=d.default;var f=n(iy());e.ManagedTransaction=f.default;var v=n(oy());e.TransactionPromise=v.default;var p=n(ay());e.Session=p.default;var b=o(Ql()),g=b;e.Driver=b.default,e.driver=g;var O=n(k0());e.auth=O.default;var w=o(D0());Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return w.bookmarkManager}}),Ql();var E=o(q0());e.types=E;var R=o(sc());e.json=R;var A=o(ty());e.internal=A;var B={SERVICE_UNAVAILABLE:r.SERVICE_UNAVAILABLE,SESSION_EXPIRED:r.SESSION_EXPIRED,PROTOCOL_ERROR:r.PROTOCOL_ERROR};e.error=B;var D={newError:r.newError,Neo4jError:r.Neo4jError,isRetriableError:r.isRetriableError,error:B,Integer:t.default,int:t.int,isInt:t.isInt,inSafeRange:t.inSafeRange,toNumber:t.toNumber,toString:t.toString,internal:A,isPoint:h.isPoint,Point:h.Point,Date:a.Date,DateTime:a.DateTime,Duration:a.Duration,isDate:a.isDate,isDateTime:a.isDateTime,isDuration:a.isDuration,isLocalDateTime:a.isLocalDateTime,isLocalTime:a.isLocalTime,isTime:a.isTime,LocalDateTime:a.LocalDateTime,LocalTime:a.LocalTime,Time:a.Time,Node:s.Node,isNode:s.isNode,Relationship:s.Relationship,isRelationship:s.isRelationship,UnboundRelationship:s.UnboundRelationship,isUnboundRelationship:s.isUnboundRelationship,Path:s.Path,isPath:s.isPath,PathSegment:s.PathSegment,isPathSegment:s.isPathSegment,Record:c.default,ResultSummary:l.default,queryType:l.queryType,ServerInfo:l.ServerInfo,Notification:l.Notification,Plan:l.Plan,ProfiledPlan:l.ProfiledPlan,QueryStatistics:l.QueryStatistics,Stats:l.Stats,Result:m.default,Transaction:d.default,ManagedTransaction:f.default,TransactionPromise:v.default,Session:p.default,Driver:b.default,Connection:y.default,types:E,driver:g,json:R,auth:O.default,bookmarkManager:w.bookmarkManager};e.default=D}(ys)),ys}var gs={},Os={},Mt={},ws={},Nt={},tf;function ye(){if(tf)return Nt;tf=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.isFunction=void 0;function e(i){return typeof i=="function"}return Nt.isFunction=e,Nt}var hr={},kt={},Dt={},nf;function et(){if(nf)return Dt;nf=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.createErrorClass=void 0;function e(i){var u=function(n){Error.call(n),n.stack=new Error().stack},o=i(u);return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}return Dt.createErrorClass=e,Dt}var of;function uy(){if(of)return kt;of=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.UnsubscriptionError=void 0;var e=et();return kt.UnsubscriptionError=e.createErrorClass(function(i){return function(o){i(this),this.message=o?o.length+` errors occurred during unsubscription:
`+o.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=o}}),kt}var qt={},af;function Sr(){if(af)return qt;af=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.arrRemove=void 0;function e(i,u){if(i){var o=i.indexOf(u);0<=o&&i.splice(o,1)}}return qt.arrRemove=e,qt}var uf;function rr(){if(uf)return hr;uf=1;var e=P&&P.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,l=h&&c[h],m=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},i=P&&P.__read||function(c,h){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var m=l.call(c),_,y=[],d;try{for(;(h===void 0||h-- >0)&&!(_=m.next()).done;)y.push(_.value)}catch(f){d={error:f}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(d)throw d.error}}return y},u=P&&P.__spreadArray||function(c,h){for(var l=0,m=h.length,_=c.length;l<m;l++,_++)c[_]=h[l];return c};Object.defineProperty(hr,"__esModule",{value:!0}),hr.isSubscription=hr.EMPTY_SUBSCRIPTION=hr.Subscription=void 0;var o=ye(),n=uy(),r=Sr(),t=function(){function c(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}return c.prototype.unsubscribe=function(){var h,l,m,_,y;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var f=e(d),v=f.next();!v.done;v=f.next()){var p=v.value;p.remove(this)}}catch(R){h={error:R}}finally{try{v&&!v.done&&(l=f.return)&&l.call(f)}finally{if(h)throw h.error}}else d.remove(this);var b=this.initialTeardown;if(o.isFunction(b))try{b()}catch(R){y=R instanceof n.UnsubscriptionError?R.errors:[R]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var O=e(g),w=O.next();!w.done;w=O.next()){var E=w.value;try{s(E)}catch(R){y=y??[],R instanceof n.UnsubscriptionError?y=u(u([],i(y)),i(R.errors)):y.push(R)}}}catch(R){m={error:R}}finally{try{w&&!w.done&&(_=O.return)&&_.call(O)}finally{if(m)throw m.error}}}if(y)throw new n.UnsubscriptionError(y)}},c.prototype.add=function(h){var l;if(h&&h!==this)if(this.closed)s(h);else{if(h instanceof c){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=(l=this._finalizers)!==null&&l!==void 0?l:[]).push(h)}},c.prototype._hasParent=function(h){var l=this._parentage;return l===h||Array.isArray(l)&&l.includes(h)},c.prototype._addParent=function(h){var l=this._parentage;this._parentage=Array.isArray(l)?(l.push(h),l):l?[l,h]:h},c.prototype._removeParent=function(h){var l=this._parentage;l===h?this._parentage=null:Array.isArray(l)&&r.arrRemove(l,h)},c.prototype.remove=function(h){var l=this._finalizers;l&&r.arrRemove(l,h),h instanceof c&&h._removeParent(this)},c.EMPTY=function(){var h=new c;return h.closed=!0,h}(),c}();hr.Subscription=t,hr.EMPTY_SUBSCRIPTION=t.EMPTY;function a(c){return c instanceof t||c&&"closed"in c&&o.isFunction(c.remove)&&o.isFunction(c.add)&&o.isFunction(c.unsubscribe)}hr.isSubscription=a;function s(c){o.isFunction(c)?c():c.unsubscribe()}return hr}var Lt={},sf;function ha(){return sf||(sf=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.config=void 0,Lt.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}),Lt}var Ut={},Es={},cf;function sy(){return cf||(cf=1,function(e){var i=P&&P.__read||function(o,n){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var t=r.call(o),a,s=[],c;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)s.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(c)throw c.error}}return s},u=P&&P.__spreadArray||function(o,n){for(var r=0,t=n.length,a=o.length;r<t;r++,a++)o[a]=n[r];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(o,n){for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];var a=e.timeoutProvider.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,u([o,n],i(r))):setTimeout.apply(void 0,u([o,n],i(r)))},clearTimeout:function(o){var n=e.timeoutProvider.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(o)},delegate:void 0}}(Es)),Es}var lf;function cy(){if(lf)return Ut;lf=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.reportUnhandledError=void 0;var e=ha(),i=sy();function u(o){i.timeoutProvider.setTimeout(function(){var n=e.config.onUnhandledError;if(n)n(o);else throw o})}return Ut.reportUnhandledError=u,Ut}var xt={},ff;function xe(){if(ff)return xt;ff=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.noop=void 0;function e(){}return xt.noop=e,xt}var nr={},df;function L0(){if(df)return nr;df=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.createNotification=nr.nextNotification=nr.errorNotification=nr.COMPLETE_NOTIFICATION=void 0,nr.COMPLETE_NOTIFICATION=function(){return u("C",void 0,void 0)}();function e(o){return u("E",void 0,o)}nr.errorNotification=e;function i(o){return u("N",o,void 0)}nr.nextNotification=i;function u(o,n,r){return{kind:o,value:n,error:r}}return nr.createNotification=u,nr}var Dr={},vf;function vc(){if(vf)return Dr;vf=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.captureError=Dr.errorContext=void 0;var e=ha(),i=null;function u(n){if(e.config.useDeprecatedSynchronousErrorHandling){var r=!i;if(r&&(i={errorThrown:!1,error:null}),n(),r){var t=i,a=t.errorThrown,s=t.error;if(i=null,a)throw s}}else n()}Dr.errorContext=u;function o(n){e.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=n)}return Dr.captureError=o,Dr}var hf;function pa(){return hf||(hf=1,function(e){var i=P&&P.__extends||function(){var p=function(b,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,w){O.__proto__=w}||function(O,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(O[E]=w[E])},p(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(b,g);function O(){this.constructor=b}b.prototype=g===null?Object.create(g):(O.prototype=g.prototype,new O)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var u=ye(),o=rr(),n=ha(),r=cy(),t=xe(),a=L0(),s=sy(),c=vc(),h=function(p){i(b,p);function b(g){var O=p.call(this)||this;return O.isStopped=!1,g?(O.destination=g,o.isSubscription(g)&&g.add(O)):O.destination=e.EMPTY_OBSERVER,O}return b.create=function(g,O,w){return new y(g,O,w)},b.prototype.next=function(g){this.isStopped?v(a.nextNotification(g),this):this._next(g)},b.prototype.error=function(g){this.isStopped?v(a.errorNotification(g),this):(this.isStopped=!0,this._error(g))},b.prototype.complete=function(){this.isStopped?v(a.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,p.prototype.unsubscribe.call(this),this.destination=null)},b.prototype._next=function(g){this.destination.next(g)},b.prototype._error=function(g){try{this.destination.error(g)}finally{this.unsubscribe()}},b.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},b}(o.Subscription);e.Subscriber=h;var l=Function.prototype.bind;function m(p,b){return l.call(p,b)}var _=function(){function p(b){this.partialObserver=b}return p.prototype.next=function(b){var g=this.partialObserver;if(g.next)try{g.next(b)}catch(O){d(O)}},p.prototype.error=function(b){var g=this.partialObserver;if(g.error)try{g.error(b)}catch(O){d(O)}else d(b)},p.prototype.complete=function(){var b=this.partialObserver;if(b.complete)try{b.complete()}catch(g){d(g)}},p}(),y=function(p){i(b,p);function b(g,O,w){var E=p.call(this)||this,R;if(u.isFunction(g)||!g)R={next:g??void 0,error:O??void 0,complete:w??void 0};else{var A;E&&n.config.useDeprecatedNextContext?(A=Object.create(g),A.unsubscribe=function(){return E.unsubscribe()},R={next:g.next&&m(g.next,A),error:g.error&&m(g.error,A),complete:g.complete&&m(g.complete,A)}):R=g}return E.destination=new _(R),E}return b}(h);e.SafeSubscriber=y;function d(p){n.config.useDeprecatedSynchronousErrorHandling?c.captureError(p):r.reportUnhandledError(p)}function f(p){throw p}function v(p,b){var g=n.config.onStoppedNotification;g&&s.timeoutProvider.setTimeout(function(){return g(p,b)})}e.EMPTY_OBSERVER={closed:!0,next:t.noop,error:f,complete:t.noop}}(ws)),ws}var Ft={},pf;function Nu(){return pf||(pf=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.observable=void 0,Ft.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()),Ft}var qr={},Bt={},_f;function Fe(){if(_f)return Bt;_f=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.identity=void 0;function e(i){return i}return Bt.identity=e,Bt}var yf;function ku(){if(yf)return qr;yf=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.pipeFromArray=qr.pipe=void 0;var e=Fe();function i(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return u(o)}qr.pipe=i;function u(o){return o.length===0?e.identity:o.length===1?o[0]:function(r){return o.reduce(function(t,a){return a(t)},r)}}return qr.pipeFromArray=u,qr}var mf;function be(){if(mf)return Mt;mf=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Observable=void 0;var e=pa(),i=rr(),u=Nu(),o=ku(),n=ha(),r=ye(),t=vc(),a=function(){function l(m){m&&(this._subscribe=m)}return l.prototype.lift=function(m){var _=new l;return _.source=this,_.operator=m,_},l.prototype.subscribe=function(m,_,y){var d=this,f=h(m)?m:new e.SafeSubscriber(m,_,y);return t.errorContext(function(){var v=d,p=v.operator,b=v.source;f.add(p?p.call(f,b):b?d._subscribe(f):d._trySubscribe(f))}),f},l.prototype._trySubscribe=function(m){try{return this._subscribe(m)}catch(_){m.error(_)}},l.prototype.forEach=function(m,_){var y=this;return _=s(_),new _(function(d,f){var v=new e.SafeSubscriber({next:function(p){try{m(p)}catch(b){f(b),v.unsubscribe()}},error:f,complete:d});y.subscribe(v)})},l.prototype._subscribe=function(m){var _;return(_=this.source)===null||_===void 0?void 0:_.subscribe(m)},l.prototype[u.observable]=function(){return this},l.prototype.pipe=function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];return o.pipeFromArray(m)(this)},l.prototype.toPromise=function(m){var _=this;return m=s(m),new m(function(y,d){var f;_.subscribe(function(v){return f=v},function(v){return d(v)},function(){return y(f)})})},l.create=function(m){return new l(m)},l}();Mt.Observable=a;function s(l){var m;return(m=l??n.config.Promise)!==null&&m!==void 0?m:Promise}function c(l){return l&&r.isFunction(l.next)&&r.isFunction(l.error)&&r.isFunction(l.complete)}function h(l){return l&&l instanceof e.Subscriber||c(l)&&i.isSubscription(l)}return Mt}var Wt={},Vt={},Lr={},bf;function ne(){if(bf)return Lr;bf=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.operate=Lr.hasLift=void 0;var e=ye();function i(o){return e.isFunction(o==null?void 0:o.lift)}Lr.hasLift=i;function u(o){return function(n){if(i(n))return n.lift(function(r){try{return o(r,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}return Lr.operate=u,Lr}var Ur={},gf;function ae(){if(gf)return Ur;gf=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.OperatorSubscriber=Ur.createOperatorSubscriber=void 0;var i=pa();function u(n,r,t,a,s){return new o(n,r,t,a,s)}Ur.createOperatorSubscriber=u;var o=function(n){e(r,n);function r(t,a,s,c,h,l){var m=n.call(this,t)||this;return m.onFinalize=h,m.shouldUnsubscribe=l,m._next=a?function(_){try{a(_)}catch(y){t.error(y)}}:n.prototype._next,m._error=c?function(_){try{c(_)}catch(y){t.error(y)}finally{this.unsubscribe()}}:n.prototype._error,m._complete=s?function(){try{s()}catch(_){t.error(_)}finally{this.unsubscribe()}}:n.prototype._complete,m}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var a=this.closed;n.prototype.unsubscribe.call(this),!a&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(i.Subscriber);return Ur.OperatorSubscriber=o,Ur}var Of;function ly(){if(Of)return Vt;Of=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.refCount=void 0;var e=ne(),i=ae();function u(){return e.operate(function(o,n){var r=null;o._refCount++;var t=i.createOperatorSubscriber(n,void 0,void 0,void 0,function(){if(!o||o._refCount<=0||0<--o._refCount){r=null;return}var a=o._connection,s=r;r=null,a&&(!s||a===s)&&a.unsubscribe(),n.unsubscribe()});o.subscribe(t),t.closed||(r=o.connect())})}return Vt.refCount=u,Vt}var wf;function Du(){if(wf)return Wt;wf=1;var e=P&&P.__extends||function(){var a=function(s,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(h[m]=l[m])},a(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(s,c);function h(){this.constructor=s}s.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.ConnectableObservable=void 0;var i=be(),u=rr(),o=ly(),n=ae(),r=ne(),t=function(a){e(s,a);function s(c,h){var l=a.call(this)||this;return l.source=c,l.subjectFactory=h,l._subject=null,l._refCount=0,l._connection=null,r.hasLift(c)&&(l.lift=c.lift),l}return s.prototype._subscribe=function(c){return this.getSubject().subscribe(c)},s.prototype.getSubject=function(){var c=this._subject;return(!c||c.isStopped)&&(this._subject=this.subjectFactory()),this._subject},s.prototype._teardown=function(){this._refCount=0;var c=this._connection;this._subject=this._connection=null,c==null||c.unsubscribe()},s.prototype.connect=function(){var c=this,h=this._connection;if(!h){h=this._connection=new u.Subscription;var l=this.getSubject();h.add(this.source.subscribe(n.createOperatorSubscriber(l,void 0,function(){c._teardown(),l.complete()},function(m){c._teardown(),l.error(m)},function(){return c._teardown()}))),h.closed&&(this._connection=null,h=u.Subscription.EMPTY)}return h},s.prototype.refCount=function(){return o.refCount()(this)},s}(i.Observable);return Wt.ConnectableObservable=t,Wt}var $t={},Ss={},Ef;function U0(){return Ef||(Ef=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}}(Ss)),Ss}var Ts={},Sf;function fy(){return Sf||(Sf=1,function(e){var i=P&&P.__read||function(n,r){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var a=t.call(n),s,c=[],h;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){h={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(h)throw h.error}}return c},u=P&&P.__spreadArray||function(n,r){for(var t=0,a=r.length,s=n.length;t<a;t++,s++)n[s]=r[t];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var o=rr();e.animationFrameProvider={schedule:function(n){var r=requestAnimationFrame,t=cancelAnimationFrame,a=e.animationFrameProvider.delegate;a&&(r=a.requestAnimationFrame,t=a.cancelAnimationFrame);var s=r(function(c){t=void 0,n(c)});return new o.Subscription(function(){return t==null?void 0:t(s)})},requestAnimationFrame:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var t=e.animationFrameProvider.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,u([],i(n)))},cancelAnimationFrame:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var t=e.animationFrameProvider.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,u([],i(n)))},delegate:void 0}}(Ts)),Ts}var Tf;function x0(){if(Tf)return $t;Tf=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.animationFrames=void 0;var e=be(),i=U0(),u=fy();function o(t){return t?n(t):r}$t.animationFrames=o;function n(t){return new e.Observable(function(a){var s=t||i.performanceTimestampProvider,c=s.now(),h=0,l=function(){a.closed||(h=u.animationFrameProvider.requestAnimationFrame(function(m){h=0;var _=s.now();a.next({timestamp:t?_:m,elapsed:_-c}),l()}))};return l(),function(){h&&u.animationFrameProvider.cancelAnimationFrame(h)}})}var r=n();return $t}var xr={},Ht={},Pf;function dy(){if(Pf)return Ht;Pf=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.ObjectUnsubscribedError=void 0;var e=et();return Ht.ObjectUnsubscribedError=e.createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ht}var Rf;function Be(){if(Rf)return xr;Rf=1;var e=P&&P.__extends||function(){var c=function(h,l){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(m[y]=_[y])},c(h,l)};return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");c(h,l);function m(){this.constructor=h}h.prototype=l===null?Object.create(l):(m.prototype=l.prototype,new m)}}(),i=P&&P.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,l=h&&c[h],m=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xr,"__esModule",{value:!0}),xr.AnonymousSubject=xr.Subject=void 0;var u=be(),o=rr(),n=dy(),r=Sr(),t=vc(),a=function(c){e(h,c);function h(){var l=c.call(this)||this;return l.closed=!1,l.currentObservers=null,l.observers=[],l.isStopped=!1,l.hasError=!1,l.thrownError=null,l}return h.prototype.lift=function(l){var m=new s(this,this);return m.operator=l,m},h.prototype._throwIfClosed=function(){if(this.closed)throw new n.ObjectUnsubscribedError},h.prototype.next=function(l){var m=this;t.errorContext(function(){var _,y;if(m._throwIfClosed(),!m.isStopped){m.currentObservers||(m.currentObservers=Array.from(m.observers));try{for(var d=i(m.currentObservers),f=d.next();!f.done;f=d.next()){var v=f.value;v.next(l)}}catch(p){_={error:p}}finally{try{f&&!f.done&&(y=d.return)&&y.call(d)}finally{if(_)throw _.error}}}})},h.prototype.error=function(l){var m=this;t.errorContext(function(){if(m._throwIfClosed(),!m.isStopped){m.hasError=m.isStopped=!0,m.thrownError=l;for(var _=m.observers;_.length;)_.shift().error(l)}})},h.prototype.complete=function(){var l=this;t.errorContext(function(){if(l._throwIfClosed(),!l.isStopped){l.isStopped=!0;for(var m=l.observers;m.length;)m.shift().complete()}})},h.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(h.prototype,"observed",{get:function(){var l;return((l=this.observers)===null||l===void 0?void 0:l.length)>0},enumerable:!1,configurable:!0}),h.prototype._trySubscribe=function(l){return this._throwIfClosed(),c.prototype._trySubscribe.call(this,l)},h.prototype._subscribe=function(l){return this._throwIfClosed(),this._checkFinalizedStatuses(l),this._innerSubscribe(l)},h.prototype._innerSubscribe=function(l){var m=this,_=this,y=_.hasError,d=_.isStopped,f=_.observers;return y||d?o.EMPTY_SUBSCRIPTION:(this.currentObservers=null,f.push(l),new o.Subscription(function(){m.currentObservers=null,r.arrRemove(f,l)}))},h.prototype._checkFinalizedStatuses=function(l){var m=this,_=m.hasError,y=m.thrownError,d=m.isStopped;_?l.error(y):d&&l.complete()},h.prototype.asObservable=function(){var l=new u.Observable;return l.source=this,l},h.create=function(l,m){return new s(l,m)},h}(u.Observable);xr.Subject=a;var s=function(c){e(h,c);function h(l,m){var _=c.call(this)||this;return _.destination=l,_.source=m,_}return h.prototype.next=function(l){var m,_;(_=(m=this.destination)===null||m===void 0?void 0:m.next)===null||_===void 0||_.call(m,l)},h.prototype.error=function(l){var m,_;(_=(m=this.destination)===null||m===void 0?void 0:m.error)===null||_===void 0||_.call(m,l)},h.prototype.complete=function(){var l,m;(m=(l=this.destination)===null||l===void 0?void 0:l.complete)===null||m===void 0||m.call(l)},h.prototype._subscribe=function(l){var m,_;return(_=(m=this.source)===null||m===void 0?void 0:m.subscribe(l))!==null&&_!==void 0?_:o.EMPTY_SUBSCRIPTION},h}(a);return xr.AnonymousSubject=s,xr}var zt={},If;function vy(){if(If)return zt;If=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(zt,"__esModule",{value:!0}),zt.BehaviorSubject=void 0;var i=Be(),u=function(o){e(n,o);function n(r){var t=o.call(this)||this;return t._value=r,t}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(r){var t=o.prototype._subscribe.call(this,r);return!t.closed&&r.next(this._value),t},n.prototype.getValue=function(){var r=this,t=r.hasError,a=r.thrownError,s=r._value;if(t)throw a;return this._throwIfClosed(),s},n.prototype.next=function(r){o.prototype.next.call(this,this._value=r)},n}(i.Subject);return zt.BehaviorSubject=u,zt}var Yt={},Ps={},Cf;function hc(){return Cf||(Cf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}}(Ps)),Ps}var Af;function pc(){if(Af)return Yt;Af=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.ReplaySubject=void 0;var i=Be(),u=hc(),o=function(n){e(r,n);function r(t,a,s){t===void 0&&(t=1/0),a===void 0&&(a=1/0),s===void 0&&(s=u.dateTimestampProvider);var c=n.call(this)||this;return c._bufferSize=t,c._windowTime=a,c._timestampProvider=s,c._buffer=[],c._infiniteTimeWindow=!0,c._infiniteTimeWindow=a===1/0,c._bufferSize=Math.max(1,t),c._windowTime=Math.max(1,a),c}return r.prototype.next=function(t){var a=this,s=a.isStopped,c=a._buffer,h=a._infiniteTimeWindow,l=a._timestampProvider,m=a._windowTime;s||(c.push(t),!h&&c.push(l.now()+m)),this._trimBuffer(),n.prototype.next.call(this,t)},r.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(t),s=this,c=s._infiniteTimeWindow,h=s._buffer,l=h.slice(),m=0;m<l.length&&!t.closed;m+=c?1:2)t.next(l[m]);return this._checkFinalizedStatuses(t),a},r.prototype._trimBuffer=function(){var t=this,a=t._bufferSize,s=t._timestampProvider,c=t._buffer,h=t._infiniteTimeWindow,l=(h?1:2)*a;if(a<1/0&&l<c.length&&c.splice(0,c.length-l),!h){for(var m=s.now(),_=0,y=1;y<c.length&&c[y]<=m;y+=2)_=y;_&&c.splice(0,_+1)}},r}(i.Subject);return Yt.ReplaySubject=o,Yt}var Gt={},jf;function _c(){if(jf)return Gt;jf=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.AsyncSubject=void 0;var i=Be(),u=function(o){e(n,o);function n(){var r=o!==null&&o.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return n.prototype._checkFinalizedStatuses=function(r){var t=this,a=t.hasError,s=t._hasValue,c=t._value,h=t.thrownError,l=t.isStopped,m=t._isComplete;a?r.error(h):(l||m)&&(s&&r.next(c),r.complete())},n.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},n.prototype.complete=function(){var r=this,t=r._hasValue,a=r._value,s=r._isComplete;s||(this._isComplete=!0,t&&o.prototype.next.call(this,a),o.prototype.complete.call(this))},n}(i.Subject);return Gt.AsyncSubject=u,Gt}var Rs={},Kt={},Zt={},Qt={},Mf;function F0(){if(Mf)return Qt;Mf=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Action=void 0;var i=rr(),u=function(o){e(n,o);function n(r,t){return o.call(this)||this}return n.prototype.schedule=function(r,t){return this},n}(i.Subscription);return Qt.Action=u,Qt}var Is={},Nf;function B0(){return Nf||(Nf=1,function(e){var i=P&&P.__read||function(o,n){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var t=r.call(o),a,s=[],c;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)s.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(c)throw c.error}}return s},u=P&&P.__spreadArray||function(o,n){for(var r=0,t=n.length,a=o.length;r<t;r++,a++)o[a]=n[r];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(o,n){for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];var a=e.intervalProvider.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,u([o,n],i(r))):setInterval.apply(void 0,u([o,n],i(r)))},clearInterval:function(o){var n=e.intervalProvider.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(o)},delegate:void 0}}(Is)),Is}var kf;function _a(){if(kf)return Zt;kf=1;var e=P&&P.__extends||function(){var r=function(t,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},r(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(t,a);function s(){this.constructor=t}t.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.AsyncAction=void 0;var i=F0(),u=B0(),o=Sr(),n=function(r){e(t,r);function t(a,s){var c=r.call(this,a,s)||this;return c.scheduler=a,c.work=s,c.pending=!1,c}return t.prototype.schedule=function(a,s){var c;if(s===void 0&&(s=0),this.closed)return this;this.state=a;var h=this.id,l=this.scheduler;return h!=null&&(this.id=this.recycleAsyncId(l,h,s)),this.pending=!0,this.delay=s,this.id=(c=this.id)!==null&&c!==void 0?c:this.requestAsyncId(l,this.id,s),this},t.prototype.requestAsyncId=function(a,s,c){return c===void 0&&(c=0),u.intervalProvider.setInterval(a.flush.bind(a,this),c)},t.prototype.recycleAsyncId=function(a,s,c){if(c===void 0&&(c=0),c!=null&&this.delay===c&&this.pending===!1)return s;s!=null&&u.intervalProvider.clearInterval(s)},t.prototype.execute=function(a,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,s);if(c)return c;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(a,s){var c=!1,h;try{this.work(a)}catch(l){c=!0,h=l||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),h},t.prototype.unsubscribe=function(){if(!this.closed){var a=this,s=a.id,c=a.scheduler,h=c.actions;this.work=this.state=this.scheduler=null,this.pending=!1,o.arrRemove(h,this),s!=null&&(this.id=this.recycleAsyncId(c,s,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},t}(i.Action);return Zt.AsyncAction=n,Zt}var Cs={},Fr={},Df;function W0(){if(Df)return Fr;Df=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.TestTools=Fr.Immediate=void 0;var e=1,i,u={};function o(n){return n in u?(delete u[n],!0):!1}return Fr.Immediate={setImmediate:function(n){var r=e++;return u[r]=!0,i||(i=Promise.resolve()),i.then(function(){return o(r)&&n()}),r},clearImmediate:function(n){o(n)}},Fr.TestTools={pending:function(){return Object.keys(u).length}},Fr}var qf;function V0(){return qf||(qf=1,function(e){var i=P&&P.__read||function(t,a){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var c=s.call(t),h,l=[],m;try{for(;(a===void 0||a-- >0)&&!(h=c.next()).done;)l.push(h.value)}catch(_){m={error:_}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(m)throw m.error}}return l},u=P&&P.__spreadArray||function(t,a){for(var s=0,c=a.length,h=t.length;s<c;s++,h++)t[h]=a[s];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var o=W0(),n=o.Immediate.setImmediate,r=o.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var s=e.immediateProvider.delegate;return((s==null?void 0:s.setImmediate)||n).apply(void 0,u([],i(t)))},clearImmediate:function(t){var a=e.immediateProvider.delegate;return((a==null?void 0:a.clearImmediate)||r)(t)},delegate:void 0}}(Cs)),Cs}var Lf;function $0(){if(Lf)return Kt;Lf=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.AsapAction=void 0;var i=_a(),u=V0(),o=function(n){e(r,n);function r(t,a){var s=n.call(this,t,a)||this;return s.scheduler=t,s.work=a,s}return r.prototype.requestAsyncId=function(t,a,s){return s===void 0&&(s=0),s!==null&&s>0?n.prototype.requestAsyncId.call(this,t,a,s):(t.actions.push(this),t._scheduled||(t._scheduled=u.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},r.prototype.recycleAsyncId=function(t,a,s){var c;if(s===void 0&&(s=0),s!=null?s>0:this.delay>0)return n.prototype.recycleAsyncId.call(this,t,a,s);var h=t.actions;a!=null&&((c=h[h.length-1])===null||c===void 0?void 0:c.id)!==a&&(u.immediateProvider.clearImmediate(a),t._scheduled=void 0)},r}(i.AsyncAction);return Kt.AsapAction=o,Kt}var Xt={},Jt={},en={},Uf;function hy(){if(Uf)return en;Uf=1,Object.defineProperty(en,"__esModule",{value:!0}),en.Scheduler=void 0;var e=hc(),i=function(){function u(o,n){n===void 0&&(n=u.now),this.schedulerActionCtor=o,this.now=n}return u.prototype.schedule=function(o,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,o).schedule(r,n)},u.now=e.dateTimestampProvider.now,u}();return en.Scheduler=i,en}var xf;function ya(){if(xf)return Jt;xf=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.AsyncScheduler=void 0;var i=hy(),u=function(o){e(n,o);function n(r,t){t===void 0&&(t=i.Scheduler.now);var a=o.call(this,r,t)||this;return a.actions=[],a._active=!1,a}return n.prototype.flush=function(r){var t=this.actions;if(this._active){t.push(r);return}var a;this._active=!0;do if(a=r.execute(r.state,r.delay))break;while(r=t.shift());if(this._active=!1,a){for(;r=t.shift();)r.unsubscribe();throw a}},n}(i.Scheduler);return Jt.AsyncScheduler=u,Jt}var Ff;function H0(){if(Ff)return Xt;Ff=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.AsapScheduler=void 0;var i=ya(),u=function(o){e(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.flush=function(r){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var a=this.actions,s;r=r||a.shift();do if(s=r.execute(r.state,r.delay))break;while((r=a[0])&&r.id===t&&a.shift());if(this._active=!1,s){for(;(r=a[0])&&r.id===t&&a.shift();)r.unsubscribe();throw s}},n}(i.AsyncScheduler);return Xt.AsapScheduler=u,Xt}var Bf;function z0(){return Bf||(Bf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var i=$0(),u=H0();e.asapScheduler=new u.AsapScheduler(i.AsapAction),e.asap=e.asapScheduler}(Rs)),Rs}var As={},Wf;function Ke(){return Wf||(Wf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var i=_a(),u=ya();e.asyncScheduler=new u.AsyncScheduler(i.AsyncAction),e.async=e.asyncScheduler}(As)),As}var js={},rn={},Vf;function Y0(){if(Vf)return rn;Vf=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(rn,"__esModule",{value:!0}),rn.QueueAction=void 0;var i=_a(),u=function(o){e(n,o);function n(r,t){var a=o.call(this,r,t)||this;return a.scheduler=r,a.work=t,a}return n.prototype.schedule=function(r,t){return t===void 0&&(t=0),t>0?o.prototype.schedule.call(this,r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)},n.prototype.execute=function(r,t){return t>0||this.closed?o.prototype.execute.call(this,r,t):this._execute(r,t)},n.prototype.requestAsyncId=function(r,t,a){return a===void 0&&(a=0),a!=null&&a>0||a==null&&this.delay>0?o.prototype.requestAsyncId.call(this,r,t,a):(r.flush(this),0)},n}(i.AsyncAction);return rn.QueueAction=u,rn}var tn={},$f;function G0(){if($f)return tn;$f=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(tn,"__esModule",{value:!0}),tn.QueueScheduler=void 0;var i=ya(),u=function(o){e(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n}(i.AsyncScheduler);return tn.QueueScheduler=u,tn}var Hf;function K0(){return Hf||(Hf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var i=Y0(),u=G0();e.queueScheduler=new u.QueueScheduler(i.QueueAction),e.queue=e.queueScheduler}(js)),js}var Ms={},nn={},zf;function Z0(){if(zf)return nn;zf=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty(nn,"__esModule",{value:!0}),nn.AnimationFrameAction=void 0;var i=_a(),u=fy(),o=function(n){e(r,n);function r(t,a){var s=n.call(this,t,a)||this;return s.scheduler=t,s.work=a,s}return r.prototype.requestAsyncId=function(t,a,s){return s===void 0&&(s=0),s!==null&&s>0?n.prototype.requestAsyncId.call(this,t,a,s):(t.actions.push(this),t._scheduled||(t._scheduled=u.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},r.prototype.recycleAsyncId=function(t,a,s){var c;if(s===void 0&&(s=0),s!=null?s>0:this.delay>0)return n.prototype.recycleAsyncId.call(this,t,a,s);var h=t.actions;a!=null&&((c=h[h.length-1])===null||c===void 0?void 0:c.id)!==a&&(u.animationFrameProvider.cancelAnimationFrame(a),t._scheduled=void 0)},r}(i.AsyncAction);return nn.AnimationFrameAction=o,nn}var on={},Yf;function Q0(){if(Yf)return on;Yf=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(on,"__esModule",{value:!0}),on.AnimationFrameScheduler=void 0;var i=ya(),u=function(o){e(n,o);function n(){return o!==null&&o.apply(this,arguments)||this}return n.prototype.flush=function(r){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var a=this.actions,s;r=r||a.shift();do if(s=r.execute(r.state,r.delay))break;while((r=a[0])&&r.id===t&&a.shift());if(this._active=!1,s){for(;(r=a[0])&&r.id===t&&a.shift();)r.unsubscribe();throw s}},n}(i.AsyncScheduler);return on.AnimationFrameScheduler=u,on}var Gf;function X0(){return Gf||(Gf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var i=Z0(),u=Q0();e.animationFrameScheduler=new u.AnimationFrameScheduler(i.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler}(Ms)),Ms}var Br={},Kf;function J0(){if(Kf)return Br;Kf=1;var e=P&&P.__extends||function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(c[l]=h[l])},t(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function c(){this.constructor=a}a.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}();Object.defineProperty(Br,"__esModule",{value:!0}),Br.VirtualAction=Br.VirtualTimeScheduler=void 0;var i=_a(),u=rr(),o=ya(),n=function(t){e(a,t);function a(s,c){s===void 0&&(s=r),c===void 0&&(c=1/0);var h=t.call(this,s,function(){return h.frame})||this;return h.maxFrames=c,h.frame=0,h.index=-1,h}return a.prototype.flush=function(){for(var s=this,c=s.actions,h=s.maxFrames,l,m;(m=c[0])&&m.delay<=h&&(c.shift(),this.frame=m.delay,!(l=m.execute(m.state,m.delay))););if(l){for(;m=c.shift();)m.unsubscribe();throw l}},a.frameTimeFactor=10,a}(o.AsyncScheduler);Br.VirtualTimeScheduler=n;var r=function(t){e(a,t);function a(s,c,h){h===void 0&&(h=s.index+=1);var l=t.call(this,s,c)||this;return l.scheduler=s,l.work=c,l.index=h,l.active=!0,l.index=s.index=h,l}return a.prototype.schedule=function(s,c){if(c===void 0&&(c=0),Number.isFinite(c)){if(!this.id)return t.prototype.schedule.call(this,s,c);this.active=!1;var h=new a(this.scheduler,this.work);return this.add(h),h.schedule(s,c)}else return u.Subscription.EMPTY},a.prototype.requestAsyncId=function(s,c,h){h===void 0&&(h=0),this.delay=s.frame+h;var l=s.actions;return l.push(this),l.sort(a.sortActions),1},a.prototype.recycleAsyncId=function(s,c,h){},a.prototype._execute=function(s,c){if(this.active===!0)return t.prototype._execute.call(this,s,c)},a.sortActions=function(s,c){return s.delay===c.delay?s.index===c.index?0:s.index>c.index?1:-1:s.delay>c.delay?1:-1},a}(i.AsyncAction);return Br.VirtualAction=r,Br}var Ns={},ks={},Zf;function lr(){return Zf||(Zf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var i=be();e.EMPTY=new i.Observable(function(n){return n.complete()});function u(n){return n?o(n):e.EMPTY}e.empty=u;function o(n){return new i.Observable(function(r){return n.schedule(function(){return r.complete()})})}}(ks)),ks}var an={},pr={},un={},Qf;function qu(){if(Qf)return un;Qf=1,Object.defineProperty(un,"__esModule",{value:!0}),un.isScheduler=void 0;var e=ye();function i(u){return u&&e.isFunction(u.schedule)}return un.isScheduler=i,un}var Xf;function Ze(){if(Xf)return pr;Xf=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.popNumber=pr.popScheduler=pr.popResultSelector=void 0;var e=ye(),i=qu();function u(t){return t[t.length-1]}function o(t){return e.isFunction(u(t))?t.pop():void 0}pr.popResultSelector=o;function n(t){return i.isScheduler(u(t))?t.pop():void 0}pr.popScheduler=n;function r(t,a){return typeof u(t)=="number"?t.pop():a}return pr.popNumber=r,pr}var sn={},cn={},ln={},Le={},fn={},Jf;function yc(){return Jf||(Jf=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.isArrayLike=void 0,fn.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"}),fn}var dn={},ed;function py(){if(ed)return dn;ed=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.isPromise=void 0;var e=ye();function i(u){return e.isFunction(u==null?void 0:u.then)}return dn.isPromise=i,dn}var vn={},rd;function _y(){if(rd)return vn;rd=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.isInteropObservable=void 0;var e=Nu(),i=ye();function u(o){return i.isFunction(o[e.observable])}return vn.isInteropObservable=u,vn}var hn={},td;function yy(){if(td)return hn;td=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.isAsyncIterable=void 0;var e=ye();function i(u){return Symbol.asyncIterator&&e.isFunction(u==null?void 0:u[Symbol.asyncIterator])}return hn.isAsyncIterable=i,hn}var pn={},nd;function my(){if(nd)return pn;nd=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.createInvalidObservableTypeError=void 0;function e(i){return new TypeError("You provided "+(i!==null&&typeof i=="object"?"an invalid object":"'"+i+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}return pn.createInvalidObservableTypeError=e,pn}var _n={},Wr={},id;function by(){if(id)return Wr;id=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.iterator=Wr.getSymbolIterator=void 0;function e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}return Wr.getSymbolIterator=e,Wr.iterator=e(),Wr}var od;function gy(){if(od)return _n;od=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.isIterable=void 0;var e=by(),i=ye();function u(o){return i.isFunction(o==null?void 0:o[e.iterator])}return _n.isIterable=u,_n}var Vr={},ad;function mc(){if(ad)return Vr;ad=1;var e=P&&P.__generator||function(t,a){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,h,l,m;return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(d){return function(f){return y([d,f])}}function y(d){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,h&&(l=d[0]&2?h.return:d[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,d[1])).done)return l;switch(h=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,h=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){s.label=d[1];break}if(d[0]===6&&s.label<l[1]){s.label=l[1],l=d;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(d);break}l[2]&&s.ops.pop(),s.trys.pop();continue}d=a.call(t,s)}catch(f){d=[6,f],h=0}finally{c=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},i=P&&P.__await||function(t){return this instanceof i?(this.v=t,this):new i(t)},u=P&&P.__asyncGenerator||function(t,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=s.apply(t,a||[]),h,l=[];return h={},m("next"),m("throw"),m("return"),h[Symbol.asyncIterator]=function(){return this},h;function m(p){c[p]&&(h[p]=function(b){return new Promise(function(g,O){l.push([p,b,g,O])>1||_(p,b)})})}function _(p,b){try{y(c[p](b))}catch(g){v(l[0][3],g)}}function y(p){p.value instanceof i?Promise.resolve(p.value.v).then(d,f):v(l[0][2],p)}function d(p){_("next",p)}function f(p){_("throw",p)}function v(p,b){p(b),l.shift(),l.length&&_(l[0][0],l[0][1])}};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.isReadableStreamLike=Vr.readableStreamLikeToAsyncGenerator=void 0;var o=ye();function n(t){return u(this,arguments,function(){var s,c,h,l;return e(this,function(m){switch(m.label){case 0:s=t.getReader(),m.label=1;case 1:m.trys.push([1,,9,10]),m.label=2;case 2:return[4,i(s.read())];case 3:return c=m.sent(),h=c.value,l=c.done,l?[4,i(void 0)]:[3,5];case 4:return[2,m.sent()];case 5:return[4,i(h)];case 6:return[4,m.sent()];case 7:return m.sent(),[3,2];case 8:return[3,10];case 9:return s.releaseLock(),[7];case 10:return[2]}})})}Vr.readableStreamLikeToAsyncGenerator=n;function r(t){return o.isFunction(t==null?void 0:t.getReader)}return Vr.isReadableStreamLike=r,Vr}var ud;function ce(){if(ud)return Le;ud=1;var e=P&&P.__awaiter||function(E,R,A,B){function D(q){return q instanceof A?q:new A(function(F){F(q)})}return new(A||(A=Promise))(function(q,F){function W(V){try{j(B.next(V))}catch(Y){F(Y)}}function k(V){try{j(B.throw(V))}catch(Y){F(Y)}}function j(V){V.done?q(V.value):D(V.value).then(W,k)}j((B=B.apply(E,R||[])).next())})},i=P&&P.__generator||function(E,R){var A={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},B,D,q,F;return F={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function W(j){return function(V){return k([j,V])}}function k(j){if(B)throw new TypeError("Generator is already executing.");for(;A;)try{if(B=1,D&&(q=j[0]&2?D.return:j[0]?D.throw||((q=D.return)&&q.call(D),0):D.next)&&!(q=q.call(D,j[1])).done)return q;switch(D=0,q&&(j=[j[0]&2,q.value]),j[0]){case 0:case 1:q=j;break;case 4:return A.label++,{value:j[1],done:!1};case 5:A.label++,D=j[1],j=[0];continue;case 7:j=A.ops.pop(),A.trys.pop();continue;default:if(q=A.trys,!(q=q.length>0&&q[q.length-1])&&(j[0]===6||j[0]===2)){A=0;continue}if(j[0]===3&&(!q||j[1]>q[0]&&j[1]<q[3])){A.label=j[1];break}if(j[0]===6&&A.label<q[1]){A.label=q[1],q=j;break}if(q&&A.label<q[2]){A.label=q[2],A.ops.push(j);break}q[2]&&A.ops.pop(),A.trys.pop();continue}j=R.call(E,A)}catch(V){j=[6,V],D=0}finally{B=q=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},u=P&&P.__asyncValues||function(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=E[Symbol.asyncIterator],A;return R?R.call(E):(E=typeof o=="function"?o(E):E[Symbol.iterator](),A={},B("next"),B("throw"),B("return"),A[Symbol.asyncIterator]=function(){return this},A);function B(q){A[q]=E[q]&&function(F){return new Promise(function(W,k){F=E[q](F),D(W,k,F.done,F.value)})}}function D(q,F,W,k){Promise.resolve(k).then(function(j){q({value:j,done:W})},F)}},o=P&&P.__values||function(E){var R=typeof Symbol=="function"&&Symbol.iterator,A=R&&E[R],B=0;if(A)return A.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&B>=E.length&&(E=void 0),{value:E&&E[B++],done:!E}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Le,"__esModule",{value:!0}),Le.fromReadableStreamLike=Le.fromAsyncIterable=Le.fromIterable=Le.fromPromise=Le.fromArrayLike=Le.fromInteropObservable=Le.innerFrom=void 0;var n=yc(),r=py(),t=be(),a=_y(),s=yy(),c=my(),h=gy(),l=mc(),m=ye(),_=cy(),y=Nu();function d(E){if(E instanceof t.Observable)return E;if(E!=null){if(a.isInteropObservable(E))return f(E);if(n.isArrayLike(E))return v(E);if(r.isPromise(E))return p(E);if(s.isAsyncIterable(E))return g(E);if(h.isIterable(E))return b(E);if(l.isReadableStreamLike(E))return O(E)}throw c.createInvalidObservableTypeError(E)}Le.innerFrom=d;function f(E){return new t.Observable(function(R){var A=E[y.observable]();if(m.isFunction(A.subscribe))return A.subscribe(R);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}Le.fromInteropObservable=f;function v(E){return new t.Observable(function(R){for(var A=0;A<E.length&&!R.closed;A++)R.next(E[A]);R.complete()})}Le.fromArrayLike=v;function p(E){return new t.Observable(function(R){E.then(function(A){R.closed||(R.next(A),R.complete())},function(A){return R.error(A)}).then(null,_.reportUnhandledError)})}Le.fromPromise=p;function b(E){return new t.Observable(function(R){var A,B;try{for(var D=o(E),q=D.next();!q.done;q=D.next()){var F=q.value;if(R.next(F),R.closed)return}}catch(W){A={error:W}}finally{try{q&&!q.done&&(B=D.return)&&B.call(D)}finally{if(A)throw A.error}}R.complete()})}Le.fromIterable=b;function g(E){return new t.Observable(function(R){w(E,R).catch(function(A){return R.error(A)})})}Le.fromAsyncIterable=g;function O(E){return g(l.readableStreamLikeToAsyncGenerator(E))}Le.fromReadableStreamLike=O;function w(E,R){var A,B,D,q;return e(this,void 0,void 0,function(){var F,W;return i(this,function(k){switch(k.label){case 0:k.trys.push([0,5,6,11]),A=u(E),k.label=1;case 1:return[4,A.next()];case 2:if(B=k.sent(),!!B.done)return[3,4];if(F=B.value,R.next(F),R.closed)return[2];k.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return W=k.sent(),D={error:W},[3,11];case 6:return k.trys.push([6,,9,10]),B&&!B.done&&(q=A.return)?[4,q.call(A)]:[3,8];case 7:k.sent(),k.label=8;case 8:return[3,10];case 9:if(D)throw D.error;return[7];case 10:return[7];case 11:return R.complete(),[2]}})})}return Le}var yn={},mn={},sd;function Tr(){if(sd)return mn;sd=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.executeSchedule=void 0;function e(i,u,o,n,r){n===void 0&&(n=0),r===void 0&&(r=!1);var t=u.schedule(function(){o(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(t),!r)return t}return mn.executeSchedule=e,mn}var cd;function Lu(){if(cd)return yn;cd=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.observeOn=void 0;var e=Tr(),i=ne(),u=ae();function o(n,r){return r===void 0&&(r=0),i.operate(function(t,a){t.subscribe(u.createOperatorSubscriber(a,function(s){return e.executeSchedule(a,n,function(){return a.next(s)},r)},function(){return e.executeSchedule(a,n,function(){return a.complete()},r)},function(s){return e.executeSchedule(a,n,function(){return a.error(s)},r)}))})}return yn.observeOn=o,yn}var bn={},ld;function Uu(){if(ld)return bn;ld=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.subscribeOn=void 0;var e=ne();function i(u,o){return o===void 0&&(o=0),e.operate(function(n,r){r.add(u.schedule(function(){return n.subscribe(r)},o))})}return bn.subscribeOn=i,bn}var fd;function eO(){if(fd)return ln;fd=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.scheduleObservable=void 0;var e=ce(),i=Lu(),u=Uu();function o(n,r){return e.innerFrom(n).pipe(u.subscribeOn(r),i.observeOn(r))}return ln.scheduleObservable=o,ln}var gn={},dd;function rO(){if(dd)return gn;dd=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.schedulePromise=void 0;var e=ce(),i=Lu(),u=Uu();function o(n,r){return e.innerFrom(n).pipe(u.subscribeOn(r),i.observeOn(r))}return gn.schedulePromise=o,gn}var On={},vd;function tO(){if(vd)return On;vd=1,Object.defineProperty(On,"__esModule",{value:!0}),On.scheduleArray=void 0;var e=be();function i(u,o){return new e.Observable(function(n){var r=0;return o.schedule(function(){r===u.length?n.complete():(n.next(u[r++]),n.closed||this.schedule())})})}return On.scheduleArray=i,On}var wn={},hd;function Oy(){if(hd)return wn;hd=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.scheduleIterable=void 0;var e=be(),i=by(),u=ye(),o=Tr();function n(r,t){return new e.Observable(function(a){var s;return o.executeSchedule(a,t,function(){s=r[i.iterator](),o.executeSchedule(a,t,function(){var c,h,l;try{c=s.next(),h=c.value,l=c.done}catch(m){a.error(m);return}l?a.complete():a.next(h)},0,!0)}),function(){return u.isFunction(s==null?void 0:s.return)&&s.return()}})}return wn.scheduleIterable=n,wn}var En={},pd;function wy(){if(pd)return En;pd=1,Object.defineProperty(En,"__esModule",{value:!0}),En.scheduleAsyncIterable=void 0;var e=be(),i=Tr();function u(o,n){if(!o)throw new Error("Iterable cannot be null");return new e.Observable(function(r){i.executeSchedule(r,n,function(){var t=o[Symbol.asyncIterator]();i.executeSchedule(r,n,function(){t.next().then(function(a){a.done?r.complete():r.next(a.value)})},0,!0)})})}return En.scheduleAsyncIterable=u,En}var Sn={},_d;function nO(){if(_d)return Sn;_d=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.scheduleReadableStreamLike=void 0;var e=wy(),i=mc();function u(o,n){return e.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(o),n)}return Sn.scheduleReadableStreamLike=u,Sn}var yd;function Ey(){if(yd)return cn;yd=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.scheduled=void 0;var e=eO(),i=rO(),u=tO(),o=Oy(),n=wy(),r=_y(),t=py(),a=yc(),s=gy(),c=yy(),h=my(),l=mc(),m=nO();function _(y,d){if(y!=null){if(r.isInteropObservable(y))return e.scheduleObservable(y,d);if(a.isArrayLike(y))return u.scheduleArray(y,d);if(t.isPromise(y))return i.schedulePromise(y,d);if(c.isAsyncIterable(y))return n.scheduleAsyncIterable(y,d);if(s.isIterable(y))return o.scheduleIterable(y,d);if(l.isReadableStreamLike(y))return m.scheduleReadableStreamLike(y,d)}throw h.createInvalidObservableTypeError(y)}return cn.scheduled=_,cn}var md;function Pr(){if(md)return sn;md=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.from=void 0;var e=Ey(),i=ce();function u(o,n){return n?e.scheduled(o,n):i.innerFrom(o)}return sn.from=u,sn}var bd;function bc(){if(bd)return an;bd=1,Object.defineProperty(an,"__esModule",{value:!0}),an.of=void 0;var e=Ze(),i=Pr();function u(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=e.popScheduler(o);return i.from(o,r)}return an.of=u,an}var Tn={},gd;function Sy(){if(gd)return Tn;gd=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.throwError=void 0;var e=be(),i=ye();function u(o,n){var r=i.isFunction(o)?o:function(){return o},t=function(a){return a.error(r())};return new e.Observable(n?function(a){return n.schedule(t,0,a)}:t)}return Tn.throwError=u,Tn}var Od;function gc(){return Od||(Od=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var i=lr(),u=bc(),o=Sy(),n=ye();(function(a){a.NEXT="N",a.ERROR="E",a.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var r=function(){function a(s,c,h){this.kind=s,this.value=c,this.error=h,this.hasValue=s==="N"}return a.prototype.observe=function(s){return t(this,s)},a.prototype.do=function(s,c,h){var l=this,m=l.kind,_=l.value,y=l.error;return m==="N"?s==null?void 0:s(_):m==="E"?c==null?void 0:c(y):h==null?void 0:h()},a.prototype.accept=function(s,c,h){var l;return n.isFunction((l=s)===null||l===void 0?void 0:l.next)?this.observe(s):this.do(s,c,h)},a.prototype.toObservable=function(){var s=this,c=s.kind,h=s.value,l=s.error,m=c==="N"?u.of(h):c==="E"?o.throwError(function(){return l}):c==="C"?i.EMPTY:0;if(!m)throw new TypeError("Unexpected notification kind "+c);return m},a.createNext=function(s){return new a("N",s)},a.createError=function(s){return new a("E",void 0,s)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a}();e.Notification=r;function t(a,s){var c,h,l,m=a,_=m.kind,y=m.value,d=m.error;if(typeof _!="string")throw new TypeError('Invalid notification, missing "kind"');_==="N"?(c=s.next)===null||c===void 0||c.call(s,y):_==="E"?(h=s.error)===null||h===void 0||h.call(s,d):(l=s.complete)===null||l===void 0||l.call(s)}e.observeNotification=t}(Ns)),Ns}var Pn={},wd;function iO(){if(wd)return Pn;wd=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.isObservable=void 0;var e=be(),i=ye();function u(o){return!!o&&(o instanceof e.Observable||i.isFunction(o.lift)&&i.isFunction(o.subscribe))}return Pn.isObservable=u,Pn}var Rn={},In={},Ed;function rt(){if(Ed)return In;Ed=1,Object.defineProperty(In,"__esModule",{value:!0}),In.EmptyError=void 0;var e=et();return In.EmptyError=e.createErrorClass(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}}),In}var Sd;function oO(){if(Sd)return Rn;Sd=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.lastValueFrom=void 0;var e=rt();function i(u,o){var n=typeof o=="object";return new Promise(function(r,t){var a=!1,s;u.subscribe({next:function(c){s=c,a=!0},error:t,complete:function(){a?r(s):n?r(o.defaultValue):t(new e.EmptyError)}})})}return Rn.lastValueFrom=i,Rn}var Cn={},Td;function aO(){if(Td)return Cn;Td=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.firstValueFrom=void 0;var e=rt(),i=pa();function u(o,n){var r=typeof n=="object";return new Promise(function(t,a){var s=new i.SafeSubscriber({next:function(c){t(c),s.unsubscribe()},error:a,complete:function(){r?t(n.defaultValue):a(new e.EmptyError)}});o.subscribe(s)})}return Cn.firstValueFrom=u,Cn}var An={},Pd;function Ty(){if(Pd)return An;Pd=1,Object.defineProperty(An,"__esModule",{value:!0}),An.ArgumentOutOfRangeError=void 0;var e=et();return An.ArgumentOutOfRangeError=e.createErrorClass(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),An}var jn={},Rd;function Py(){if(Rd)return jn;Rd=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.NotFoundError=void 0;var e=et();return jn.NotFoundError=e.createErrorClass(function(i){return function(o){i(this),this.name="NotFoundError",this.message=o}}),jn}var Mn={},Id;function Ry(){if(Id)return Mn;Id=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.SequenceError=void 0;var e=et();return Mn.SequenceError=e.createErrorClass(function(i){return function(o){i(this),this.name="SequenceError",this.message=o}}),Mn}var Ds={},Nn={},Cd;function Oc(){if(Cd)return Nn;Cd=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isValidDate=void 0;function e(i){return i instanceof Date&&!isNaN(i)}return Nn.isValidDate=e,Nn}var Ad;function ic(){return Ad||(Ad=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var i=Ke(),u=Oc(),o=ne(),n=ce(),r=et(),t=ae(),a=Tr();e.TimeoutError=r.createErrorClass(function(h){return function(m){m===void 0&&(m=null),h(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=m}});function s(h,l){var m=u.isValidDate(h)?{first:h}:typeof h=="number"?{each:h}:h,_=m.first,y=m.each,d=m.with,f=d===void 0?c:d,v=m.scheduler,p=v===void 0?l??i.asyncScheduler:v,b=m.meta,g=b===void 0?null:b;if(_==null&&y==null)throw new TypeError("No timeout provided.");return o.operate(function(O,w){var E,R,A=null,B=0,D=function(q){R=a.executeSchedule(w,p,function(){try{E.unsubscribe(),n.innerFrom(f({meta:g,lastValue:A,seen:B})).subscribe(w)}catch(F){w.error(F)}},q)};E=O.subscribe(t.createOperatorSubscriber(w,function(q){R==null||R.unsubscribe(),B++,w.next(A=q),y>0&&D(y)},void 0,void 0,function(){R!=null&&R.closed||R==null||R.unsubscribe(),A=null})),!B&&D(_!=null?typeof _=="number"?_:+_-p.now():y)})}e.timeout=s;function c(h){throw new e.TimeoutError(h)}}(Ds)),Ds}var kn={},Dn={},qn={},Ln={},jd;function tt(){if(jd)return Ln;jd=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.map=void 0;var e=ne(),i=ae();function u(o,n){return e.operate(function(r,t){var a=0;r.subscribe(i.createOperatorSubscriber(t,function(s){t.next(o.call(n,s,a++))}))})}return Ln.map=u,Ln}var Md;function nt(){if(Md)return qn;Md=1;var e=P&&P.__read||function(t,a){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var c=s.call(t),h,l=[],m;try{for(;(a===void 0||a-- >0)&&!(h=c.next()).done;)l.push(h.value)}catch(_){m={error:_}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(m)throw m.error}}return l},i=P&&P.__spreadArray||function(t,a){for(var s=0,c=a.length,h=t.length;s<c;s++,h++)t[h]=a[s];return t};Object.defineProperty(qn,"__esModule",{value:!0}),qn.mapOneOrManyArgs=void 0;var u=tt(),o=Array.isArray;function n(t,a){return o(a)?t.apply(void 0,i([],e(a))):t(a)}function r(t){return u.map(function(a){return n(t,a)})}return qn.mapOneOrManyArgs=r,qn}var Nd;function Iy(){if(Nd)return Dn;Nd=1;var e=P&&P.__read||function(c,h){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var m=l.call(c),_,y=[],d;try{for(;(h===void 0||h-- >0)&&!(_=m.next()).done;)y.push(_.value)}catch(f){d={error:f}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(d)throw d.error}}return y},i=P&&P.__spreadArray||function(c,h){for(var l=0,m=h.length,_=c.length;l<m;l++,_++)c[_]=h[l];return c};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.bindCallbackInternals=void 0;var u=qu(),o=be(),n=Uu(),r=nt(),t=Lu(),a=_c();function s(c,h,l,m){if(l)if(u.isScheduler(l))m=l;else return function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];return s(c,h,m).apply(this,_).pipe(r.mapOneOrManyArgs(l))};return m?function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];return s(c,h).apply(this,_).pipe(n.subscribeOn(m),t.observeOn(m))}:function(){for(var _=this,y=[],d=0;d<arguments.length;d++)y[d]=arguments[d];var f=new a.AsyncSubject,v=!0;return new o.Observable(function(p){var b=f.subscribe(p);if(v){v=!1;var g=!1,O=!1;h.apply(_,i(i([],e(y)),[function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];if(c){var R=w.shift();if(R!=null){f.error(R);return}}f.next(1<w.length?w:w[0]),O=!0,g&&f.complete()}])),O&&f.complete(),g=!0}return b})}}return Dn.bindCallbackInternals=s,Dn}var kd;function uO(){if(kd)return kn;kd=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.bindCallback=void 0;var e=Iy();function i(u,o,n){return e.bindCallbackInternals(!1,u,o,n)}return kn.bindCallback=i,kn}var Un={},Dd;function sO(){if(Dd)return Un;Dd=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.bindNodeCallback=void 0;var e=Iy();function i(u,o,n){return e.bindCallbackInternals(!0,u,o,n)}return Un.bindNodeCallback=i,Un}var $r={},xn={},qd;function Cy(){if(qd)return xn;qd=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.argsArgArrayOrObject=void 0;var e=Array.isArray,i=Object.getPrototypeOf,u=Object.prototype,o=Object.keys;function n(t){if(t.length===1){var a=t[0];if(e(a))return{args:a,keys:null};if(r(a)){var s=o(a);return{args:s.map(function(c){return a[c]}),keys:s}}}return{args:t,keys:null}}xn.argsArgArrayOrObject=n;function r(t){return t&&typeof t=="object"&&i(t)===u}return xn}var Fn={},Ld;function Ay(){if(Ld)return Fn;Ld=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.createObject=void 0;function e(i,u){return i.reduce(function(o,n,r){return o[n]=u[r],o},{})}return Fn.createObject=e,Fn}var Ud;function wc(){if(Ud)return $r;Ud=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.combineLatestInit=$r.combineLatest=void 0;var e=be(),i=Cy(),u=Pr(),o=Fe(),n=nt(),r=Ze(),t=Ay(),a=ae(),s=Tr();function c(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var y=r.popScheduler(m),d=r.popResultSelector(m),f=i.argsArgArrayOrObject(m),v=f.args,p=f.keys;if(v.length===0)return u.from([],y);var b=new e.Observable(h(v,y,p?function(g){return t.createObject(p,g)}:o.identity));return d?b.pipe(n.mapOneOrManyArgs(d)):b}$r.combineLatest=c;function h(m,_,y){return y===void 0&&(y=o.identity),function(d){l(_,function(){for(var f=m.length,v=new Array(f),p=f,b=f,g=function(w){l(_,function(){var E=u.from(m[w],_),R=!1;E.subscribe(a.createOperatorSubscriber(d,function(A){v[w]=A,R||(R=!0,b--),b||d.next(y(v.slice()))},function(){--p||d.complete()}))},d)},O=0;O<f;O++)g(O)},d)}}$r.combineLatestInit=h;function l(m,_,y){m?s.executeSchedule(y,m,_):_()}return $r}var Bn={},Wn={},Vn={},$n={},Hn={},xd;function Ec(){if(xd)return Hn;xd=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.mergeInternals=void 0;var e=ce(),i=Tr(),u=ae();function o(n,r,t,a,s,c,h,l){var m=[],_=0,y=0,d=!1,f=function(){d&&!m.length&&!_&&r.complete()},v=function(b){return _<a?p(b):m.push(b)},p=function(b){c&&r.next(b),_++;var g=!1;e.innerFrom(t(b,y++)).subscribe(u.createOperatorSubscriber(r,function(O){s==null||s(O),c?v(O):r.next(O)},function(){g=!0},void 0,function(){if(g)try{_--;for(var O=function(){var w=m.shift();h?i.executeSchedule(r,h,function(){return p(w)}):p(w)};m.length&&_<a;)O();f()}catch(w){r.error(w)}}))};return n.subscribe(u.createOperatorSubscriber(r,v,function(){d=!0,f()})),function(){l==null||l()}}return Hn.mergeInternals=o,Hn}var Fd;function Rr(){if(Fd)return $n;Fd=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.mergeMap=void 0;var e=tt(),i=ce(),u=ne(),o=Ec(),n=ye();function r(t,a,s){return s===void 0&&(s=1/0),n.isFunction(a)?r(function(c,h){return e.map(function(l,m){return a(c,l,h,m)})(i.innerFrom(t(c,h)))},s):(typeof a=="number"&&(s=a),u.operate(function(c,h){return o.mergeInternals(c,h,t,s)}))}return $n.mergeMap=r,$n}var Bd;function xu(){if(Bd)return Vn;Bd=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.mergeAll=void 0;var e=Rr(),i=Fe();function u(o){return o===void 0&&(o=1/0),e.mergeMap(i.identity,o)}return Vn.mergeAll=u,Vn}var Wd;function Sc(){if(Wd)return Wn;Wd=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.concatAll=void 0;var e=xu();function i(){return e.mergeAll(1)}return Wn.concatAll=i,Wn}var Vd;function Fu(){if(Vd)return Bn;Vd=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.concat=void 0;var e=Sc(),i=Ze(),u=Pr();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.concatAll()(u.from(n,i.popScheduler(n)))}return Bn.concat=o,Bn}var zn={},Yn={},$d;function Bu(){if($d)return Yn;$d=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.defer=void 0;var e=be(),i=ce();function u(o){return new e.Observable(function(n){i.innerFrom(o()).subscribe(n)})}return Yn.defer=u,Yn}var Hd;function cO(){if(Hd)return zn;Hd=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.connectable=void 0;var e=Be(),i=be(),u=Bu(),o={connector:function(){return new e.Subject},resetOnDisconnect:!0};function n(r,t){t===void 0&&(t=o);var a=null,s=t.connector,c=t.resetOnDisconnect,h=c===void 0?!0:c,l=s(),m=new i.Observable(function(_){return l.subscribe(_)});return m.connect=function(){return(!a||a.closed)&&(a=u.defer(function(){return r}).subscribe(l),h&&a.add(function(){return l=s()})),a},m}return zn.connectable=n,zn}var Gn={},zd;function lO(){if(zd)return Gn;zd=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.forkJoin=void 0;var e=be(),i=Cy(),u=ce(),o=Ze(),n=ae(),r=nt(),t=Ay();function a(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var h=o.popResultSelector(s),l=i.argsArgArrayOrObject(s),m=l.args,_=l.keys,y=new e.Observable(function(d){var f=m.length;if(!f){d.complete();return}for(var v=new Array(f),p=f,b=f,g=function(w){var E=!1;u.innerFrom(m[w]).subscribe(n.createOperatorSubscriber(d,function(R){E||(E=!0,b--),v[w]=R},function(){return p--},void 0,function(){(!p||!E)&&(b||d.next(_?t.createObject(_,v):v),d.complete())}))},O=0;O<f;O++)g(O)});return h?y.pipe(r.mapOneOrManyArgs(h)):y}return Gn.forkJoin=a,Gn}var Kn={},Yd;function fO(){if(Yd)return Kn;Yd=1;var e=P&&P.__read||function(d,f){var v=typeof Symbol=="function"&&d[Symbol.iterator];if(!v)return d;var p=v.call(d),b,g=[],O;try{for(;(f===void 0||f-- >0)&&!(b=p.next()).done;)g.push(b.value)}catch(w){O={error:w}}finally{try{b&&!b.done&&(v=p.return)&&v.call(p)}finally{if(O)throw O.error}}return g};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.fromEvent=void 0;var i=ce(),u=be(),o=Rr(),n=yc(),r=ye(),t=nt(),a=["addListener","removeListener"],s=["addEventListener","removeEventListener"],c=["on","off"];function h(d,f,v,p){if(r.isFunction(v)&&(p=v,v=void 0),p)return h(d,f,v).pipe(t.mapOneOrManyArgs(p));var b=e(y(d)?s.map(function(w){return function(E){return d[w](f,E,v)}}):m(d)?a.map(l(d,f)):_(d)?c.map(l(d,f)):[],2),g=b[0],O=b[1];if(!g&&n.isArrayLike(d))return o.mergeMap(function(w){return h(w,f,v)})(i.innerFrom(d));if(!g)throw new TypeError("Invalid event target");return new u.Observable(function(w){var E=function(){for(var R=[],A=0;A<arguments.length;A++)R[A]=arguments[A];return w.next(1<R.length?R:R[0])};return g(E),function(){return O(E)}})}Kn.fromEvent=h;function l(d,f){return function(v){return function(p){return d[v](f,p)}}}function m(d){return r.isFunction(d.addListener)&&r.isFunction(d.removeListener)}function _(d){return r.isFunction(d.on)&&r.isFunction(d.off)}function y(d){return r.isFunction(d.addEventListener)&&r.isFunction(d.removeEventListener)}return Kn}var Zn={},Gd;function dO(){if(Gd)return Zn;Gd=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.fromEventPattern=void 0;var e=be(),i=ye(),u=nt();function o(n,r,t){return t?o(n,r).pipe(u.mapOneOrManyArgs(t)):new e.Observable(function(a){var s=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];return a.next(h.length===1?h[0]:h)},c=n(s);return i.isFunction(r)?function(){return r(s,c)}:void 0})}return Zn.fromEventPattern=o,Zn}var Qn={},Kd;function vO(){if(Kd)return Qn;Kd=1;var e=P&&P.__generator||function(t,a){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,h,l,m;return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(d){return function(f){return y([d,f])}}function y(d){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,h&&(l=d[0]&2?h.return:d[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,d[1])).done)return l;switch(h=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,h=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){s.label=d[1];break}if(d[0]===6&&s.label<l[1]){s.label=l[1],l=d;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(d);break}l[2]&&s.ops.pop(),s.trys.pop();continue}d=a.call(t,s)}catch(f){d=[6,f],h=0}finally{c=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.generate=void 0;var i=Fe(),u=qu(),o=Bu(),n=Oy();function r(t,a,s,c,h){var l,m,_,y;arguments.length===1?(l=t,y=l.initialState,a=l.condition,s=l.iterate,m=l.resultSelector,_=m===void 0?i.identity:m,h=l.scheduler):(y=t,!c||u.isScheduler(c)?(_=i.identity,h=c):_=c);function d(){var f;return e(this,function(v){switch(v.label){case 0:f=y,v.label=1;case 1:return!a||a(f)?[4,_(f)]:[3,4];case 2:v.sent(),v.label=3;case 3:return f=s(f),[3,1];case 4:return[2]}})}return o.defer(h?function(){return n.scheduleIterable(d(),h)}:d)}return Qn.generate=r,Qn}var Xn={},Zd;function hO(){if(Zd)return Xn;Zd=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.iif=void 0;var e=Bu();function i(u,o,n){return e.defer(function(){return u()?o:n})}return Xn.iif=i,Xn}var Jn={},ei={},Qd;function it(){if(Qd)return ei;Qd=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.timer=void 0;var e=be(),i=Ke(),u=qu(),o=Oc();function n(r,t,a){r===void 0&&(r=0),a===void 0&&(a=i.async);var s=-1;return t!=null&&(u.isScheduler(t)?a=t:s=t),new e.Observable(function(c){var h=o.isValidDate(r)?+r-a.now():r;h<0&&(h=0);var l=0;return a.schedule(function(){c.closed||(c.next(l++),0<=s?this.schedule(void 0,s):c.complete())},h)})}return ei.timer=n,ei}var Xd;function jy(){if(Xd)return Jn;Xd=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.interval=void 0;var e=Ke(),i=it();function u(o,n){return o===void 0&&(o=0),n===void 0&&(n=e.asyncScheduler),o<0&&(o=0),i.timer(o,o,n)}return Jn.interval=u,Jn}var ri={},Jd;function pO(){if(Jd)return ri;Jd=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.merge=void 0;var e=xu(),i=ce(),u=lr(),o=Ze(),n=Pr();function r(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var s=o.popScheduler(t),c=o.popNumber(t,1/0),h=t;return h.length?h.length===1?i.innerFrom(h[0]):e.mergeAll(c)(n.from(h,s)):u.EMPTY}return ri.merge=r,ri}var qs={},ev;function rv(){return ev||(ev=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var i=be(),u=xe();e.NEVER=new i.Observable(u.noop);function o(){return e.NEVER}e.never=o}(qs)),qs}var ti={},ni={},tv;function gt(){if(tv)return ni;tv=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.argsOrArgArray=void 0;var e=Array.isArray;function i(u){return u.length===1&&e(u[0])?u[0]:u}return ni.argsOrArgArray=i,ni}var nv;function My(){if(nv)return ti;nv=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.onErrorResumeNext=void 0;var e=be(),i=gt(),u=ae(),o=xe(),n=ce();function r(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var s=i.argsOrArgArray(t);return new e.Observable(function(c){var h=0,l=function(){if(h<s.length){var m=void 0;try{m=n.innerFrom(s[h++])}catch{l();return}var _=new u.OperatorSubscriber(c,void 0,o.noop,o.noop);m.subscribe(_),_.add(l)}else c.complete()};l()})}return ti.onErrorResumeNext=r,ti}var ii={},iv;function _O(){if(iv)return ii;iv=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.pairs=void 0;var e=Pr();function i(u,o){return e.from(Object.entries(u),o)}return ii.pairs=i,ii}var oi={},ai={},ov;function yO(){if(ov)return ai;ov=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.not=void 0;function e(i,u){return function(o,n){return!i.call(u,o,n)}}return ai.not=e,ai}var ui={},av;function Ot(){if(av)return ui;av=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.filter=void 0;var e=ne(),i=ae();function u(o,n){return e.operate(function(r,t){var a=0;r.subscribe(i.createOperatorSubscriber(t,function(s){return o.call(n,s,a++)&&t.next(s)}))})}return ui.filter=u,ui}var uv;function mO(){if(uv)return oi;uv=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.partition=void 0;var e=yO(),i=Ot(),u=ce();function o(n,r,t){return[i.filter(r,t)(u.innerFrom(n)),i.filter(e.not(r,t))(u.innerFrom(n))]}return oi.partition=o,oi}var Hr={},sv;function Ny(){if(sv)return Hr;sv=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.raceInit=Hr.race=void 0;var e=be(),i=ce(),u=gt(),o=ae();function n(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return t=u.argsOrArgArray(t),t.length===1?i.innerFrom(t[0]):new e.Observable(r(t))}Hr.race=n;function r(t){return function(a){for(var s=[],c=function(l){s.push(i.innerFrom(t[l]).subscribe(o.createOperatorSubscriber(a,function(m){if(s){for(var _=0;_<s.length;_++)_!==l&&s[_].unsubscribe();s=null}a.next(m)})))},h=0;s&&!a.closed&&h<t.length;h++)c(h)}}return Hr.raceInit=r,Hr}var si={},cv;function bO(){if(cv)return si;cv=1,Object.defineProperty(si,"__esModule",{value:!0}),si.range=void 0;var e=be(),i=lr();function u(o,n,r){if(n==null&&(n=o,o=0),n<=0)return i.EMPTY;var t=n+o;return new e.Observable(r?function(a){var s=o;return r.schedule(function(){s<t?(a.next(s++),this.schedule()):a.complete()})}:function(a){for(var s=o;s<t&&!a.closed;)a.next(s++);a.complete()})}return si.range=u,si}var ci={},lv;function gO(){if(lv)return ci;lv=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.using=void 0;var e=be(),i=ce(),u=lr();function o(n,r){return new e.Observable(function(t){var a=n(),s=r(a),c=s?i.innerFrom(s):u.EMPTY;return c.subscribe(t),function(){a&&a.unsubscribe()}})}return ci.using=o,ci}var li={},fv;function Tc(){if(fv)return li;fv=1;var e=P&&P.__read||function(c,h){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var m=l.call(c),_,y=[],d;try{for(;(h===void 0||h-- >0)&&!(_=m.next()).done;)y.push(_.value)}catch(f){d={error:f}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(d)throw d.error}}return y},i=P&&P.__spreadArray||function(c,h){for(var l=0,m=h.length,_=c.length;l<m;l++,_++)c[_]=h[l];return c};Object.defineProperty(li,"__esModule",{value:!0}),li.zip=void 0;var u=be(),o=ce(),n=gt(),r=lr(),t=ae(),a=Ze();function s(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var l=a.popResultSelector(c),m=n.argsOrArgArray(c);return m.length?new u.Observable(function(_){var y=m.map(function(){return[]}),d=m.map(function(){return!1});_.add(function(){y=d=null});for(var f=function(p){o.innerFrom(m[p]).subscribe(t.createOperatorSubscriber(_,function(b){if(y[p].push(b),y.every(function(O){return O.length})){var g=y.map(function(O){return O.shift()});_.next(l?l.apply(void 0,i([],e(g))):g),y.some(function(O,w){return!O.length&&d[w]})&&_.complete()}},function(){d[p]=!0,!y[p].length&&_.complete()}))},v=0;!_.closed&&v<m.length;v++)f(v);return function(){y=d=null}}):r.EMPTY}return li.zip=s,li}var Ls={},dv;function OO(){return dv||(dv=1,Object.defineProperty(Ls,"__esModule",{value:!0})),Ls}var fi={},vv;function ky(){if(vv)return fi;vv=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.audit=void 0;var e=ne(),i=ce(),u=ae();function o(n){return e.operate(function(r,t){var a=!1,s=null,c=null,h=!1,l=function(){if(c==null||c.unsubscribe(),c=null,a){a=!1;var _=s;s=null,t.next(_)}h&&t.complete()},m=function(){c=null,h&&t.complete()};r.subscribe(u.createOperatorSubscriber(t,function(_){a=!0,s=_,c||i.innerFrom(n(_)).subscribe(c=u.createOperatorSubscriber(t,l,m))},function(){h=!0,(!a||!c||c.closed)&&t.complete()}))})}return fi.audit=o,fi}var di={},hv;function wO(){if(hv)return di;hv=1,Object.defineProperty(di,"__esModule",{value:!0}),di.auditTime=void 0;var e=Ke(),i=ky(),u=it();function o(n,r){return r===void 0&&(r=e.asyncScheduler),i.audit(function(){return u.timer(n,r)})}return di.auditTime=o,di}var vi={},pv;function EO(){if(pv)return vi;pv=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.buffer=void 0;var e=ne(),i=xe(),u=ae(),o=ce();function n(r){return e.operate(function(t,a){var s=[];return t.subscribe(u.createOperatorSubscriber(a,function(c){return s.push(c)},function(){a.next(s),a.complete()})),o.innerFrom(r).subscribe(u.createOperatorSubscriber(a,function(){var c=s;s=[],a.next(c)},i.noop)),function(){s=null}})}return vi.buffer=n,vi}var hi={},_v;function SO(){if(_v)return hi;_v=1;var e=P&&P.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&r[t],s=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hi,"__esModule",{value:!0}),hi.bufferCount=void 0;var i=ne(),u=ae(),o=Sr();function n(r,t){return t===void 0&&(t=null),t=t??r,i.operate(function(a,s){var c=[],h=0;a.subscribe(u.createOperatorSubscriber(s,function(l){var m,_,y,d,f=null;h++%t===0&&c.push([]);try{for(var v=e(c),p=v.next();!p.done;p=v.next()){var b=p.value;b.push(l),r<=b.length&&(f=f??[],f.push(b))}}catch(w){m={error:w}}finally{try{p&&!p.done&&(_=v.return)&&_.call(v)}finally{if(m)throw m.error}}if(f)try{for(var g=e(f),O=g.next();!O.done;O=g.next()){var b=O.value;o.arrRemove(c,b),s.next(b)}}catch(w){y={error:w}}finally{try{O&&!O.done&&(d=g.return)&&d.call(g)}finally{if(y)throw y.error}}},function(){var l,m;try{for(var _=e(c),y=_.next();!y.done;y=_.next()){var d=y.value;s.next(d)}}catch(f){l={error:f}}finally{try{y&&!y.done&&(m=_.return)&&m.call(_)}finally{if(l)throw l.error}}s.complete()},void 0,function(){c=null}))})}return hi.bufferCount=n,hi}var pi={},yv;function TO(){if(yv)return pi;yv=1;var e=P&&P.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,l=h&&c[h],m=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pi,"__esModule",{value:!0}),pi.bufferTime=void 0;var i=rr(),u=ne(),o=ae(),n=Sr(),r=Ke(),t=Ze(),a=Tr();function s(c){for(var h,l,m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];var y=(h=t.popScheduler(m))!==null&&h!==void 0?h:r.asyncScheduler,d=(l=m[0])!==null&&l!==void 0?l:null,f=m[1]||1/0;return u.operate(function(v,p){var b=[],g=!1,O=function(R){var A=R.buffer,B=R.subs;B.unsubscribe(),n.arrRemove(b,R),p.next(A),g&&w()},w=function(){if(b){var R=new i.Subscription;p.add(R);var A=[],B={buffer:A,subs:R};b.push(B),a.executeSchedule(R,y,function(){return O(B)},c)}};d!==null&&d>=0?a.executeSchedule(p,y,w,d,!0):g=!0,w();var E=o.createOperatorSubscriber(p,function(R){var A,B,D=b.slice();try{for(var q=e(D),F=q.next();!F.done;F=q.next()){var W=F.value,k=W.buffer;k.push(R),f<=k.length&&O(W)}}catch(j){A={error:j}}finally{try{F&&!F.done&&(B=q.return)&&B.call(q)}finally{if(A)throw A.error}}},function(){for(;b!=null&&b.length;)p.next(b.shift().buffer);E==null||E.unsubscribe(),p.complete(),p.unsubscribe()},void 0,function(){return b=null});v.subscribe(E)})}return pi.bufferTime=s,pi}var _i={},mv;function PO(){if(mv)return _i;mv=1;var e=P&&P.__values||function(s){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&s[c],l=0;if(h)return h.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_i,"__esModule",{value:!0}),_i.bufferToggle=void 0;var i=rr(),u=ne(),o=ce(),n=ae(),r=xe(),t=Sr();function a(s,c){return u.operate(function(h,l){var m=[];o.innerFrom(s).subscribe(n.createOperatorSubscriber(l,function(_){var y=[];m.push(y);var d=new i.Subscription,f=function(){t.arrRemove(m,y),l.next(y),d.unsubscribe()};d.add(o.innerFrom(c(_)).subscribe(n.createOperatorSubscriber(l,f,r.noop)))},r.noop)),h.subscribe(n.createOperatorSubscriber(l,function(_){var y,d;try{for(var f=e(m),v=f.next();!v.done;v=f.next()){var p=v.value;p.push(_)}}catch(b){y={error:b}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(y)throw y.error}}},function(){for(;m.length>0;)l.next(m.shift());l.complete()}))})}return _i.bufferToggle=a,_i}var yi={},bv;function RO(){if(bv)return yi;bv=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.bufferWhen=void 0;var e=ne(),i=xe(),u=ae(),o=ce();function n(r){return e.operate(function(t,a){var s=null,c=null,h=function(){c==null||c.unsubscribe();var l=s;s=[],l&&a.next(l),o.innerFrom(r()).subscribe(c=u.createOperatorSubscriber(a,h,i.noop))};h(),t.subscribe(u.createOperatorSubscriber(a,function(l){return s==null?void 0:s.push(l)},function(){s&&a.next(s),a.complete()},void 0,function(){return s=c=null}))})}return yi.bufferWhen=n,yi}var mi={},gv;function IO(){if(gv)return mi;gv=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.catchError=void 0;var e=ce(),i=ae(),u=ne();function o(n){return u.operate(function(r,t){var a=null,s=!1,c;a=r.subscribe(i.createOperatorSubscriber(t,void 0,void 0,function(h){c=e.innerFrom(n(h,o(n)(r))),a?(a.unsubscribe(),a=null,c.subscribe(t)):s=!0})),s&&(a.unsubscribe(),a=null,c.subscribe(t))})}return mi.catchError=o,mi}var bi={},gi={},Oi={},wi={},Ei={},Si={},Ov;function Dy(){if(Ov)return Si;Ov=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.scanInternals=void 0;var e=ae();function i(u,o,n,r,t){return function(a,s){var c=n,h=o,l=0;a.subscribe(e.createOperatorSubscriber(s,function(m){var _=l++;h=c?u(h,m,_):(c=!0,m),r&&s.next(h)},t&&function(){c&&s.next(h),s.complete()}))}}return Si.scanInternals=i,Si}var wv;function ma(){if(wv)return Ei;wv=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.reduce=void 0;var e=Dy(),i=ne();function u(o,n){return i.operate(e.scanInternals(o,n,arguments.length>=2,!1,!0))}return Ei.reduce=u,Ei}var Ev;function qy(){if(Ev)return wi;Ev=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.toArray=void 0;var e=ma(),i=ne(),u=function(n,r){return n.push(r),n};function o(){return i.operate(function(n,r){e.reduce(u,[])(n).subscribe(r)})}return wi.toArray=o,wi}var Sv;function Ly(){if(Sv)return Oi;Sv=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.joinAllInternals=void 0;var e=Fe(),i=nt(),u=ku(),o=Rr(),n=qy();function r(t,a){return u.pipe(n.toArray(),o.mergeMap(function(s){return t(s)}),a?i.mapOneOrManyArgs(a):e.identity)}return Oi.joinAllInternals=r,Oi}var Tv;function Uy(){if(Tv)return gi;Tv=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.combineLatestAll=void 0;var e=wc(),i=Ly();function u(o){return i.joinAllInternals(e.combineLatest,o)}return gi.combineLatestAll=u,gi}var Pv;function CO(){if(Pv)return bi;Pv=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.combineAll=void 0;var e=Uy();return bi.combineAll=e.combineLatestAll,bi}var Ti={},Pi={},Rv;function AO(){if(Rv)return Pi;Rv=1;var e=P&&P.__read||function(c,h){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var m=l.call(c),_,y=[],d;try{for(;(h===void 0||h-- >0)&&!(_=m.next()).done;)y.push(_.value)}catch(f){d={error:f}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(d)throw d.error}}return y},i=P&&P.__spreadArray||function(c,h){for(var l=0,m=h.length,_=c.length;l<m;l++,_++)c[_]=h[l];return c};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.combineLatest=void 0;var u=wc(),o=ne(),n=gt(),r=nt(),t=ku(),a=Ze();function s(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var l=a.popResultSelector(c);return l?t.pipe(s.apply(void 0,i([],e(c))),r.mapOneOrManyArgs(l)):o.operate(function(m,_){u.combineLatestInit(i([m],e(n.argsOrArgArray(c))))(_)})}return Pi.combineLatest=s,Pi}var Iv;function jO(){if(Iv)return Ti;Iv=1;var e=P&&P.__read||function(n,r){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var a=t.call(n),s,c=[],h;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){h={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(h)throw h.error}}return c},i=P&&P.__spreadArray||function(n,r){for(var t=0,a=r.length,s=n.length;t<a;t++,s++)n[s]=r[t];return n};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.combineLatestWith=void 0;var u=AO();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u.combineLatest.apply(void 0,i([],e(n)))}return Ti.combineLatestWith=o,Ti}var Ri={},Cv;function xy(){if(Cv)return Ri;Cv=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.concatMap=void 0;var e=Rr(),i=ye();function u(o,n){return i.isFunction(n)?e.mergeMap(o,n,1):e.mergeMap(o,1)}return Ri.concatMap=u,Ri}var Ii={},Av;function MO(){if(Av)return Ii;Av=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.concatMapTo=void 0;var e=xy(),i=ye();function u(o,n){return i.isFunction(n)?e.concatMap(function(){return o},n):e.concatMap(function(){return o})}return Ii.concatMapTo=u,Ii}var Ci={},Ai={},jv;function NO(){if(jv)return Ai;jv=1;var e=P&&P.__read||function(a,s){var c=typeof Symbol=="function"&&a[Symbol.iterator];if(!c)return a;var h=c.call(a),l,m=[],_;try{for(;(s===void 0||s-- >0)&&!(l=h.next()).done;)m.push(l.value)}catch(y){_={error:y}}finally{try{l&&!l.done&&(c=h.return)&&c.call(h)}finally{if(_)throw _.error}}return m},i=P&&P.__spreadArray||function(a,s){for(var c=0,h=s.length,l=a.length;c<h;c++,l++)a[l]=s[c];return a};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.concat=void 0;var u=ne(),o=Sc(),n=Ze(),r=Pr();function t(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=n.popScheduler(a);return u.operate(function(h,l){o.concatAll()(r.from(i([h],e(a)),c)).subscribe(l)})}return Ai.concat=t,Ai}var Mv;function kO(){if(Mv)return Ci;Mv=1;var e=P&&P.__read||function(n,r){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var a=t.call(n),s,c=[],h;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){h={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(h)throw h.error}}return c},i=P&&P.__spreadArray||function(n,r){for(var t=0,a=r.length,s=n.length;t<a;t++,s++)n[s]=r[t];return n};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.concatWith=void 0;var u=NO();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u.concat.apply(void 0,i([],e(n)))}return Ci.concatWith=o,Ci}var ji={},Mi={},Nv;function DO(){if(Nv)return Mi;Nv=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.fromSubscribable=void 0;var e=be();function i(u){return new e.Observable(function(o){return u.subscribe(o)})}return Mi.fromSubscribable=i,Mi}var kv;function Pc(){if(kv)return ji;kv=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.connect=void 0;var e=Be(),i=ce(),u=ne(),o=DO(),n={connector:function(){return new e.Subject}};function r(t,a){a===void 0&&(a=n);var s=a.connector;return u.operate(function(c,h){var l=s();i.innerFrom(t(o.fromSubscribable(l))).subscribe(h),h.add(c.subscribe(l))})}return ji.connect=r,ji}var Ni={},Dv;function qO(){if(Dv)return Ni;Dv=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.count=void 0;var e=ma();function i(u){return e.reduce(function(o,n,r){return!u||u(n,r)?o+1:o},0)}return Ni.count=i,Ni}var ki={},qv;function LO(){if(qv)return ki;qv=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.debounce=void 0;var e=ne(),i=xe(),u=ae(),o=ce();function n(r){return e.operate(function(t,a){var s=!1,c=null,h=null,l=function(){if(h==null||h.unsubscribe(),h=null,s){s=!1;var m=c;c=null,a.next(m)}};t.subscribe(u.createOperatorSubscriber(a,function(m){h==null||h.unsubscribe(),s=!0,c=m,h=u.createOperatorSubscriber(a,l,i.noop),o.innerFrom(r(m)).subscribe(h)},function(){l(),a.complete()},void 0,function(){c=h=null}))})}return ki.debounce=n,ki}var Di={},Lv;function UO(){if(Lv)return Di;Lv=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.debounceTime=void 0;var e=Ke(),i=ne(),u=ae();function o(n,r){return r===void 0&&(r=e.asyncScheduler),i.operate(function(t,a){var s=null,c=null,h=null,l=function(){if(s){s.unsubscribe(),s=null;var _=c;c=null,a.next(_)}};function m(){var _=h+n,y=r.now();if(y<_){s=this.schedule(void 0,_-y),a.add(s);return}l()}t.subscribe(u.createOperatorSubscriber(a,function(_){c=_,h=r.now(),s||(s=r.schedule(m,n),a.add(s))},function(){l(),a.complete()},void 0,function(){c=s=null}))})}return Di.debounceTime=o,Di}var qi={},Uv;function Wu(){if(Uv)return qi;Uv=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.defaultIfEmpty=void 0;var e=ne(),i=ae();function u(o){return e.operate(function(n,r){var t=!1;n.subscribe(i.createOperatorSubscriber(r,function(a){t=!0,r.next(a)},function(){t||r.next(o),r.complete()}))})}return qi.defaultIfEmpty=u,qi}var Li={},Ui={},xi={},xv;function Vu(){if(xv)return xi;xv=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.take=void 0;var e=lr(),i=ne(),u=ae();function o(n){return n<=0?function(){return e.EMPTY}:i.operate(function(r,t){var a=0;r.subscribe(u.createOperatorSubscriber(t,function(s){++a<=n&&(t.next(s),n<=a&&t.complete())}))})}return xi.take=o,xi}var Fi={},Fv;function Fy(){if(Fv)return Fi;Fv=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.ignoreElements=void 0;var e=ne(),i=ae(),u=xe();function o(){return e.operate(function(n,r){n.subscribe(i.createOperatorSubscriber(r,u.noop))})}return Fi.ignoreElements=o,Fi}var Bi={},Bv;function By(){if(Bv)return Bi;Bv=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.mapTo=void 0;var e=tt();function i(u){return e.map(function(){return u})}return Bi.mapTo=i,Bi}var Wv;function Wy(){if(Wv)return Ui;Wv=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.delayWhen=void 0;var e=Fu(),i=Vu(),u=Fy(),o=By(),n=Rr(),r=ce();function t(a,s){return s?function(c){return e.concat(s.pipe(i.take(1),u.ignoreElements()),c.pipe(t(a)))}:n.mergeMap(function(c,h){return r.innerFrom(a(c,h)).pipe(i.take(1),o.mapTo(c))})}return Ui.delayWhen=t,Ui}var Vv;function xO(){if(Vv)return Li;Vv=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.delay=void 0;var e=Ke(),i=Wy(),u=it();function o(n,r){r===void 0&&(r=e.asyncScheduler);var t=u.timer(n,r);return i.delayWhen(function(){return t})}return Li.delay=o,Li}var Wi={},$v;function FO(){if($v)return Wi;$v=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.dematerialize=void 0;var e=gc(),i=ne(),u=ae();function o(){return i.operate(function(n,r){n.subscribe(u.createOperatorSubscriber(r,function(t){return e.observeNotification(t,r)}))})}return Wi.dematerialize=o,Wi}var Vi={},Hv;function BO(){if(Hv)return Vi;Hv=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.distinct=void 0;var e=ne(),i=ae(),u=xe(),o=ce();function n(r,t){return e.operate(function(a,s){var c=new Set;a.subscribe(i.createOperatorSubscriber(s,function(h){var l=r?r(h):h;c.has(l)||(c.add(l),s.next(h))})),t&&o.innerFrom(t).subscribe(i.createOperatorSubscriber(s,function(){return c.clear()},u.noop))})}return Vi.distinct=n,Vi}var $i={},zv;function Vy(){if(zv)return $i;zv=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.distinctUntilChanged=void 0;var e=Fe(),i=ne(),u=ae();function o(r,t){return t===void 0&&(t=e.identity),r=r??n,i.operate(function(a,s){var c,h=!0;a.subscribe(u.createOperatorSubscriber(s,function(l){var m=t(l);(h||!r(c,m))&&(h=!1,c=m,s.next(l))}))})}$i.distinctUntilChanged=o;function n(r,t){return r===t}return $i}var Hi={},Yv;function WO(){if(Yv)return Hi;Yv=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.distinctUntilKeyChanged=void 0;var e=Vy();function i(u,o){return e.distinctUntilChanged(function(n,r){return o?o(n[u],r[u]):n[u]===r[u]})}return Hi.distinctUntilKeyChanged=i,Hi}var zi={},Yi={},Gv;function $u(){if(Gv)return Yi;Gv=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.throwIfEmpty=void 0;var e=rt(),i=ne(),u=ae();function o(r){return r===void 0&&(r=n),i.operate(function(t,a){var s=!1;t.subscribe(u.createOperatorSubscriber(a,function(c){s=!0,a.next(c)},function(){return s?a.complete():a.error(r())}))})}Yi.throwIfEmpty=o;function n(){return new e.EmptyError}return Yi}var Kv;function VO(){if(Kv)return zi;Kv=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.elementAt=void 0;var e=Ty(),i=Ot(),u=$u(),o=Wu(),n=Vu();function r(t,a){if(t<0)throw new e.ArgumentOutOfRangeError;var s=arguments.length>=2;return function(c){return c.pipe(i.filter(function(h,l){return l===t}),n.take(1),s?o.defaultIfEmpty(a):u.throwIfEmpty(function(){return new e.ArgumentOutOfRangeError}))}}return zi.elementAt=r,zi}var Gi={},Zv;function $O(){if(Zv)return Gi;Zv=1;var e=P&&P.__read||function(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var s=a.call(r),c,h=[],l;try{for(;(t===void 0||t-- >0)&&!(c=s.next()).done;)h.push(c.value)}catch(m){l={error:m}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}return h},i=P&&P.__spreadArray||function(r,t){for(var a=0,s=t.length,c=r.length;a<s;a++,c++)r[c]=t[a];return r};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.endWith=void 0;var u=Fu(),o=bc();function n(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(a){return u.concat(a,o.of.apply(void 0,i([],e(r))))}}return Gi.endWith=n,Gi}var Ki={},Qv;function HO(){if(Qv)return Ki;Qv=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.every=void 0;var e=ne(),i=ae();function u(o,n){return e.operate(function(r,t){var a=0;r.subscribe(i.createOperatorSubscriber(t,function(s){o.call(n,s,a++,r)||(t.next(!1),t.complete())},function(){t.next(!0),t.complete()}))})}return Ki.every=u,Ki}var Zi={},Qi={},Xi={},Xv;function $y(){if(Xv)return Xi;Xv=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.exhaustMap=void 0;var e=tt(),i=ce(),u=ne(),o=ae();function n(r,t){return t?function(a){return a.pipe(n(function(s,c){return i.innerFrom(r(s,c)).pipe(e.map(function(h,l){return t(s,h,c,l)}))}))}:u.operate(function(a,s){var c=0,h=null,l=!1;a.subscribe(o.createOperatorSubscriber(s,function(m){h||(h=o.createOperatorSubscriber(s,void 0,function(){h=null,l&&s.complete()}),i.innerFrom(r(m,c++)).subscribe(h))},function(){l=!0,!h&&s.complete()}))})}return Xi.exhaustMap=n,Xi}var Jv;function Hy(){if(Jv)return Qi;Jv=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.exhaustAll=void 0;var e=$y(),i=Fe();function u(){return e.exhaustMap(i.identity)}return Qi.exhaustAll=u,Qi}var eh;function zO(){if(eh)return Zi;eh=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.exhaust=void 0;var e=Hy();return Zi.exhaust=e.exhaustAll,Zi}var Ji={},rh;function YO(){if(rh)return Ji;rh=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.expand=void 0;var e=ne(),i=Ec();function u(o,n,r){return n===void 0&&(n=1/0),n=(n||0)<1?1/0:n,e.operate(function(t,a){return i.mergeInternals(t,a,o,n,void 0,!0,r)})}return Ji.expand=u,Ji}var eo={},th;function GO(){if(th)return eo;th=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.finalize=void 0;var e=ne();function i(u){return e.operate(function(o,n){try{o.subscribe(n)}finally{n.add(u)}})}return eo.finalize=i,eo}var zr={},nh;function zy(){if(nh)return zr;nh=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.createFind=zr.find=void 0;var e=ne(),i=ae();function u(n,r){return e.operate(o(n,r,"value"))}zr.find=u;function o(n,r,t){var a=t==="index";return function(s,c){var h=0;s.subscribe(i.createOperatorSubscriber(c,function(l){var m=h++;n.call(r,l,m,s)&&(c.next(a?m:l),c.complete())},function(){c.next(a?-1:void 0),c.complete()}))}}return zr.createFind=o,zr}var ro={},ih;function KO(){if(ih)return ro;ih=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.findIndex=void 0;var e=ne(),i=zy();function u(o,n){return e.operate(i.createFind(o,n,"index"))}return ro.findIndex=u,ro}var to={},oh;function ZO(){if(oh)return to;oh=1,Object.defineProperty(to,"__esModule",{value:!0}),to.first=void 0;var e=rt(),i=Ot(),u=Vu(),o=Wu(),n=$u(),r=Fe();function t(a,s){var c=arguments.length>=2;return function(h){return h.pipe(a?i.filter(function(l,m){return a(l,m,h)}):r.identity,u.take(1),c?o.defaultIfEmpty(s):n.throwIfEmpty(function(){return new e.EmptyError}))}}return to.first=t,to}var no={},ah;function QO(){if(ah)return no;ah=1,Object.defineProperty(no,"__esModule",{value:!0}),no.groupBy=void 0;var e=be(),i=ce(),u=Be(),o=ne(),n=ae();function r(t,a,s,c){return o.operate(function(h,l){var m;!a||typeof a=="function"?m=a:(s=a.duration,m=a.element,c=a.connector);var _=new Map,y=function(g){_.forEach(g),g(l)},d=function(g){return y(function(O){return O.error(g)})},f=0,v=!1,p=new n.OperatorSubscriber(l,function(g){try{var O=t(g),w=_.get(O);if(!w){_.set(O,w=c?c():new u.Subject);var E=b(O,w);if(l.next(E),s){var R=n.createOperatorSubscriber(w,function(){w.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return _.delete(O)});p.add(i.innerFrom(s(E)).subscribe(R))}}w.next(m?m(g):g)}catch(A){d(A)}},function(){return y(function(g){return g.complete()})},d,function(){return _.clear()},function(){return v=!0,f===0});h.subscribe(p);function b(g,O){var w=new e.Observable(function(E){f++;var R=O.subscribe(E);return function(){R.unsubscribe(),--f===0&&v&&p.unsubscribe()}});return w.key=g,w}})}return no.groupBy=r,no}var io={},uh;function XO(){if(uh)return io;uh=1,Object.defineProperty(io,"__esModule",{value:!0}),io.isEmpty=void 0;var e=ne(),i=ae();function u(){return e.operate(function(o,n){o.subscribe(i.createOperatorSubscriber(n,function(){n.next(!1),n.complete()},function(){n.next(!0),n.complete()}))})}return io.isEmpty=u,io}var oo={},ao={},sh;function Yy(){if(sh)return ao;sh=1;var e=P&&P.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&r[t],s=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ao,"__esModule",{value:!0}),ao.takeLast=void 0;var i=lr(),u=ne(),o=ae();function n(r){return r<=0?function(){return i.EMPTY}:u.operate(function(t,a){var s=[];t.subscribe(o.createOperatorSubscriber(a,function(c){s.push(c),r<s.length&&s.shift()},function(){var c,h;try{for(var l=e(s),m=l.next();!m.done;m=l.next()){var _=m.value;a.next(_)}}catch(y){c={error:y}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(c)throw c.error}}a.complete()},void 0,function(){s=null}))})}return ao.takeLast=n,ao}var ch;function JO(){if(ch)return oo;ch=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.last=void 0;var e=rt(),i=Ot(),u=Yy(),o=$u(),n=Wu(),r=Fe();function t(a,s){var c=arguments.length>=2;return function(h){return h.pipe(a?i.filter(function(l,m){return a(l,m,h)}):r.identity,u.takeLast(1),c?n.defaultIfEmpty(s):o.throwIfEmpty(function(){return new e.EmptyError}))}}return oo.last=t,oo}var uo={},lh;function ew(){if(lh)return uo;lh=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.materialize=void 0;var e=gc(),i=ne(),u=ae();function o(){return i.operate(function(n,r){n.subscribe(u.createOperatorSubscriber(r,function(t){r.next(e.Notification.createNext(t))},function(){r.next(e.Notification.createComplete()),r.complete()},function(t){r.next(e.Notification.createError(t)),r.complete()}))})}return uo.materialize=o,uo}var so={},fh;function rw(){if(fh)return so;fh=1,Object.defineProperty(so,"__esModule",{value:!0}),so.max=void 0;var e=ma(),i=ye();function u(o){return e.reduce(i.isFunction(o)?function(n,r){return o(n,r)>0?n:r}:function(n,r){return n>r?n:r})}return so.max=u,so}var co={},dh;function tw(){if(dh)return co;dh=1,Object.defineProperty(co,"__esModule",{value:!0}),co.flatMap=void 0;var e=Rr();return co.flatMap=e.mergeMap,co}var lo={},vh;function nw(){if(vh)return lo;vh=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.mergeMapTo=void 0;var e=Rr(),i=ye();function u(o,n,r){return r===void 0&&(r=1/0),i.isFunction(n)?e.mergeMap(function(){return o},n,r):(typeof n=="number"&&(r=n),e.mergeMap(function(){return o},r))}return lo.mergeMapTo=u,lo}var fo={},hh;function iw(){if(hh)return fo;hh=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.mergeScan=void 0;var e=ne(),i=Ec();function u(o,n,r){return r===void 0&&(r=1/0),e.operate(function(t,a){var s=n;return i.mergeInternals(t,a,function(c,h){return o(s,c,h)},r,function(c){s=c},!1,void 0,function(){return s=null})})}return fo.mergeScan=u,fo}var vo={},ho={},ph;function ow(){if(ph)return ho;ph=1;var e=P&&P.__read||function(s,c){var h=typeof Symbol=="function"&&s[Symbol.iterator];if(!h)return s;var l=h.call(s),m,_=[],y;try{for(;(c===void 0||c-- >0)&&!(m=l.next()).done;)_.push(m.value)}catch(d){y={error:d}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(y)throw y.error}}return _},i=P&&P.__spreadArray||function(s,c){for(var h=0,l=c.length,m=s.length;h<l;h++,m++)s[m]=c[h];return s};Object.defineProperty(ho,"__esModule",{value:!0}),ho.merge=void 0;var u=ne(),o=gt(),n=xu(),r=Ze(),t=Pr();function a(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var h=r.popScheduler(s),l=r.popNumber(s,1/0);return s=o.argsOrArgArray(s),u.operate(function(m,_){n.mergeAll(l)(t.from(i([m],e(s)),h)).subscribe(_)})}return ho.merge=a,ho}var _h;function aw(){if(_h)return vo;_h=1;var e=P&&P.__read||function(n,r){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var a=t.call(n),s,c=[],h;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){h={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(h)throw h.error}}return c},i=P&&P.__spreadArray||function(n,r){for(var t=0,a=r.length,s=n.length;t<a;t++,s++)n[s]=r[t];return n};Object.defineProperty(vo,"__esModule",{value:!0}),vo.mergeWith=void 0;var u=ow();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u.merge.apply(void 0,i([],e(n)))}return vo.mergeWith=o,vo}var po={},yh;function uw(){if(yh)return po;yh=1,Object.defineProperty(po,"__esModule",{value:!0}),po.min=void 0;var e=ma(),i=ye();function u(o){return e.reduce(i.isFunction(o)?function(n,r){return o(n,r)<0?n:r}:function(n,r){return n<r?n:r})}return po.min=u,po}var _o={},mh;function Rc(){if(mh)return _o;mh=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.multicast=void 0;var e=Du(),i=ye(),u=Pc();function o(n,r){var t=i.isFunction(n)?n:function(){return n};return i.isFunction(r)?u.connect(r,{connector:t}):function(a){return new e.ConnectableObservable(a,t)}}return _o.multicast=o,_o}var Yr={},bh;function sw(){if(bh)return Yr;bh=1;var e=P&&P.__read||function(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var s=a.call(r),c,h=[],l;try{for(;(t===void 0||t-- >0)&&!(c=s.next()).done;)h.push(c.value)}catch(m){l={error:m}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}return h},i=P&&P.__spreadArray||function(r,t){for(var a=0,s=t.length,c=r.length;a<s;a++,c++)r[c]=t[a];return r};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.onErrorResumeNext=Yr.onErrorResumeNextWith=void 0;var u=gt(),o=My();function n(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var a=u.argsOrArgArray(r);return function(s){return o.onErrorResumeNext.apply(void 0,i([s],e(a)))}}return Yr.onErrorResumeNextWith=n,Yr.onErrorResumeNext=n,Yr}var yo={},gh;function cw(){if(gh)return yo;gh=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.pairwise=void 0;var e=ne(),i=ae();function u(){return e.operate(function(o,n){var r,t=!1;o.subscribe(i.createOperatorSubscriber(n,function(a){var s=r;r=a,t&&n.next([s,a]),t=!0}))})}return yo.pairwise=u,yo}var mo={},Oh;function lw(){if(Oh)return mo;Oh=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.pluck=void 0;var e=tt();function i(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];var n=u.length;if(n===0)throw new Error("list of properties cannot be empty.");return e.map(function(r){for(var t=r,a=0;a<n;a++){var s=t==null?void 0:t[u[a]];if(typeof s<"u")t=s;else return}return t})}return mo.pluck=i,mo}var bo={},wh;function fw(){if(wh)return bo;wh=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.publish=void 0;var e=Be(),i=Rc(),u=Pc();function o(n){return n?function(r){return u.connect(n)(r)}:function(r){return i.multicast(new e.Subject)(r)}}return bo.publish=o,bo}var go={},Eh;function dw(){if(Eh)return go;Eh=1,Object.defineProperty(go,"__esModule",{value:!0}),go.publishBehavior=void 0;var e=vy(),i=Du();function u(o){return function(n){var r=new e.BehaviorSubject(o);return new i.ConnectableObservable(n,function(){return r})}}return go.publishBehavior=u,go}var Oo={},Sh;function vw(){if(Sh)return Oo;Sh=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.publishLast=void 0;var e=_c(),i=Du();function u(){return function(o){var n=new e.AsyncSubject;return new i.ConnectableObservable(o,function(){return n})}}return Oo.publishLast=u,Oo}var wo={},Th;function hw(){if(Th)return wo;Th=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.publishReplay=void 0;var e=pc(),i=Rc(),u=ye();function o(n,r,t,a){t&&!u.isFunction(t)&&(a=t);var s=u.isFunction(t)?t:void 0;return function(c){return i.multicast(new e.ReplaySubject(n,r,a),s)(c)}}return wo.publishReplay=o,wo}var Eo={},Ph;function pw(){if(Ph)return Eo;Ph=1;var e=P&&P.__read||function(t,a){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var c=s.call(t),h,l=[],m;try{for(;(a===void 0||a-- >0)&&!(h=c.next()).done;)l.push(h.value)}catch(_){m={error:_}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(m)throw m.error}}return l},i=P&&P.__spreadArray||function(t,a){for(var s=0,c=a.length,h=t.length;s<c;s++,h++)t[h]=a[s];return t};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.raceWith=void 0;var u=Ny(),o=ne(),n=Fe();function r(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return t.length?o.operate(function(s,c){u.raceInit(i([s],e(t)))(c)}):n.identity}return Eo.raceWith=r,Eo}var So={},Rh;function _w(){if(Rh)return So;Rh=1,Object.defineProperty(So,"__esModule",{value:!0}),So.repeat=void 0;var e=lr(),i=ne(),u=ae(),o=ce(),n=it();function r(t){var a,s=1/0,c;return t!=null&&(typeof t=="object"?(a=t.count,s=a===void 0?1/0:a,c=t.delay):s=t),s<=0?function(){return e.EMPTY}:i.operate(function(h,l){var m=0,_,y=function(){if(_==null||_.unsubscribe(),_=null,c!=null){var f=typeof c=="number"?n.timer(c):o.innerFrom(c(m)),v=u.createOperatorSubscriber(l,function(){v.unsubscribe(),d()});f.subscribe(v)}else d()},d=function(){var f=!1;_=h.subscribe(u.createOperatorSubscriber(l,void 0,function(){++m<s?_?y():f=!0:l.complete()})),f&&y()};d()})}return So.repeat=r,So}var To={},Ih;function yw(){if(Ih)return To;Ih=1,Object.defineProperty(To,"__esModule",{value:!0}),To.repeatWhen=void 0;var e=ce(),i=Be(),u=ne(),o=ae();function n(r){return u.operate(function(t,a){var s,c=!1,h,l=!1,m=!1,_=function(){return m&&l&&(a.complete(),!0)},y=function(){return h||(h=new i.Subject,e.innerFrom(r(h)).subscribe(o.createOperatorSubscriber(a,function(){s?d():c=!0},function(){l=!0,_()}))),h},d=function(){m=!1,s=t.subscribe(o.createOperatorSubscriber(a,void 0,function(){m=!0,!_()&&y().next()})),c&&(s.unsubscribe(),s=null,c=!1,d())};d()})}return To.repeatWhen=n,To}var Po={},Ch;function mw(){if(Ch)return Po;Ch=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.retry=void 0;var e=ne(),i=ae(),u=Fe(),o=it(),n=ce();function r(t){t===void 0&&(t=1/0);var a;t&&typeof t=="object"?a=t:a={count:t};var s=a.count,c=s===void 0?1/0:s,h=a.delay,l=a.resetOnSuccess,m=l===void 0?!1:l;return c<=0?u.identity:e.operate(function(_,y){var d=0,f,v=function(){var p=!1;f=_.subscribe(i.createOperatorSubscriber(y,function(b){m&&(d=0),y.next(b)},void 0,function(b){if(d++<c){var g=function(){f?(f.unsubscribe(),f=null,v()):p=!0};if(h!=null){var O=typeof h=="number"?o.timer(h):n.innerFrom(h(b,d)),w=i.createOperatorSubscriber(y,function(){w.unsubscribe(),g()},function(){y.complete()});O.subscribe(w)}else g()}else y.error(b)})),p&&(f.unsubscribe(),f=null,v())};v()})}return Po.retry=r,Po}var Ro={},Ah;function bw(){if(Ah)return Ro;Ah=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.retryWhen=void 0;var e=ce(),i=Be(),u=ne(),o=ae();function n(r){return u.operate(function(t,a){var s,c=!1,h,l=function(){s=t.subscribe(o.createOperatorSubscriber(a,void 0,void 0,function(m){h||(h=new i.Subject,e.innerFrom(r(h)).subscribe(o.createOperatorSubscriber(a,function(){return s?l():c=!0}))),h&&h.next(m)})),c&&(s.unsubscribe(),s=null,c=!1,l())};l()})}return Ro.retryWhen=n,Ro}var Io={},jh;function Gy(){if(jh)return Io;jh=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.sample=void 0;var e=ce(),i=ne(),u=xe(),o=ae();function n(r){return i.operate(function(t,a){var s=!1,c=null;t.subscribe(o.createOperatorSubscriber(a,function(h){s=!0,c=h})),e.innerFrom(r).subscribe(o.createOperatorSubscriber(a,function(){if(s){s=!1;var h=c;c=null,a.next(h)}},u.noop))})}return Io.sample=n,Io}var Co={},Mh;function gw(){if(Mh)return Co;Mh=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.sampleTime=void 0;var e=Ke(),i=Gy(),u=jy();function o(n,r){return r===void 0&&(r=e.asyncScheduler),i.sample(u.interval(n,r))}return Co.sampleTime=o,Co}var Ao={},Nh;function Ow(){if(Nh)return Ao;Nh=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.scan=void 0;var e=ne(),i=Dy();function u(o,n){return e.operate(i.scanInternals(o,n,arguments.length>=2,!0))}return Ao.scan=u,Ao}var jo={},kh;function ww(){if(kh)return jo;kh=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.sequenceEqual=void 0;var e=ne(),i=ae(),u=ce();function o(r,t){return t===void 0&&(t=function(a,s){return a===s}),e.operate(function(a,s){var c=n(),h=n(),l=function(_){s.next(_),s.complete()},m=function(_,y){var d=i.createOperatorSubscriber(s,function(f){var v=y.buffer,p=y.complete;v.length===0?p?l(!1):_.buffer.push(f):!t(f,v.shift())&&l(!1)},function(){_.complete=!0;var f=y.complete,v=y.buffer;f&&l(v.length===0),d==null||d.unsubscribe()});return d};a.subscribe(m(c,h)),u.innerFrom(r).subscribe(m(h,c))})}jo.sequenceEqual=o;function n(){return{buffer:[],complete:!1}}return jo}var Mo={},Dh;function Ky(){if(Dh)return Mo;Dh=1;var e=P&&P.__read||function(s,c){var h=typeof Symbol=="function"&&s[Symbol.iterator];if(!h)return s;var l=h.call(s),m,_=[],y;try{for(;(c===void 0||c-- >0)&&!(m=l.next()).done;)_.push(m.value)}catch(d){y={error:d}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(y)throw y.error}}return _},i=P&&P.__spreadArray||function(s,c){for(var h=0,l=c.length,m=s.length;h<l;h++,m++)s[m]=c[h];return s};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.share=void 0;var u=ce(),o=Be(),n=pa(),r=ne();function t(s){s===void 0&&(s={});var c=s.connector,h=c===void 0?function(){return new o.Subject}:c,l=s.resetOnError,m=l===void 0?!0:l,_=s.resetOnComplete,y=_===void 0?!0:_,d=s.resetOnRefCountZero,f=d===void 0?!0:d;return function(v){var p,b,g,O=0,w=!1,E=!1,R=function(){b==null||b.unsubscribe(),b=void 0},A=function(){R(),p=g=void 0,w=E=!1},B=function(){var D=p;A(),D==null||D.unsubscribe()};return r.operate(function(D,q){O++,!E&&!w&&R();var F=g=g??h();q.add(function(){O--,O===0&&!E&&!w&&(b=a(B,f))}),F.subscribe(q),!p&&O>0&&(p=new n.SafeSubscriber({next:function(W){return F.next(W)},error:function(W){E=!0,R(),b=a(A,m,W),F.error(W)},complete:function(){w=!0,R(),b=a(A,y),F.complete()}}),u.innerFrom(D).subscribe(p))})(v)}}Mo.share=t;function a(s,c){for(var h=[],l=2;l<arguments.length;l++)h[l-2]=arguments[l];if(c===!0){s();return}if(c!==!1){var m=new n.SafeSubscriber({next:function(){m.unsubscribe(),s()}});return u.innerFrom(c.apply(void 0,i([],e(h)))).subscribe(m)}}return Mo}var No={},qh;function Ew(){if(qh)return No;qh=1,Object.defineProperty(No,"__esModule",{value:!0}),No.shareReplay=void 0;var e=pc(),i=Ky();function u(o,n,r){var t,a,s,c,h=!1;return o&&typeof o=="object"?(t=o.bufferSize,c=t===void 0?1/0:t,a=o.windowTime,n=a===void 0?1/0:a,s=o.refCount,h=s===void 0?!1:s,r=o.scheduler):c=o??1/0,i.share({connector:function(){return new e.ReplaySubject(c,n,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}return No.shareReplay=u,No}var ko={},Lh;function Sw(){if(Lh)return ko;Lh=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.single=void 0;var e=rt(),i=Ry(),u=Py(),o=ne(),n=ae();function r(t){return o.operate(function(a,s){var c=!1,h,l=!1,m=0;a.subscribe(n.createOperatorSubscriber(s,function(_){l=!0,(!t||t(_,m++,a))&&(c&&s.error(new i.SequenceError("Too many matching values")),c=!0,h=_)},function(){c?(s.next(h),s.complete()):s.error(l?new u.NotFoundError("No matching values"):new e.EmptyError)}))})}return ko.single=r,ko}var Do={},Uh;function Tw(){if(Uh)return Do;Uh=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.skip=void 0;var e=Ot();function i(u){return e.filter(function(o,n){return u<=n})}return Do.skip=i,Do}var qo={},xh;function Pw(){if(xh)return qo;xh=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.skipLast=void 0;var e=Fe(),i=ne(),u=ae();function o(n){return n<=0?e.identity:i.operate(function(r,t){var a=new Array(n),s=0;return r.subscribe(u.createOperatorSubscriber(t,function(c){var h=s++;if(h<n)a[h]=c;else{var l=h%n,m=a[l];a[l]=c,t.next(m)}})),function(){a=null}})}return qo.skipLast=o,qo}var Lo={},Fh;function Rw(){if(Fh)return Lo;Fh=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.skipUntil=void 0;var e=ne(),i=ae(),u=ce(),o=xe();function n(r){return e.operate(function(t,a){var s=!1,c=i.createOperatorSubscriber(a,function(){c==null||c.unsubscribe(),s=!0},o.noop);u.innerFrom(r).subscribe(c),t.subscribe(i.createOperatorSubscriber(a,function(h){return s&&a.next(h)}))})}return Lo.skipUntil=n,Lo}var Uo={},Bh;function Iw(){if(Bh)return Uo;Bh=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.skipWhile=void 0;var e=ne(),i=ae();function u(o){return e.operate(function(n,r){var t=!1,a=0;n.subscribe(i.createOperatorSubscriber(r,function(s){return(t||(t=!o(s,a++)))&&r.next(s)}))})}return Uo.skipWhile=u,Uo}var xo={},Wh;function Cw(){if(Wh)return xo;Wh=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.startWith=void 0;var e=Fu(),i=Ze(),u=ne();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var t=i.popScheduler(n);return u.operate(function(a,s){(t?e.concat(n,a,t):e.concat(n,a)).subscribe(s)})}return xo.startWith=o,xo}var Fo={},Bo={},Vh;function Hu(){if(Vh)return Bo;Vh=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.switchMap=void 0;var e=ce(),i=ne(),u=ae();function o(n,r){return i.operate(function(t,a){var s=null,c=0,h=!1,l=function(){return h&&!s&&a.complete()};t.subscribe(u.createOperatorSubscriber(a,function(m){s==null||s.unsubscribe();var _=0,y=c++;e.innerFrom(n(m,y)).subscribe(s=u.createOperatorSubscriber(a,function(d){return a.next(r?r(m,d,y,_++):d)},function(){s=null,l()}))},function(){h=!0,l()}))})}return Bo.switchMap=o,Bo}var $h;function Aw(){if($h)return Fo;$h=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.switchAll=void 0;var e=Hu(),i=Fe();function u(){return e.switchMap(i.identity)}return Fo.switchAll=u,Fo}var Wo={},Hh;function jw(){if(Hh)return Wo;Hh=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.switchMapTo=void 0;var e=Hu(),i=ye();function u(o,n){return i.isFunction(n)?e.switchMap(function(){return o},n):e.switchMap(function(){return o})}return Wo.switchMapTo=u,Wo}var Vo={},zh;function Mw(){if(zh)return Vo;zh=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.switchScan=void 0;var e=Hu(),i=ne();function u(o,n){return i.operate(function(r,t){var a=n;return e.switchMap(function(s,c){return o(a,s,c)},function(s,c){return a=c,c})(r).subscribe(t),function(){a=null}})}return Vo.switchScan=u,Vo}var $o={},Yh;function Nw(){if(Yh)return $o;Yh=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.takeUntil=void 0;var e=ne(),i=ae(),u=ce(),o=xe();function n(r){return e.operate(function(t,a){u.innerFrom(r).subscribe(i.createOperatorSubscriber(a,function(){return a.complete()},o.noop)),!a.closed&&t.subscribe(a)})}return $o.takeUntil=n,$o}var Ho={},Gh;function kw(){if(Gh)return Ho;Gh=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.takeWhile=void 0;var e=ne(),i=ae();function u(o,n){return n===void 0&&(n=!1),e.operate(function(r,t){var a=0;r.subscribe(i.createOperatorSubscriber(t,function(s){var c=o(s,a++);(c||n)&&t.next(s),!c&&t.complete()}))})}return Ho.takeWhile=u,Ho}var zo={},Kh;function Dw(){if(Kh)return zo;Kh=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.tap=void 0;var e=ye(),i=ne(),u=ae(),o=Fe();function n(r,t,a){var s=e.isFunction(r)||t||a?{next:r,error:t,complete:a}:r;return s?i.operate(function(c,h){var l;(l=s.subscribe)===null||l===void 0||l.call(s);var m=!0;c.subscribe(u.createOperatorSubscriber(h,function(_){var y;(y=s.next)===null||y===void 0||y.call(s,_),h.next(_)},function(){var _;m=!1,(_=s.complete)===null||_===void 0||_.call(s),h.complete()},function(_){var y;m=!1,(y=s.error)===null||y===void 0||y.call(s,_),h.error(_)},function(){var _,y;m&&((_=s.unsubscribe)===null||_===void 0||_.call(s)),(y=s.finalize)===null||y===void 0||y.call(s)}))}):o.identity}return zo.tap=n,zo}var Us={},Zh;function Zy(){return Zh||(Zh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.defaultThrottleConfig=void 0;var i=ne(),u=ae(),o=ce();e.defaultThrottleConfig={leading:!0,trailing:!1};function n(r,t){return t===void 0&&(t=e.defaultThrottleConfig),i.operate(function(a,s){var c=t.leading,h=t.trailing,l=!1,m=null,_=null,y=!1,d=function(){_==null||_.unsubscribe(),_=null,h&&(p(),y&&s.complete())},f=function(){_=null,y&&s.complete()},v=function(b){return _=o.innerFrom(r(b)).subscribe(u.createOperatorSubscriber(s,d,f))},p=function(){if(l){l=!1;var b=m;m=null,s.next(b),!y&&v(b)}};a.subscribe(u.createOperatorSubscriber(s,function(b){l=!0,m=b,!(_&&!_.closed)&&(c?p():v(b))},function(){y=!0,!(h&&l&&_&&!_.closed)&&s.complete()}))})}e.throttle=n}(Us)),Us}var Yo={},Qh;function qw(){if(Qh)return Yo;Qh=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.throttleTime=void 0;var e=Ke(),i=Zy(),u=it();function o(n,r,t){r===void 0&&(r=e.asyncScheduler),t===void 0&&(t=i.defaultThrottleConfig);var a=u.timer(n,r);return i.throttle(function(){return a},t)}return Yo.throttleTime=o,Yo}var Gr={},Xh;function Lw(){if(Xh)return Gr;Xh=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.TimeInterval=Gr.timeInterval=void 0;var e=Ke(),i=ne(),u=ae();function o(r){return r===void 0&&(r=e.asyncScheduler),i.operate(function(t,a){var s=r.now();t.subscribe(u.createOperatorSubscriber(a,function(c){var h=r.now(),l=h-s;s=h,a.next(new n(c,l))}))})}Gr.timeInterval=o;var n=function(){function r(t,a){this.value=t,this.interval=a}return r}();return Gr.TimeInterval=n,Gr}var Go={},Jh;function Uw(){if(Jh)return Go;Jh=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.timeoutWith=void 0;var e=Ke(),i=Oc(),u=ic();function o(n,r,t){var a,s,c;if(t=t??e.async,i.isValidDate(n)?a=n:typeof n=="number"&&(s=n),r)c=function(){return r};else throw new TypeError("No observable provided to switch to");if(a==null&&s==null)throw new TypeError("No timeout provided.");return u.timeout({first:a,each:s,scheduler:t,with:c})}return Go.timeoutWith=o,Go}var Ko={},ep;function xw(){if(ep)return Ko;ep=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.timestamp=void 0;var e=hc(),i=tt();function u(o){return o===void 0&&(o=e.dateTimestampProvider),i.map(function(n){return{value:n,timestamp:o.now()}})}return Ko.timestamp=u,Ko}var Zo={},rp;function Fw(){if(rp)return Zo;rp=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.window=void 0;var e=Be(),i=ne(),u=ae(),o=xe(),n=ce();function r(t){return i.operate(function(a,s){var c=new e.Subject;s.next(c.asObservable());var h=function(l){c.error(l),s.error(l)};return a.subscribe(u.createOperatorSubscriber(s,function(l){return c==null?void 0:c.next(l)},function(){c.complete(),s.complete()},h)),n.innerFrom(t).subscribe(u.createOperatorSubscriber(s,function(){c.complete(),s.next(c=new e.Subject)},o.noop,h)),function(){c==null||c.unsubscribe(),c=null}})}return Zo.window=r,Zo}var Qo={},tp;function Bw(){if(tp)return Qo;tp=1;var e=P&&P.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&r[t],s=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.windowCount=void 0;var i=Be(),u=ne(),o=ae();function n(r,t){t===void 0&&(t=0);var a=t>0?t:r;return u.operate(function(s,c){var h=[new i.Subject],l=0;c.next(h[0].asObservable()),s.subscribe(o.createOperatorSubscriber(c,function(m){var _,y;try{for(var d=e(h),f=d.next();!f.done;f=d.next()){var v=f.value;v.next(m)}}catch(g){_={error:g}}finally{try{f&&!f.done&&(y=d.return)&&y.call(d)}finally{if(_)throw _.error}}var p=l-r+1;if(p>=0&&p%a===0&&h.shift().complete(),++l%a===0){var b=new i.Subject;h.push(b),c.next(b.asObservable())}},function(){for(;h.length>0;)h.shift().complete();c.complete()},function(m){for(;h.length>0;)h.shift().error(m);c.error(m)},function(){h=null}))})}return Qo.windowCount=n,Qo}var Xo={},np;function Ww(){if(np)return Xo;np=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.windowTime=void 0;var e=Be(),i=Ke(),u=rr(),o=ne(),n=ae(),r=Sr(),t=Ze(),a=Tr();function s(c){for(var h,l,m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];var y=(h=t.popScheduler(m))!==null&&h!==void 0?h:i.asyncScheduler,d=(l=m[0])!==null&&l!==void 0?l:null,f=m[1]||1/0;return o.operate(function(v,p){var b=[],g=!1,O=function(A){var B=A.window,D=A.subs;B.complete(),D.unsubscribe(),r.arrRemove(b,A),g&&w()},w=function(){if(b){var A=new u.Subscription;p.add(A);var B=new e.Subject,D={window:B,subs:A,seen:0};b.push(D),p.next(B.asObservable()),a.executeSchedule(A,y,function(){return O(D)},c)}};d!==null&&d>=0?a.executeSchedule(p,y,w,d,!0):g=!0,w();var E=function(A){return b.slice().forEach(A)},R=function(A){E(function(B){var D=B.window;return A(D)}),A(p),p.unsubscribe()};return v.subscribe(n.createOperatorSubscriber(p,function(A){E(function(B){B.window.next(A),f<=++B.seen&&O(B)})},function(){return R(function(A){return A.complete()})},function(A){return R(function(B){return B.error(A)})})),function(){b=null}})}return Xo.windowTime=s,Xo}var Jo={},ip;function Vw(){if(ip)return Jo;ip=1;var e=P&&P.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,l=h&&c[h],m=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&m>=c.length&&(c=void 0),{value:c&&c[m++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.windowToggle=void 0;var i=Be(),u=rr(),o=ne(),n=ce(),r=ae(),t=xe(),a=Sr();function s(c,h){return o.operate(function(l,m){var _=[],y=function(d){for(;0<_.length;)_.shift().error(d);m.error(d)};n.innerFrom(c).subscribe(r.createOperatorSubscriber(m,function(d){var f=new i.Subject;_.push(f);var v=new u.Subscription,p=function(){a.arrRemove(_,f),f.complete(),v.unsubscribe()},b;try{b=n.innerFrom(h(d))}catch(g){y(g);return}m.next(f.asObservable()),v.add(b.subscribe(r.createOperatorSubscriber(m,p,t.noop,y)))},t.noop)),l.subscribe(r.createOperatorSubscriber(m,function(d){var f,v,p=_.slice();try{for(var b=e(p),g=b.next();!g.done;g=b.next()){var O=g.value;O.next(d)}}catch(w){f={error:w}}finally{try{g&&!g.done&&(v=b.return)&&v.call(b)}finally{if(f)throw f.error}}},function(){for(;0<_.length;)_.shift().complete();m.complete()},y,function(){for(;0<_.length;)_.shift().unsubscribe()}))})}return Jo.windowToggle=s,Jo}var ea={},op;function $w(){if(op)return ea;op=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.windowWhen=void 0;var e=Be(),i=ne(),u=ae(),o=ce();function n(r){return i.operate(function(t,a){var s,c,h=function(m){s.error(m),a.error(m)},l=function(){c==null||c.unsubscribe(),s==null||s.complete(),s=new e.Subject,a.next(s.asObservable());var m;try{m=o.innerFrom(r())}catch(_){h(_);return}m.subscribe(c=u.createOperatorSubscriber(a,l,l,h))};l(),t.subscribe(u.createOperatorSubscriber(a,function(m){return s.next(m)},function(){s.complete(),a.complete()},h,function(){c==null||c.unsubscribe(),s=null}))})}return ea.windowWhen=n,ea}var ra={},ap;function Hw(){if(ap)return ra;ap=1;var e=P&&P.__read||function(c,h){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var m=l.call(c),_,y=[],d;try{for(;(h===void 0||h-- >0)&&!(_=m.next()).done;)y.push(_.value)}catch(f){d={error:f}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(d)throw d.error}}return y},i=P&&P.__spreadArray||function(c,h){for(var l=0,m=h.length,_=c.length;l<m;l++,_++)c[_]=h[l];return c};Object.defineProperty(ra,"__esModule",{value:!0}),ra.withLatestFrom=void 0;var u=ne(),o=ae(),n=ce(),r=Fe(),t=xe(),a=Ze();function s(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var l=a.popResultSelector(c);return u.operate(function(m,_){for(var y=c.length,d=new Array(y),f=c.map(function(){return!1}),v=!1,p=function(g){n.innerFrom(c[g]).subscribe(o.createOperatorSubscriber(_,function(O){d[g]=O,!v&&!f[g]&&(f[g]=!0,(v=f.every(r.identity))&&(f=null))},t.noop))},b=0;b<y;b++)p(b);m.subscribe(o.createOperatorSubscriber(_,function(g){if(v){var O=i([g],e(d));_.next(l?l.apply(void 0,i([],e(O))):O)}}))})}return ra.withLatestFrom=s,ra}var ta={},up;function zw(){if(up)return ta;up=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.zipAll=void 0;var e=Tc(),i=Ly();function u(o){return i.joinAllInternals(e.zip,o)}return ta.zipAll=u,ta}var na={},ia={},sp;function Yw(){if(sp)return ia;sp=1;var e=P&&P.__read||function(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var s=a.call(r),c,h=[],l;try{for(;(t===void 0||t-- >0)&&!(c=s.next()).done;)h.push(c.value)}catch(m){l={error:m}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}return h},i=P&&P.__spreadArray||function(r,t){for(var a=0,s=t.length,c=r.length;a<s;a++,c++)r[c]=t[a];return r};Object.defineProperty(ia,"__esModule",{value:!0}),ia.zip=void 0;var u=Tc(),o=ne();function n(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return o.operate(function(a,s){u.zip.apply(void 0,i([a],e(r))).subscribe(s)})}return ia.zip=n,ia}var cp;function Gw(){if(cp)return na;cp=1;var e=P&&P.__read||function(n,r){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var a=t.call(n),s,c=[],h;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){h={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(h)throw h.error}}return c},i=P&&P.__spreadArray||function(n,r){for(var t=0,a=r.length,s=n.length;t<a;t++,s++)n[s]=r[t];return n};Object.defineProperty(na,"__esModule",{value:!0}),na.zipWith=void 0;var u=Yw();function o(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u.zip.apply(void 0,i([],e(n)))}return na.zipWith=o,na}var lp;function zu(){return lp||(lp=1,function(e){var i=P&&P.__createBinding||(Object.create?function(st,ct,dr,jr){jr===void 0&&(jr=dr),Object.defineProperty(st,jr,{enumerable:!0,get:function(){return ct[dr]}})}:function(st,ct,dr,jr){jr===void 0&&(jr=dr),st[jr]=ct[dr]}),u=P&&P.__exportStar||function(st,ct){for(var dr in st)dr!=="default"&&!Object.prototype.hasOwnProperty.call(ct,dr)&&i(ct,st,dr)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var o=be();Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return o.Observable}});var n=Du();Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return n.ConnectableObservable}});var r=Nu();Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return r.observable}});var t=x0();Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return t.animationFrames}});var a=Be();Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return a.Subject}});var s=vy();Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return s.BehaviorSubject}});var c=pc();Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}});var h=_c();Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return h.AsyncSubject}});var l=z0();Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return l.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return l.asapScheduler}});var m=Ke();Object.defineProperty(e,"async",{enumerable:!0,get:function(){return m.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return m.asyncScheduler}});var _=K0();Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return _.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return _.queueScheduler}});var y=X0();Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return y.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return y.animationFrameScheduler}});var d=J0();Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return d.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return d.VirtualAction}});var f=hy();Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return f.Scheduler}});var v=rr();Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return v.Subscription}});var p=pa();Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return p.Subscriber}});var b=gc();Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return b.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return b.NotificationKind}});var g=ku();Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return g.pipe}});var O=xe();Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return O.noop}});var w=Fe();Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return w.identity}});var E=iO();Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return E.isObservable}});var R=oO();Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return R.lastValueFrom}});var A=aO();Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return A.firstValueFrom}});var B=Ty();Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return B.ArgumentOutOfRangeError}});var D=rt();Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return D.EmptyError}});var q=Py();Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return q.NotFoundError}});var F=dy();Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return F.ObjectUnsubscribedError}});var W=Ry();Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return W.SequenceError}});var k=ic();Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return k.TimeoutError}});var j=uy();Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return j.UnsubscriptionError}});var V=uO();Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return V.bindCallback}});var Y=sO();Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return Y.bindNodeCallback}});var N=wc();Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return N.combineLatest}});var $=Fu();Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return $.concat}});var Z=cO();Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return Z.connectable}});var z=Bu();Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return z.defer}});var G=lr();Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return G.empty}});var I=lO();Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return I.forkJoin}});var M=Pr();Object.defineProperty(e,"from",{enumerable:!0,get:function(){return M.from}});var x=fO();Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return x.fromEvent}});var U=dO();Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return U.fromEventPattern}});var K=vO();Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return K.generate}});var ee=hO();Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return ee.iif}});var re=jy();Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return re.interval}});var J=pO();Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return J.merge}});var ie=rv();Object.defineProperty(e,"never",{enumerable:!0,get:function(){return ie.never}});var ue=bc();Object.defineProperty(e,"of",{enumerable:!0,get:function(){return ue.of}});var le=My();Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return le.onErrorResumeNext}});var Re=_O();Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Re.pairs}});var je=mO();Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return je.partition}});var qe=Ny();Object.defineProperty(e,"race",{enumerable:!0,get:function(){return qe.race}});var Qe=bO();Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Qe.range}});var Ie=Sy();Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Ie.throwError}});var Ce=it();Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Ce.timer}});var We=gO();Object.defineProperty(e,"using",{enumerable:!0,get:function(){return We.using}});var Ne=Tc();Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Ne.zip}});var Tt=Ey();Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Tt.scheduled}});var es=lr();Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return es.EMPTY}});var ur=rv();Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return ur.NEVER}}),u(OO(),e);var rs=ha();Object.defineProperty(e,"config",{enumerable:!0,get:function(){return rs.config}});var C=ky();Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return C.audit}});var S=wO();Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return S.auditTime}});var T=EO();Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return T.buffer}});var L=SO();Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return L.bufferCount}});var H=TO();Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return H.bufferTime}});var Q=PO();Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Q.bufferToggle}});var X=RO();Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return X.bufferWhen}});var fe=IO();Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return fe.catchError}});var we=CO();Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return we.combineAll}});var ge=Uy();Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return ge.combineLatestAll}});var Ee=jO();Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return Ee.combineLatestWith}});var pe=Sc();Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return pe.concatAll}});var bb=xy();Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return bb.concatMap}});var gb=MO();Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return gb.concatMapTo}});var Ob=kO();Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Ob.concatWith}});var wb=Pc();Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return wb.connect}});var Eb=qO();Object.defineProperty(e,"count",{enumerable:!0,get:function(){return Eb.count}});var Sb=LO();Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Sb.debounce}});var Tb=UO();Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Tb.debounceTime}});var Pb=Wu();Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Pb.defaultIfEmpty}});var Rb=xO();Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Rb.delay}});var Ib=Wy();Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Ib.delayWhen}});var Cb=FO();Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Cb.dematerialize}});var Ab=BO();Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Ab.distinct}});var jb=Vy();Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return jb.distinctUntilChanged}});var Mb=WO();Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Mb.distinctUntilKeyChanged}});var Nb=VO();Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Nb.elementAt}});var kb=$O();Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return kb.endWith}});var Db=HO();Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Db.every}});var qb=zO();Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return qb.exhaust}});var Lb=Hy();Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return Lb.exhaustAll}});var Ub=$y();Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Ub.exhaustMap}});var xb=YO();Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return xb.expand}});var Fb=Ot();Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Fb.filter}});var Bb=GO();Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Bb.finalize}});var Wb=zy();Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Wb.find}});var Vb=KO();Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return Vb.findIndex}});var $b=ZO();Object.defineProperty(e,"first",{enumerable:!0,get:function(){return $b.first}});var Hb=QO();Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Hb.groupBy}});var zb=Fy();Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return zb.ignoreElements}});var Yb=XO();Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Yb.isEmpty}});var Gb=JO();Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Gb.last}});var Kb=tt();Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Kb.map}});var Zb=By();Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Zb.mapTo}});var Qb=ew();Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return Qb.materialize}});var Xb=rw();Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Xb.max}});var Jb=xu();Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Jb.mergeAll}});var eg=tw();Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return eg.flatMap}});var rg=Rr();Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return rg.mergeMap}});var tg=nw();Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return tg.mergeMapTo}});var ng=iw();Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return ng.mergeScan}});var ig=aw();Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return ig.mergeWith}});var og=uw();Object.defineProperty(e,"min",{enumerable:!0,get:function(){return og.min}});var ag=Rc();Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ag.multicast}});var ug=Lu();Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return ug.observeOn}});var sg=sw();Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return sg.onErrorResumeNextWith}});var cg=cw();Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return cg.pairwise}});var lg=lw();Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return lg.pluck}});var fg=fw();Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return fg.publish}});var dg=dw();Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return dg.publishBehavior}});var vg=vw();Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return vg.publishLast}});var hg=hw();Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return hg.publishReplay}});var pg=pw();Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return pg.raceWith}});var _g=ma();Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return _g.reduce}});var yg=_w();Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return yg.repeat}});var mg=yw();Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return mg.repeatWhen}});var bg=mw();Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return bg.retry}});var gg=bw();Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return gg.retryWhen}});var Og=ly();Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Og.refCount}});var wg=Gy();Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return wg.sample}});var Eg=gw();Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Eg.sampleTime}});var Sg=Ow();Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Sg.scan}});var Tg=ww();Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Tg.sequenceEqual}});var Pg=Ky();Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Pg.share}});var Rg=Ew();Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Rg.shareReplay}});var Ig=Sw();Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Ig.single}});var Cg=Tw();Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Cg.skip}});var Ag=Pw();Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Ag.skipLast}});var jg=Rw();Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return jg.skipUntil}});var Mg=Iw();Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Mg.skipWhile}});var Ng=Cw();Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Ng.startWith}});var kg=Uu();Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return kg.subscribeOn}});var Dg=Aw();Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return Dg.switchAll}});var qg=Hu();Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return qg.switchMap}});var Lg=jw();Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Lg.switchMapTo}});var Ug=Mw();Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Ug.switchScan}});var xg=Vu();Object.defineProperty(e,"take",{enumerable:!0,get:function(){return xg.take}});var Fg=Yy();Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Fg.takeLast}});var Bg=Nw();Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Bg.takeUntil}});var Wg=kw();Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Wg.takeWhile}});var Vg=Dw();Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return Vg.tap}});var $g=Zy();Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return $g.throttle}});var Hg=qw();Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Hg.throttleTime}});var zg=$u();Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return zg.throwIfEmpty}});var Yg=Lw();Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return Yg.timeInterval}});var Gg=ic();Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Gg.timeout}});var Kg=Uw();Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Kg.timeoutWith}});var Zg=xw();Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Zg.timestamp}});var Qg=qy();Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Qg.toArray}});var Xg=Fw();Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Xg.window}});var Jg=Bw();Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Jg.windowCount}});var e0=Ww();Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return e0.windowTime}});var r0=Vw();Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return r0.windowToggle}});var t0=$w();Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return t0.windowWhen}});var n0=Hw();Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return n0.withLatestFrom}});var i0=zw();Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return i0.zipAll}});var o0=Gw();Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return o0.zipWith}})}(Os)),Os}function he(e){return typeof e=="function"}function Qy(e){return he(e==null?void 0:e.lift)}function oe(e){return function(i){if(Qy(i))return i.lift(function(u){try{return e(u,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}var oc=function(e,i){return oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(u[n]=o[n])},oc(e,i)};function tr(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");oc(e,i);function u(){this.constructor=e}e.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}function Kw(e,i,u,o){function n(r){return r instanceof u?r:new u(function(t){t(r)})}return new(u||(u=Promise))(function(r,t){function a(h){try{c(o.next(h))}catch(l){t(l)}}function s(h){try{c(o.throw(h))}catch(l){t(l)}}function c(h){h.done?r(h.value):n(h.value).then(a,s)}c((o=o.apply(e,i||[])).next())})}function Xy(e,i){var u={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,n,r,t;return t={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function a(c){return function(h){return s([c,h])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;t&&(t=0,c[0]&&(u=0)),u;)try{if(o=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,n=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(r=u.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){u=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){u.label=c[1];break}if(c[0]===6&&u.label<r[1]){u.label=r[1],r=c;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(c);break}r[2]&&u.ops.pop(),u.trys.pop();continue}c=i.call(e,u)}catch(h){c=[6,h],n=0}finally{o=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ze(e){var i=typeof Symbol=="function"&&Symbol.iterator,u=i&&e[i],o=0;if(u)return u.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(e,i){var u=typeof Symbol=="function"&&e[Symbol.iterator];if(!u)return e;var o=u.call(e),n,r=[],t;try{for(;(i===void 0||i-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(a){t={error:a}}finally{try{n&&!n.done&&(u=o.return)&&u.call(o)}finally{if(t)throw t.error}}return r}function Te(e,i,u){if(u||arguments.length===2)for(var o=0,n=i.length,r;o<n;o++)(r||!(o in i))&&(r||(r=Array.prototype.slice.call(i,0,o)),r[o]=i[o]);return e.concat(r||Array.prototype.slice.call(i))}function _t(e){return this instanceof _t?(this.v=e,this):new _t(e)}function Zw(e,i,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=u.apply(e,i||[]),n,r=[];return n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n;function t(m){o[m]&&(n[m]=function(_){return new Promise(function(y,d){r.push([m,_,y,d])>1||a(m,_)})})}function a(m,_){try{s(o[m](_))}catch(y){l(r[0][3],y)}}function s(m){m.value instanceof _t?Promise.resolve(m.value.v).then(c,h):l(r[0][2],m)}function c(m){a("next",m)}function h(m){a("throw",m)}function l(m,_){m(_),r.shift(),r.length&&a(r[0][0],r[0][1])}}function Qw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],u;return i?i.call(e):(e=typeof ze=="function"?ze(e):e[Symbol.iterator](),u={},o("next"),o("throw"),o("return"),u[Symbol.asyncIterator]=function(){return this},u);function o(r){u[r]=e[r]&&function(t){return new Promise(function(a,s){t=e[r](t),n(a,s,t.done,t.value)})}}function n(r,t,a,s){Promise.resolve(s).then(function(c){r({value:c,done:a})},t)}}var Jy=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function em(e){return he(e==null?void 0:e.then)}function ot(e){var i=function(o){Error.call(o),o.stack=new Error().stack},u=e(i);return u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u}var xs=ot(function(e){return function(u){e(this),this.message=u?u.length+` errors occurred during unsubscription:
`+u.map(function(o,n){return n+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=u}});function mr(e,i){if(e){var u=e.indexOf(i);0<=u&&e.splice(u,1)}}var ir=function(){function e(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var i,u,o,n,r;if(!this.closed){this.closed=!0;var t=this._parentage;if(t)if(this._parentage=null,Array.isArray(t))try{for(var a=ze(t),s=a.next();!s.done;s=a.next()){var c=s.value;c.remove(this)}}catch(d){i={error:d}}finally{try{s&&!s.done&&(u=a.return)&&u.call(a)}finally{if(i)throw i.error}}else t.remove(this);var h=this.initialTeardown;if(he(h))try{h()}catch(d){r=d instanceof xs?d.errors:[d]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var m=ze(l),_=m.next();!_.done;_=m.next()){var y=_.value;try{fp(y)}catch(d){r=r??[],d instanceof xs?r=Te(Te([],Se(r)),Se(d.errors)):r.push(d)}}}catch(d){o={error:d}}finally{try{_&&!_.done&&(n=m.return)&&n.call(m)}finally{if(o)throw o.error}}}if(r)throw new xs(r)}},e.prototype.add=function(i){var u;if(i&&i!==this)if(this.closed)fp(i);else{if(i instanceof e){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(u=this._finalizers)!==null&&u!==void 0?u:[]).push(i)}},e.prototype._hasParent=function(i){var u=this._parentage;return u===i||Array.isArray(u)&&u.includes(i)},e.prototype._addParent=function(i){var u=this._parentage;this._parentage=Array.isArray(u)?(u.push(i),u):u?[u,i]:i},e.prototype._removeParent=function(i){var u=this._parentage;u===i?this._parentage=null:Array.isArray(u)&&mr(u,i)},e.prototype.remove=function(i){var u=this._finalizers;u&&mr(u,i),i instanceof e&&i._removeParent(this)},e.EMPTY=function(){var i=new e;return i.closed=!0,i}(),e}(),rm=ir.EMPTY;function tm(e){return e instanceof ir||e&&"closed"in e&&he(e.remove)&&he(e.add)&&he(e.unsubscribe)}function fp(e){he(e)?e():e.unsubscribe()}var Yu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Iu={setTimeout:function(e,i){for(var u=[],o=2;o<arguments.length;o++)u[o-2]=arguments[o];var n=Iu.delegate;return n!=null&&n.setTimeout?n.setTimeout.apply(n,Te([e,i],Se(u))):setTimeout.apply(void 0,Te([e,i],Se(u)))},clearTimeout:function(e){var i=Iu.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nm(e){Iu.setTimeout(function(){throw e})}function De(){}var Xw=function(){return Ic("C",void 0,void 0)}();function Jw(e){return Ic("E",void 0,e)}function eE(e){return Ic("N",e,void 0)}function Ic(e,i,u){return{kind:e,value:i,error:u}}var ka=null;function Pu(e){if(Yu.useDeprecatedSynchronousErrorHandling){var i=!ka;if(i&&(ka={errorThrown:!1,error:null}),e(),i){var u=ka,o=u.errorThrown,n=u.error;if(ka=null,o)throw n}}else e()}var Cc=function(e){tr(i,e);function i(u){var o=e.call(this)||this;return o.isStopped=!1,u?(o.destination=u,tm(u)&&u.add(o)):o.destination=iE,o}return i.create=function(u,o,n){return new la(u,o,n)},i.prototype.next=function(u){this.isStopped?Bs(eE(u),this):this._next(u)},i.prototype.error=function(u){this.isStopped?Bs(Jw(u),this):(this.isStopped=!0,this._error(u))},i.prototype.complete=function(){this.isStopped?Bs(Xw,this):(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},i.prototype._next=function(u){this.destination.next(u)},i.prototype._error=function(u){try{this.destination.error(u)}finally{this.unsubscribe()}},i.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},i}(ir),rE=Function.prototype.bind;function Fs(e,i){return rE.call(e,i)}var tE=function(){function e(i){this.partialObserver=i}return e.prototype.next=function(i){var u=this.partialObserver;if(u.next)try{u.next(i)}catch(o){Da(o)}},e.prototype.error=function(i){var u=this.partialObserver;if(u.error)try{u.error(i)}catch(o){Da(o)}else Da(i)},e.prototype.complete=function(){var i=this.partialObserver;if(i.complete)try{i.complete()}catch(u){Da(u)}},e}(),la=function(e){tr(i,e);function i(u,o,n){var r=e.call(this)||this,t;if(he(u)||!u)t={next:u??void 0,error:o??void 0,complete:n??void 0};else{var a;r&&Yu.useDeprecatedNextContext?(a=Object.create(u),a.unsubscribe=function(){return r.unsubscribe()},t={next:u.next&&Fs(u.next,a),error:u.error&&Fs(u.error,a),complete:u.complete&&Fs(u.complete,a)}):t=u}return r.destination=new tE(t),r}return i}(Cc);function Da(e){nm(e)}function nE(e){throw e}function Bs(e,i){var u=Yu.onStoppedNotification;u&&Iu.setTimeout(function(){return u(e,i)})}var iE={closed:!0,next:De,error:nE,complete:De},Ac=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $e(e){return e}function im(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return om(e)}function om(e){return e.length===0?$e:e.length===1?e[0]:function(u){return e.reduce(function(o,n){return n(o)},u)}}var Ae=function(){function e(i){i&&(this._subscribe=i)}return e.prototype.lift=function(i){var u=new e;return u.source=this,u.operator=i,u},e.prototype.subscribe=function(i,u,o){var n=this,r=aE(i)?i:new la(i,u,o);return Pu(function(){var t=n,a=t.operator,s=t.source;r.add(a?a.call(r,s):s?n._subscribe(r):n._trySubscribe(r))}),r},e.prototype._trySubscribe=function(i){try{return this._subscribe(i)}catch(u){i.error(u)}},e.prototype.forEach=function(i,u){var o=this;return u=dp(u),new u(function(n,r){var t=new la({next:function(a){try{i(a)}catch(s){r(s),t.unsubscribe()}},error:r,complete:n});o.subscribe(t)})},e.prototype._subscribe=function(i){var u;return(u=this.source)===null||u===void 0?void 0:u.subscribe(i)},e.prototype[Ac]=function(){return this},e.prototype.pipe=function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return om(i)(this)},e.prototype.toPromise=function(i){var u=this;return i=dp(i),new i(function(o,n){var r;u.subscribe(function(t){return r=t},function(t){return n(t)},function(){return o(r)})})},e.create=function(i){return new e(i)},e}();function dp(e){var i;return(i=e??Yu.Promise)!==null&&i!==void 0?i:Promise}function oE(e){return e&&he(e.next)&&he(e.error)&&he(e.complete)}function aE(e){return e&&e instanceof Cc||oE(e)&&tm(e)}function am(e){return he(e[Ac])}function um(e){return Symbol.asyncIterator&&he(e==null?void 0:e[Symbol.asyncIterator])}function sm(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function uE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cm=uE();function lm(e){return he(e==null?void 0:e[cm])}function fm(e){return Zw(this,arguments,function(){var u,o,n,r;return Xy(this,function(t){switch(t.label){case 0:u=e.getReader(),t.label=1;case 1:t.trys.push([1,,9,10]),t.label=2;case 2:return[4,_t(u.read())];case 3:return o=t.sent(),n=o.value,r=o.done,r?[4,_t(void 0)]:[3,5];case 4:return[2,t.sent()];case 5:return[4,_t(n)];case 6:return[4,t.sent()];case 7:return t.sent(),[3,2];case 8:return[3,10];case 9:return u.releaseLock(),[7];case 10:return[2]}})})}function dm(e){return he(e==null?void 0:e.getReader)}function de(e){if(e instanceof Ae)return e;if(e!=null){if(am(e))return sE(e);if(Jy(e))return cE(e);if(em(e))return lE(e);if(um(e))return vm(e);if(lm(e))return fE(e);if(dm(e))return dE(e)}throw sm(e)}function sE(e){return new Ae(function(i){var u=e[Ac]();if(he(u.subscribe))return u.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cE(e){return new Ae(function(i){for(var u=0;u<e.length&&!i.closed;u++)i.next(e[u]);i.complete()})}function lE(e){return new Ae(function(i){e.then(function(u){i.closed||(i.next(u),i.complete())},function(u){return i.error(u)}).then(null,nm)})}function fE(e){return new Ae(function(i){var u,o;try{for(var n=ze(e),r=n.next();!r.done;r=n.next()){var t=r.value;if(i.next(t),i.closed)return}}catch(a){u={error:a}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(u)throw u.error}}i.complete()})}function vm(e){return new Ae(function(i){vE(e,i).catch(function(u){return i.error(u)})})}function dE(e){return vm(fm(e))}function vE(e,i){var u,o,n,r;return Kw(this,void 0,void 0,function(){var t,a;return Xy(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),u=Qw(e),s.label=1;case 1:return[4,u.next()];case 2:if(o=s.sent(),!!o.done)return[3,4];if(t=o.value,i.next(t),i.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=s.sent(),n={error:a},[3,11];case 6:return s.trys.push([6,,9,10]),o&&!o.done&&(r=u.return)?[4,r.call(u)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return i.complete(),[2]}})})}function te(e,i,u,o,n){return new jc(e,i,u,o,n)}var jc=function(e){tr(i,e);function i(u,o,n,r,t,a){var s=e.call(this,u)||this;return s.onFinalize=t,s.shouldUnsubscribe=a,s._next=o?function(c){try{o(c)}catch(h){u.error(h)}}:e.prototype._next,s._error=r?function(c){try{r(c)}catch(h){u.error(h)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(c){u.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,s}return i.prototype.unsubscribe=function(){var u;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((u=this.onFinalize)===null||u===void 0||u.call(this))}},i}(Cc);function hm(e){return oe(function(i,u){var o=!1,n=null,r=null,t=!1,a=function(){if(r==null||r.unsubscribe(),r=null,o){o=!1;var c=n;n=null,u.next(c)}t&&u.complete()},s=function(){r=null,t&&u.complete()};i.subscribe(te(u,function(c){o=!0,n=c,r||de(e(c)).subscribe(r=te(u,a,s))},function(){t=!0,(!o||!r||r.closed)&&u.complete()}))})}var hE=function(e){tr(i,e);function i(u,o){return e.call(this)||this}return i.prototype.schedule=function(u,o){return this},i}(ir),Cu={setInterval:function(e,i){for(var u=[],o=2;o<arguments.length;o++)u[o-2]=arguments[o];var n=Cu.delegate;return n!=null&&n.setInterval?n.setInterval.apply(n,Te([e,i],Se(u))):setInterval.apply(void 0,Te([e,i],Se(u)))},clearInterval:function(e){var i=Cu.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(e)},delegate:void 0},pE=function(e){tr(i,e);function i(u,o){var n=e.call(this,u,o)||this;return n.scheduler=u,n.work=o,n.pending=!1,n}return i.prototype.schedule=function(u,o){var n;if(o===void 0&&(o=0),this.closed)return this;this.state=u;var r=this.id,t=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(t,r,o)),this.pending=!0,this.delay=o,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(t,this.id,o),this},i.prototype.requestAsyncId=function(u,o,n){return n===void 0&&(n=0),Cu.setInterval(u.flush.bind(u,this),n)},i.prototype.recycleAsyncId=function(u,o,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return o;o!=null&&Cu.clearInterval(o)},i.prototype.execute=function(u,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(u,o);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(u,o){var n=!1,r;try{this.work(u)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},i.prototype.unsubscribe=function(){if(!this.closed){var u=this,o=u.id,n=u.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,mr(r,this),o!=null&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},i}(hE),Gu={now:function(){return(Gu.delegate||Date).now()},delegate:void 0},vp=function(){function e(i,u){u===void 0&&(u=e.now),this.schedulerActionCtor=i,this.now=u}return e.prototype.schedule=function(i,u,o){return u===void 0&&(u=0),new this.schedulerActionCtor(this,i).schedule(o,u)},e.now=Gu.now,e}(),_E=function(e){tr(i,e);function i(u,o){o===void 0&&(o=vp.now);var n=e.call(this,u,o)||this;return n.actions=[],n._active=!1,n}return i.prototype.flush=function(u){var o=this.actions;if(this._active){o.push(u);return}var n;this._active=!0;do if(n=u.execute(u.state,u.delay))break;while(u=o.shift());if(this._active=!1,n){for(;u=o.shift();)u.unsubscribe();throw n}},i}(vp),or=new _E(pE),pm=or;function _m(e){return e&&he(e.schedule)}function Mc(e){return e instanceof Date&&!isNaN(e)}function wt(e,i,u){e===void 0&&(e=0),u===void 0&&(u=pm);var o=-1;return i!=null&&(_m(i)?u=i:o=i),new Ae(function(n){var r=Mc(e)?+e-u.now():e;r<0&&(r=0);var t=0;return u.schedule(function(){n.closed||(n.next(t++),0<=o?this.schedule(void 0,o):n.complete())},r)})}function yE(e,i){return i===void 0&&(i=or),hm(function(){return wt(e,i)})}function mE(e){return oe(function(i,u){var o=[];return i.subscribe(te(u,function(n){return o.push(n)},function(){u.next(o),u.complete()})),de(e).subscribe(te(u,function(){var n=o;o=[],u.next(n)},De)),function(){o=null}})}function bE(e,i){return i===void 0&&(i=null),i=i??e,oe(function(u,o){var n=[],r=0;u.subscribe(te(o,function(t){var a,s,c,h,l=null;r++%i===0&&n.push([]);try{for(var m=ze(n),_=m.next();!_.done;_=m.next()){var y=_.value;y.push(t),e<=y.length&&(l=l??[],l.push(y))}}catch(v){a={error:v}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(l)try{for(var d=ze(l),f=d.next();!f.done;f=d.next()){var y=f.value;mr(n,y),o.next(y)}}catch(v){c={error:v}}finally{try{f&&!f.done&&(h=d.return)&&h.call(d)}finally{if(c)throw c.error}}},function(){var t,a;try{for(var s=ze(n),c=s.next();!c.done;c=s.next()){var h=c.value;o.next(h)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}o.complete()},void 0,function(){n=null}))})}function Nc(e){return e[e.length-1]}function Ku(e){return he(Nc(e))?e.pop():void 0}function Ir(e){return _m(Nc(e))?e.pop():void 0}function gE(e,i){return typeof Nc(e)=="number"?e.pop():i}function Ye(e,i,u,o,n){o===void 0&&(o=0),n===void 0&&(n=!1);var r=i.schedule(function(){u(),n?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(r),!n)return r}function OE(e){for(var i,u,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var r=(i=Ir(o))!==null&&i!==void 0?i:or,t=(u=o[0])!==null&&u!==void 0?u:null,a=o[1]||1/0;return oe(function(s,c){var h=[],l=!1,m=function(d){var f=d.buffer,v=d.subs;v.unsubscribe(),mr(h,d),c.next(f),l&&_()},_=function(){if(h){var d=new ir;c.add(d);var f=[],v={buffer:f,subs:d};h.push(v),Ye(d,r,function(){return m(v)},e)}};t!==null&&t>=0?Ye(c,r,_,t,!0):l=!0,_();var y=te(c,function(d){var f,v,p=h.slice();try{for(var b=ze(p),g=b.next();!g.done;g=b.next()){var O=g.value,w=O.buffer;w.push(d),a<=w.length&&m(O)}}catch(E){f={error:E}}finally{try{g&&!g.done&&(v=b.return)&&v.call(b)}finally{if(f)throw f.error}}},function(){for(;h!=null&&h.length;)c.next(h.shift().buffer);y==null||y.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return h=null});s.subscribe(y)})}function wE(e,i){return oe(function(u,o){var n=[];de(e).subscribe(te(o,function(r){var t=[];n.push(t);var a=new ir,s=function(){mr(n,t),o.next(t),a.unsubscribe()};a.add(de(i(r)).subscribe(te(o,s,De)))},De)),u.subscribe(te(o,function(r){var t,a;try{for(var s=ze(n),c=s.next();!c.done;c=s.next()){var h=c.value;h.push(r)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}},function(){for(;n.length>0;)o.next(n.shift());o.complete()}))})}function EE(e){return oe(function(i,u){var o=null,n=null,r=function(){n==null||n.unsubscribe();var t=o;o=[],t&&u.next(t),de(e()).subscribe(n=te(u,r,De))};r(),i.subscribe(te(u,function(t){return o==null?void 0:o.push(t)},function(){o&&u.next(o),u.complete()},void 0,function(){return o=n=null}))})}function ym(e){return oe(function(i,u){var o=null,n=!1,r;o=i.subscribe(te(u,void 0,void 0,function(t){r=de(e(t,ym(e)(i))),o?(o.unsubscribe(),o=null,r.subscribe(u)):n=!0})),n&&(o.unsubscribe(),o=null,r.subscribe(u))})}var SE=Array.isArray,TE=Object.getPrototypeOf,PE=Object.prototype,RE=Object.keys;function IE(e){if(e.length===1){var i=e[0];if(SE(i))return{args:i,keys:null};if(CE(i)){var u=RE(i);return{args:u.map(function(o){return i[o]}),keys:u}}}return{args:e,keys:null}}function CE(e){return e&&typeof e=="object"&&TE(e)===PE}function kc(e,i){return i===void 0&&(i=0),oe(function(u,o){u.subscribe(te(o,function(n){return Ye(o,e,function(){return o.next(n)},i)},function(){return Ye(o,e,function(){return o.complete()},i)},function(n){return Ye(o,e,function(){return o.error(n)},i)}))})}function Dc(e,i){return i===void 0&&(i=0),oe(function(u,o){o.add(e.schedule(function(){return u.subscribe(o)},i))})}function AE(e,i){return de(e).pipe(Dc(i),kc(i))}function jE(e,i){return de(e).pipe(Dc(i),kc(i))}function ME(e,i){return new Ae(function(u){var o=0;return i.schedule(function(){o===e.length?u.complete():(u.next(e[o++]),u.closed||this.schedule())})})}function NE(e,i){return new Ae(function(u){var o;return Ye(u,i,function(){o=e[cm](),Ye(u,i,function(){var n,r,t;try{n=o.next(),r=n.value,t=n.done}catch(a){u.error(a);return}t?u.complete():u.next(r)},0,!0)}),function(){return he(o==null?void 0:o.return)&&o.return()}})}function mm(e,i){if(!e)throw new Error("Iterable cannot be null");return new Ae(function(u){Ye(u,i,function(){var o=e[Symbol.asyncIterator]();Ye(u,i,function(){o.next().then(function(n){n.done?u.complete():u.next(n.value)})},0,!0)})})}function kE(e,i){return mm(fm(e),i)}function DE(e,i){if(e!=null){if(am(e))return AE(e,i);if(Jy(e))return ME(e,i);if(em(e))return jE(e,i);if(um(e))return mm(e,i);if(lm(e))return NE(e,i);if(dm(e))return kE(e,i)}throw sm(e)}function Et(e,i){return i?DE(e,i):de(e)}function at(e,i){return oe(function(u,o){var n=0;u.subscribe(te(o,function(r){o.next(e.call(i,r,n++))}))})}var qE=Array.isArray;function LE(e,i){return qE(i)?e.apply(void 0,Te([],Se(i))):e(i)}function qc(e){return at(function(i){return LE(e,i)})}function UE(e,i){return e.reduce(function(u,o,n){return u[o]=i[n],u},{})}function xE(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ir(e),o=Ku(e),n=IE(e),r=n.args,t=n.keys;if(r.length===0)return Et([],u);var a=new Ae(bm(r,u,t?function(s){return UE(t,s)}:$e));return o?a.pipe(qc(o)):a}function bm(e,i,u){return u===void 0&&(u=$e),function(o){hp(i,function(){for(var n=e.length,r=new Array(n),t=n,a=n,s=function(h){hp(i,function(){var l=Et(e[h],i),m=!1;l.subscribe(te(o,function(_){r[h]=_,m||(m=!0,a--),a||o.next(u(r.slice()))},function(){--t||o.complete()}))},o)},c=0;c<n;c++)s(c)},o)}}function hp(e,i,u){e?Ye(u,e,i):i()}function Lc(e,i,u,o,n,r,t,a){var s=[],c=0,h=0,l=!1,m=function(){l&&!s.length&&!c&&i.complete()},_=function(d){return c<o?y(d):s.push(d)},y=function(d){r&&i.next(d),c++;var f=!1;de(u(d,h++)).subscribe(te(i,function(v){n==null||n(v),r?_(v):i.next(v)},function(){f=!0},void 0,function(){if(f)try{c--;for(var v=function(){var p=s.shift();t?Ye(i,t,function(){return y(p)}):y(p)};s.length&&c<o;)v();m()}catch(p){i.error(p)}}))};return e.subscribe(te(i,_,function(){l=!0,m()})),function(){a==null||a()}}function fr(e,i,u){return u===void 0&&(u=1/0),he(i)?fr(function(o,n){return at(function(r,t){return i(o,r,n,t)})(de(e(o,n)))},u):(typeof i=="number"&&(u=i),oe(function(o,n){return Lc(o,n,e,u)}))}function gm(e,i,u,o,n){return function(r,t){var a=u,s=i,c=0;r.subscribe(te(t,function(h){var l=c++;s=a?e(s,h,l):(a=!0,h),o&&t.next(s)},n&&function(){a&&t.next(s),t.complete()}))}}function ba(e,i){return oe(gm(e,i,arguments.length>=2,!1,!0))}var FE=function(e,i){return e.push(i),e};function Om(){return oe(function(e,i){ba(FE,[])(e).subscribe(i)})}function wm(e,i){return im(Om(),fr(function(u){return e(u)}),i?qc(i):$e)}function Em(e){return wm(xE,e)}var BE=Em,WE=Array.isArray;function St(e){return e.length===1&&WE(e[0])?e[0]:e}function Uc(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ku(e);return u?im(Uc.apply(void 0,Te([],Se(e))),qc(u)):oe(function(o,n){bm(Te([o],Se(St(e))))(n)})}function VE(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Uc.apply(void 0,Te([],Se(e)))}function xc(e){return e===void 0&&(e=1/0),fr($e,e)}function Fc(){return xc(1)}function Sm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ir(e);return oe(function(o,n){Fc()(Et(Te([o],Se(e)),u)).subscribe(n)})}function ac(e,i){return he(i)?fr(e,i,1):fr(e,1)}function $E(e,i){return he(i)?ac(function(){return e},i):ac(function(){return e})}function HE(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Sm.apply(void 0,Te([],Se(e)))}var zE=ot(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ue=function(e){tr(i,e);function i(){var u=e.call(this)||this;return u.closed=!1,u.currentObservers=null,u.observers=[],u.isStopped=!1,u.hasError=!1,u.thrownError=null,u}return i.prototype.lift=function(u){var o=new pp(this,this);return o.operator=u,o},i.prototype._throwIfClosed=function(){if(this.closed)throw new zE},i.prototype.next=function(u){var o=this;Pu(function(){var n,r;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var t=ze(o.currentObservers),a=t.next();!a.done;a=t.next()){var s=a.value;s.next(u)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}}})},i.prototype.error=function(u){var o=this;Pu(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=u;for(var n=o.observers;n.length;)n.shift().error(u)}})},i.prototype.complete=function(){var u=this;Pu(function(){if(u._throwIfClosed(),!u.isStopped){u.isStopped=!0;for(var o=u.observers;o.length;)o.shift().complete()}})},i.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(i.prototype,"observed",{get:function(){var u;return((u=this.observers)===null||u===void 0?void 0:u.length)>0},enumerable:!1,configurable:!0}),i.prototype._trySubscribe=function(u){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,u)},i.prototype._subscribe=function(u){return this._throwIfClosed(),this._checkFinalizedStatuses(u),this._innerSubscribe(u)},i.prototype._innerSubscribe=function(u){var o=this,n=this,r=n.hasError,t=n.isStopped,a=n.observers;return r||t?rm:(this.currentObservers=null,a.push(u),new ir(function(){o.currentObservers=null,mr(a,u)}))},i.prototype._checkFinalizedStatuses=function(u){var o=this,n=o.hasError,r=o.thrownError,t=o.isStopped;n?u.error(r):t&&u.complete()},i.prototype.asObservable=function(){var u=new Ae;return u.source=this,u},i.create=function(u,o){return new pp(u,o)},i}(Ae),pp=function(e){tr(i,e);function i(u,o){var n=e.call(this)||this;return n.destination=u,n.source=o,n}return i.prototype.next=function(u){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.next)===null||n===void 0||n.call(o,u)},i.prototype.error=function(u){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.error)===null||n===void 0||n.call(o,u)},i.prototype.complete=function(){var u,o;(o=(u=this.destination)===null||u===void 0?void 0:u.complete)===null||o===void 0||o.call(u)},i.prototype._subscribe=function(u){var o,n;return(n=(o=this.source)===null||o===void 0?void 0:o.subscribe(u))!==null&&n!==void 0?n:rm},i}(Ue);function YE(e){return new Ae(function(i){return e.subscribe(i)})}var GE={connector:function(){return new Ue}};function Bc(e,i){i===void 0&&(i=GE);var u=i.connector;return oe(function(o,n){var r=u();de(e(YE(r))).subscribe(n),n.add(o.subscribe(r))})}function KE(e){return ba(function(i,u,o){return!e||e(u,o)?i+1:i},0)}function ZE(e){return oe(function(i,u){var o=!1,n=null,r=null,t=function(){if(r==null||r.unsubscribe(),r=null,o){o=!1;var a=n;n=null,u.next(a)}};i.subscribe(te(u,function(a){r==null||r.unsubscribe(),o=!0,n=a,r=te(u,t,De),de(e(a)).subscribe(r)},function(){t(),u.complete()},void 0,function(){n=r=null}))})}function QE(e,i){return i===void 0&&(i=or),oe(function(u,o){var n=null,r=null,t=null,a=function(){if(n){n.unsubscribe(),n=null;var c=r;r=null,o.next(c)}};function s(){var c=t+e,h=i.now();if(h<c){n=this.schedule(void 0,c-h),o.add(n);return}a()}u.subscribe(te(o,function(c){r=c,t=i.now(),n||(n=i.schedule(s,e),o.add(n))},function(){a(),o.complete()},void 0,function(){r=n=null}))})}function Zu(e){return oe(function(i,u){var o=!1;i.subscribe(te(u,function(n){o=!0,u.next(n)},function(){o||u.next(e),u.complete()}))})}function Au(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Fc()(Et(e,Ir(e)))}var ga=new Ae(function(e){return e.complete()});function fa(e){return e<=0?function(){return ga}:oe(function(i,u){var o=0;i.subscribe(te(u,function(n){++o<=e&&(u.next(n),e<=o&&u.complete())}))})}function Tm(){return oe(function(e,i){e.subscribe(te(i,De))})}function Pm(e){return at(function(){return e})}function Wc(e,i){return i?function(u){return Au(i.pipe(fa(1),Tm()),u.pipe(Wc(e)))}:fr(function(u,o){return de(e(u,o)).pipe(fa(1),Pm(u))})}function XE(e,i){i===void 0&&(i=or);var u=wt(e,i);return Wc(function(){return u})}function Rm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ir(e);return Et(e,u)}function JE(e,i){var u=he(e)?e:function(){return e},o=function(n){return n.error(u())};return new Ae(i?function(n){return i.schedule(o,0,n)}:o)}var _p;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(_p||(_p={}));var Ws=function(){function e(i,u,o){this.kind=i,this.value=u,this.error=o,this.hasValue=i==="N"}return e.prototype.observe=function(i){return Im(this,i)},e.prototype.do=function(i,u,o){var n=this,r=n.kind,t=n.value,a=n.error;return r==="N"?i==null?void 0:i(t):r==="E"?u==null?void 0:u(a):o==null?void 0:o()},e.prototype.accept=function(i,u,o){var n;return he((n=i)===null||n===void 0?void 0:n.next)?this.observe(i):this.do(i,u,o)},e.prototype.toObservable=function(){var i=this,u=i.kind,o=i.value,n=i.error,r=u==="N"?Rm(o):u==="E"?JE(function(){return n}):u==="C"?ga:0;if(!r)throw new TypeError("Unexpected notification kind "+u);return r},e.createNext=function(i){return new e("N",i)},e.createError=function(i){return new e("E",void 0,i)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function Im(e,i){var u,o,n,r=e,t=r.kind,a=r.value,s=r.error;if(typeof t!="string")throw new TypeError('Invalid notification, missing "kind"');t==="N"?(u=i.next)===null||u===void 0||u.call(i,a):t==="E"?(o=i.error)===null||o===void 0||o.call(i,s):(n=i.complete)===null||n===void 0||n.call(i)}function e1(){return oe(function(e,i){e.subscribe(te(i,function(u){return Im(u,i)}))})}function r1(e,i){return oe(function(u,o){var n=new Set;u.subscribe(te(o,function(r){var t=e?e(r):r;n.has(t)||(n.add(t),o.next(r))})),i&&de(i).subscribe(te(o,function(){return n.clear()},De))})}function Cm(e,i){return i===void 0&&(i=$e),e=e??t1,oe(function(u,o){var n,r=!0;u.subscribe(te(o,function(t){var a=i(t);(r||!e(n,a))&&(r=!1,n=a,o.next(t))}))})}function t1(e,i){return e===i}function n1(e,i){return Cm(function(u,o){return i?i(u[e],o[e]):u[e]===o[e]})}var yp=ot(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});function Jr(e,i){return oe(function(u,o){var n=0;u.subscribe(te(o,function(r){return e.call(i,r,n++)&&o.next(r)}))})}var Qu=ot(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Xu(e){return e===void 0&&(e=i1),oe(function(i,u){var o=!1;i.subscribe(te(u,function(n){o=!0,u.next(n)},function(){return o?u.complete():u.error(e())}))})}function i1(){return new Qu}function o1(e,i){if(e<0)throw new yp;var u=arguments.length>=2;return function(o){return o.pipe(Jr(function(n,r){return r===e}),fa(1),u?Zu(i):Xu(function(){return new yp}))}}function a1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return function(u){return Au(u,Rm.apply(void 0,Te([],Se(e))))}}function u1(e,i){return oe(function(u,o){var n=0;u.subscribe(te(o,function(r){e.call(i,r,n++,u)||(o.next(!1),o.complete())},function(){o.next(!0),o.complete()}))})}function Vc(e,i){return i?function(u){return u.pipe(Vc(function(o,n){return de(e(o,n)).pipe(at(function(r,t){return i(o,r,n,t)}))}))}:oe(function(u,o){var n=0,r=null,t=!1;u.subscribe(te(o,function(a){r||(r=te(o,void 0,function(){r=null,t&&o.complete()}),de(e(a,n++)).subscribe(r))},function(){t=!0,!r&&o.complete()}))})}function Am(){return Vc($e)}var s1=Am;function c1(e,i,u){return i===void 0&&(i=1/0),i=(i||0)<1?1/0:i,oe(function(o,n){return Lc(o,n,e,i,void 0,!0,u)})}function l1(e){return oe(function(i,u){try{i.subscribe(u)}finally{u.add(e)}})}function f1(e,i){return oe(jm(e,i,"value"))}function jm(e,i,u){var o=u==="index";return function(n,r){var t=0;n.subscribe(te(r,function(a){var s=t++;e.call(i,a,s,n)&&(r.next(o?s:a),r.complete())},function(){r.next(o?-1:void 0),r.complete()}))}}function d1(e,i){return oe(jm(e,i,"index"))}function v1(e,i){var u=arguments.length>=2;return function(o){return o.pipe(e?Jr(function(n,r){return e(n,r,o)}):$e,fa(1),u?Zu(i):Xu(function(){return new Qu}))}}function h1(e,i,u,o){return oe(function(n,r){var t;!i||typeof i=="function"?t=i:(u=i.duration,t=i.element,o=i.connector);var a=new Map,s=function(y){a.forEach(y),y(r)},c=function(y){return s(function(d){return d.error(y)})},h=0,l=!1,m=new jc(r,function(y){try{var d=e(y),f=a.get(d);if(!f){a.set(d,f=o?o():new Ue);var v=_(d,f);if(r.next(v),u){var p=te(f,function(){f.complete(),p==null||p.unsubscribe()},void 0,void 0,function(){return a.delete(d)});m.add(de(u(v)).subscribe(p))}}f.next(t?t(y):y)}catch(b){c(b)}},function(){return s(function(y){return y.complete()})},c,function(){return a.clear()},function(){return l=!0,h===0});n.subscribe(m);function _(y,d){var f=new Ae(function(v){h++;var p=d.subscribe(v);return function(){p.unsubscribe(),--h===0&&l&&m.unsubscribe()}});return f.key=y,f}})}function p1(){return oe(function(e,i){e.subscribe(te(i,function(){i.next(!1),i.complete()},function(){i.next(!0),i.complete()}))})}function Mm(e){return e<=0?function(){return ga}:oe(function(i,u){var o=[];i.subscribe(te(u,function(n){o.push(n),e<o.length&&o.shift()},function(){var n,r;try{for(var t=ze(o),a=t.next();!a.done;a=t.next()){var s=a.value;u.next(s)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}u.complete()},void 0,function(){o=null}))})}function _1(e,i){var u=arguments.length>=2;return function(o){return o.pipe(e?Jr(function(n,r){return e(n,r,o)}):$e,Mm(1),u?Zu(i):Xu(function(){return new Qu}))}}function y1(){return oe(function(e,i){e.subscribe(te(i,function(u){i.next(Ws.createNext(u))},function(){i.next(Ws.createComplete()),i.complete()},function(u){i.next(Ws.createError(u)),i.complete()}))})}function m1(e){return ba(he(e)?function(i,u){return e(i,u)>0?i:u}:function(i,u){return i>u?i:u})}function Nm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ir(e),o=gE(e,1/0);return e=St(e),oe(function(n,r){xc(o)(Et(Te([n],Se(e)),u)).subscribe(r)})}var b1=fr;function g1(e,i,u){return u===void 0&&(u=1/0),he(i)?fr(function(){return e},i,u):(typeof i=="number"&&(u=i),fr(function(){return e},u))}function O1(e,i,u){return u===void 0&&(u=1/0),oe(function(o,n){var r=i;return Lc(o,n,function(t,a){return e(r,t,a)},u,function(t){r=t},!1,void 0,function(){return r=null})})}function w1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Nm.apply(void 0,Te([],Se(e)))}function E1(e){return ba(he(e)?function(i,u){return e(i,u)<0?i:u}:function(i,u){return i<u?i:u})}function km(){return oe(function(e,i){var u=null;e._refCount++;var o=te(i,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){u=null;return}var n=e._connection,r=u;u=null,n&&(!r||n===r)&&n.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(u=e.connect())})}var $c=function(e){tr(i,e);function i(u,o){var n=e.call(this)||this;return n.source=u,n.subjectFactory=o,n._subject=null,n._refCount=0,n._connection=null,Qy(u)&&(n.lift=u.lift),n}return i.prototype._subscribe=function(u){return this.getSubject().subscribe(u)},i.prototype.getSubject=function(){var u=this._subject;return(!u||u.isStopped)&&(this._subject=this.subjectFactory()),this._subject},i.prototype._teardown=function(){this._refCount=0;var u=this._connection;this._subject=this._connection=null,u==null||u.unsubscribe()},i.prototype.connect=function(){var u=this,o=this._connection;if(!o){o=this._connection=new ir;var n=this.getSubject();o.add(this.source.subscribe(te(n,void 0,function(){u._teardown(),n.complete()},function(r){u._teardown(),n.error(r)},function(){return u._teardown()}))),o.closed&&(this._connection=null,o=ir.EMPTY)}return o},i.prototype.refCount=function(){return km()(this)},i}(Ae);function Hc(e,i){var u=he(e)?e:function(){return e};return he(i)?Bc(i,{connector:u}):function(o){return new $c(o,u)}}function S1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=St(e);return new Ae(function(o){var n=0,r=function(){if(n<u.length){var t=void 0;try{t=de(u[n++])}catch{r();return}var a=new jc(o,void 0,De,De);t.subscribe(a),a.add(r)}else o.complete()};r()})}function T1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=St(e);return function(o){return S1.apply(void 0,Te([o],Se(u)))}}var P1=T1;function R1(){return oe(function(e,i){var u,o=!1;e.subscribe(te(i,function(n){var r=u;u=n,o&&i.next([r,n]),o=!0}))})}function I1(e,i){return function(u,o){return!e.call(i,u,o)}}function C1(e,i){return function(u){return[Jr(e,i)(u),Jr(I1(e,i))(u)]}}function A1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=e.length;if(u===0)throw new Error("list of properties cannot be empty.");return at(function(o){for(var n=o,r=0;r<u;r++){var t=n==null?void 0:n[e[r]];if(typeof t<"u")n=t;else return}return n})}function j1(e){return e?function(i){return Bc(e)(i)}:function(i){return Hc(new Ue)(i)}}var M1=function(e){tr(i,e);function i(u){var o=e.call(this)||this;return o._value=u,o}return Object.defineProperty(i.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),i.prototype._subscribe=function(u){var o=e.prototype._subscribe.call(this,u);return!o.closed&&u.next(this._value),o},i.prototype.getValue=function(){var u=this,o=u.hasError,n=u.thrownError,r=u._value;if(o)throw n;return this._throwIfClosed(),r},i.prototype.next=function(u){e.prototype.next.call(this,this._value=u)},i}(Ue);function N1(e){return function(i){var u=new M1(e);return new $c(i,function(){return u})}}var k1=function(e){tr(i,e);function i(){var u=e!==null&&e.apply(this,arguments)||this;return u._value=null,u._hasValue=!1,u._isComplete=!1,u}return i.prototype._checkFinalizedStatuses=function(u){var o=this,n=o.hasError,r=o._hasValue,t=o._value,a=o.thrownError,s=o.isStopped,c=o._isComplete;n?u.error(a):(s||c)&&(r&&u.next(t),u.complete())},i.prototype.next=function(u){this.isStopped||(this._value=u,this._hasValue=!0)},i.prototype.complete=function(){var u=this,o=u._hasValue,n=u._value,r=u._isComplete;r||(this._isComplete=!0,o&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},i}(Ue);function D1(){return function(e){var i=new k1;return new $c(e,function(){return i})}}var Dm=function(e){tr(i,e);function i(u,o,n){u===void 0&&(u=1/0),o===void 0&&(o=1/0),n===void 0&&(n=Gu);var r=e.call(this)||this;return r._bufferSize=u,r._windowTime=o,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=o===1/0,r._bufferSize=Math.max(1,u),r._windowTime=Math.max(1,o),r}return i.prototype.next=function(u){var o=this,n=o.isStopped,r=o._buffer,t=o._infiniteTimeWindow,a=o._timestampProvider,s=o._windowTime;n||(r.push(u),!t&&r.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,u)},i.prototype._subscribe=function(u){this._throwIfClosed(),this._trimBuffer();for(var o=this._innerSubscribe(u),n=this,r=n._infiniteTimeWindow,t=n._buffer,a=t.slice(),s=0;s<a.length&&!u.closed;s+=r?1:2)u.next(a[s]);return this._checkFinalizedStatuses(u),o},i.prototype._trimBuffer=function(){var u=this,o=u._bufferSize,n=u._timestampProvider,r=u._buffer,t=u._infiniteTimeWindow,a=(t?1:2)*o;if(o<1/0&&a<r.length&&r.splice(0,r.length-a),!t){for(var s=n.now(),c=0,h=1;h<r.length&&r[h]<=s;h+=2)c=h;c&&r.splice(0,c+1)}},i}(Ue);function q1(e,i,u,o){u&&!he(u)&&(o=u);var n=he(u)?u:void 0;return function(r){return Hc(new Dm(e,i,o),n)(r)}}function L1(e){return function(i){for(var u=[],o=function(r){u.push(de(e[r]).subscribe(te(i,function(t){if(u){for(var a=0;a<u.length;a++)a!==r&&u[a].unsubscribe();u=null}i.next(t)})))},n=0;u&&!i.closed&&n<e.length;n++)o(n)}}function qm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.length?oe(function(u,o){L1(Te([u],Se(e)))(o)}):$e}function U1(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return qm.apply(void 0,Te([],Se(St(e))))}function x1(e){var i,u=1/0,o;return e!=null&&(typeof e=="object"?(i=e.count,u=i===void 0?1/0:i,o=e.delay):u=e),u<=0?function(){return ga}:oe(function(n,r){var t=0,a,s=function(){if(a==null||a.unsubscribe(),a=null,o!=null){var h=typeof o=="number"?wt(o):de(o(t)),l=te(r,function(){l.unsubscribe(),c()});h.subscribe(l)}else c()},c=function(){var h=!1;a=n.subscribe(te(r,void 0,function(){++t<u?a?s():h=!0:r.complete()})),h&&s()};c()})}function F1(e){return oe(function(i,u){var o,n=!1,r,t=!1,a=!1,s=function(){return a&&t&&(u.complete(),!0)},c=function(){return r||(r=new Ue,de(e(r)).subscribe(te(u,function(){o?h():n=!0},function(){t=!0,s()}))),r},h=function(){a=!1,o=i.subscribe(te(u,void 0,function(){a=!0,!s()&&c().next()})),n&&(o.unsubscribe(),o=null,n=!1,h())};h()})}function B1(e){e===void 0&&(e=1/0);var i;e&&typeof e=="object"?i=e:i={count:e};var u=i.count,o=u===void 0?1/0:u,n=i.delay,r=i.resetOnSuccess,t=r===void 0?!1:r;return o<=0?$e:oe(function(a,s){var c=0,h,l=function(){var m=!1;h=a.subscribe(te(s,function(_){t&&(c=0),s.next(_)},void 0,function(_){if(c++<o){var y=function(){h?(h.unsubscribe(),h=null,l()):m=!0};if(n!=null){var d=typeof n=="number"?wt(n):de(n(_,c)),f=te(s,function(){f.unsubscribe(),y()},function(){s.complete()});d.subscribe(f)}else y()}else s.error(_)})),m&&(h.unsubscribe(),h=null,l())};l()})}function W1(e){return oe(function(i,u){var o,n=!1,r,t=function(){o=i.subscribe(te(u,void 0,void 0,function(a){r||(r=new Ue,de(e(r)).subscribe(te(u,function(){return o?t():n=!0}))),r&&r.next(a)})),n&&(o.unsubscribe(),o=null,n=!1,t())};t()})}function Lm(e){return oe(function(i,u){var o=!1,n=null;i.subscribe(te(u,function(r){o=!0,n=r})),de(e).subscribe(te(u,function(){if(o){o=!1;var r=n;n=null,u.next(r)}},De))})}function V1(e,i){return e===void 0&&(e=0),i===void 0&&(i=or),e<0&&(e=0),wt(e,e,i)}function $1(e,i){return i===void 0&&(i=or),Lm(V1(e,i))}function H1(e,i){return oe(gm(e,i,arguments.length>=2,!0))}function z1(e,i){return i===void 0&&(i=function(u,o){return u===o}),oe(function(u,o){var n=mp(),r=mp(),t=function(s){o.next(s),o.complete()},a=function(s,c){var h=te(o,function(l){var m=c.buffer,_=c.complete;m.length===0?_?t(!1):s.buffer.push(l):!i(l,m.shift())&&t(!1)},function(){s.complete=!0;var l=c.complete,m=c.buffer;l&&t(m.length===0),h==null||h.unsubscribe()});return h};u.subscribe(a(n,r)),de(e).subscribe(a(r,n))})}function mp(){return{buffer:[],complete:!1}}function Um(e){e===void 0&&(e={});var i=e.connector,u=i===void 0?function(){return new Ue}:i,o=e.resetOnError,n=o===void 0?!0:o,r=e.resetOnComplete,t=r===void 0?!0:r,a=e.resetOnRefCountZero,s=a===void 0?!0:a;return function(c){var h,l,m,_=0,y=!1,d=!1,f=function(){l==null||l.unsubscribe(),l=void 0},v=function(){f(),h=m=void 0,y=d=!1},p=function(){var b=h;v(),b==null||b.unsubscribe()};return oe(function(b,g){_++,!d&&!y&&f();var O=m=m??u();g.add(function(){_--,_===0&&!d&&!y&&(l=Vs(p,s))}),O.subscribe(g),!h&&_>0&&(h=new la({next:function(w){return O.next(w)},error:function(w){d=!0,f(),l=Vs(v,n,w),O.error(w)},complete:function(){y=!0,f(),l=Vs(v,t),O.complete()}}),de(b).subscribe(h))})(c)}}function Vs(e,i){for(var u=[],o=2;o<arguments.length;o++)u[o-2]=arguments[o];if(i===!0){e();return}if(i!==!1){var n=new la({next:function(){n.unsubscribe(),e()}});return de(i.apply(void 0,Te([],Se(u)))).subscribe(n)}}function Y1(e,i,u){var o,n,r,t,a=!1;return e&&typeof e=="object"?(o=e.bufferSize,t=o===void 0?1/0:o,n=e.windowTime,i=n===void 0?1/0:n,r=e.refCount,a=r===void 0?!1:r,u=e.scheduler):t=e??1/0,Um({connector:function(){return new Dm(t,i,u)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var G1=ot(function(e){return function(u){e(this),this.name="SequenceError",this.message=u}}),K1=ot(function(e){return function(u){e(this),this.name="NotFoundError",this.message=u}});function Z1(e){return oe(function(i,u){var o=!1,n,r=!1,t=0;i.subscribe(te(u,function(a){r=!0,(!e||e(a,t++,i))&&(o&&u.error(new G1("Too many matching values")),o=!0,n=a)},function(){o?(u.next(n),u.complete()):u.error(r?new K1("No matching values"):new Qu)}))})}function Q1(e){return Jr(function(i,u){return e<=u})}function X1(e){return e<=0?$e:oe(function(i,u){var o=new Array(e),n=0;return i.subscribe(te(u,function(r){var t=n++;if(t<e)o[t]=r;else{var a=t%e,s=o[a];o[a]=r,u.next(s)}})),function(){o=null}})}function J1(e){return oe(function(i,u){var o=!1,n=te(u,function(){n==null||n.unsubscribe(),o=!0},De);de(e).subscribe(n),i.subscribe(te(u,function(r){return o&&u.next(r)}))})}function eS(e){return oe(function(i,u){var o=!1,n=0;i.subscribe(te(u,function(r){return(o||(o=!e(r,n++)))&&u.next(r)}))})}function rS(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ir(e);return oe(function(o,n){(u?Au(e,o,u):Au(e,o)).subscribe(n)})}function da(e,i){return oe(function(u,o){var n=null,r=0,t=!1,a=function(){return t&&!n&&o.complete()};u.subscribe(te(o,function(s){n==null||n.unsubscribe();var c=0,h=r++;de(e(s,h)).subscribe(n=te(o,function(l){return o.next(i?i(s,l,h,c++):l)},function(){n=null,a()}))},function(){t=!0,a()}))})}function tS(){return da($e)}function nS(e,i){return he(i)?da(function(){return e},i):da(function(){return e})}function iS(e,i){return oe(function(u,o){var n=i;return da(function(r,t){return e(n,r,t)},function(r,t){return n=t,t})(u).subscribe(o),function(){n=null}})}function oS(e){return oe(function(i,u){de(e).subscribe(te(u,function(){return u.complete()},De)),!u.closed&&i.subscribe(u)})}function aS(e,i){return i===void 0&&(i=!1),oe(function(u,o){var n=0;u.subscribe(te(o,function(r){var t=e(r,n++);(t||i)&&o.next(r),!t&&o.complete()}))})}function uS(e,i,u){var o=he(e)||i||u?{next:e,error:i,complete:u}:e;return o?oe(function(n,r){var t;(t=o.subscribe)===null||t===void 0||t.call(o);var a=!0;n.subscribe(te(r,function(s){var c;(c=o.next)===null||c===void 0||c.call(o,s),r.next(s)},function(){var s;a=!1,(s=o.complete)===null||s===void 0||s.call(o),r.complete()},function(s){var c;a=!1,(c=o.error)===null||c===void 0||c.call(o,s),r.error(s)},function(){var s,c;a&&((s=o.unsubscribe)===null||s===void 0||s.call(o)),(c=o.finalize)===null||c===void 0||c.call(o)}))}):$e}var xm={leading:!0,trailing:!1};function Fm(e,i){return i===void 0&&(i=xm),oe(function(u,o){var n=i.leading,r=i.trailing,t=!1,a=null,s=null,c=!1,h=function(){s==null||s.unsubscribe(),s=null,r&&(_(),c&&o.complete())},l=function(){s=null,c&&o.complete()},m=function(y){return s=de(e(y)).subscribe(te(o,h,l))},_=function(){if(t){t=!1;var y=a;a=null,o.next(y),!c&&m(y)}};u.subscribe(te(o,function(y){t=!0,a=y,!(s&&!s.closed)&&(n?_():m(y))},function(){c=!0,!(r&&t&&s&&!s.closed)&&o.complete()}))})}function sS(e,i,u){i===void 0&&(i=or),u===void 0&&(u=xm);var o=wt(e,i);return Fm(function(){return o},u)}function cS(e){return e===void 0&&(e=or),oe(function(i,u){var o=e.now();i.subscribe(te(u,function(n){var r=e.now(),t=r-o;o=r,u.next(new lS(n,t))}))})}var lS=function(){function e(i,u){this.value=i,this.interval=u}return e}(),fS=ot(function(e){return function(u){u===void 0&&(u=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=u}});function Bm(e,i){var u=Mc(e)?{first:e}:typeof e=="number"?{each:e}:e,o=u.first,n=u.each,r=u.with,t=r===void 0?dS:r,a=u.scheduler,s=a===void 0?i??or:a,c=u.meta,h=c===void 0?null:c;if(o==null&&n==null)throw new TypeError("No timeout provided.");return oe(function(l,m){var _,y,d=null,f=0,v=function(p){y=Ye(m,s,function(){try{_.unsubscribe(),de(t({meta:h,lastValue:d,seen:f})).subscribe(m)}catch(b){m.error(b)}},p)};_=l.subscribe(te(m,function(p){y==null||y.unsubscribe(),f++,m.next(d=p),n>0&&v(n)},void 0,void 0,function(){y!=null&&y.closed||y==null||y.unsubscribe(),d=null})),!f&&v(o!=null?typeof o=="number"?o:+o-s.now():n)})}function dS(e){throw new fS(e)}function vS(e,i,u){var o,n,r;if(u=u??pm,Mc(e)?o=e:typeof e=="number"&&(n=e),i)r=function(){return i};else throw new TypeError("No observable provided to switch to");if(o==null&&n==null)throw new TypeError("No timeout provided.");return Bm({first:o,each:n,scheduler:u,with:r})}function hS(e){return e===void 0&&(e=Gu),at(function(i){return{value:i,timestamp:e.now()}})}function pS(e){return oe(function(i,u){var o=new Ue;u.next(o.asObservable());var n=function(r){o.error(r),u.error(r)};return i.subscribe(te(u,function(r){return o==null?void 0:o.next(r)},function(){o.complete(),u.complete()},n)),de(e).subscribe(te(u,function(){o.complete(),u.next(o=new Ue)},De,n)),function(){o==null||o.unsubscribe(),o=null}})}function _S(e,i){i===void 0&&(i=0);var u=i>0?i:e;return oe(function(o,n){var r=[new Ue],t=[],a=0;n.next(r[0].asObservable()),o.subscribe(te(n,function(s){var c,h;try{for(var l=ze(r),m=l.next();!m.done;m=l.next()){var _=m.value;_.next(s)}}catch(f){c={error:f}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(c)throw c.error}}var y=a-e+1;if(y>=0&&y%u===0&&r.shift().complete(),++a%u===0){var d=new Ue;r.push(d),n.next(d.asObservable())}},function(){for(;r.length>0;)r.shift().complete();n.complete()},function(s){for(;r.length>0;)r.shift().error(s);n.error(s)},function(){t=null,r=null}))})}function yS(e){for(var i,u,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var r=(i=Ir(o))!==null&&i!==void 0?i:or,t=(u=o[0])!==null&&u!==void 0?u:null,a=o[1]||1/0;return oe(function(s,c){var h=[],l=!1,m=function(f){var v=f.window,p=f.subs;v.complete(),p.unsubscribe(),mr(h,f),l&&_()},_=function(){if(h){var f=new ir;c.add(f);var v=new Ue,p={window:v,subs:f,seen:0};h.push(p),c.next(v.asObservable()),Ye(f,r,function(){return m(p)},e)}};t!==null&&t>=0?Ye(c,r,_,t,!0):l=!0,_();var y=function(f){return h.slice().forEach(f)},d=function(f){y(function(v){var p=v.window;return f(p)}),f(c),c.unsubscribe()};return s.subscribe(te(c,function(f){y(function(v){v.window.next(f),a<=++v.seen&&m(v)})},function(){return d(function(f){return f.complete()})},function(f){return d(function(v){return v.error(f)})})),function(){h=null}})}function mS(e,i){return oe(function(u,o){var n=[],r=function(t){for(;0<n.length;)n.shift().error(t);o.error(t)};de(e).subscribe(te(o,function(t){var a=new Ue;n.push(a);var s=new ir,c=function(){mr(n,a),a.complete(),s.unsubscribe()},h;try{h=de(i(t))}catch(l){r(l);return}o.next(a.asObservable()),s.add(h.subscribe(te(o,c,De,r)))},De)),u.subscribe(te(o,function(t){var a,s,c=n.slice();try{for(var h=ze(c),l=h.next();!l.done;l=h.next()){var m=l.value;m.next(t)}}catch(_){a={error:_}}finally{try{l&&!l.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}},function(){for(;0<n.length;)n.shift().complete();o.complete()},r,function(){for(;0<n.length;)n.shift().unsubscribe()}))})}function bS(e){return oe(function(i,u){var o,n,r=function(a){o.error(a),u.error(a)},t=function(){n==null||n.unsubscribe(),o==null||o.complete(),o=new Ue,u.next(o.asObservable());var a;try{a=de(e())}catch(s){r(s);return}a.subscribe(n=te(u,t,t,r))};t(),i.subscribe(te(u,function(a){return o.next(a)},function(){o.complete(),u.complete()},r,function(){n==null||n.unsubscribe(),o=null}))})}function gS(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ku(e);return oe(function(o,n){for(var r=e.length,t=new Array(r),a=e.map(function(){return!1}),s=!1,c=function(l){de(e[l]).subscribe(te(n,function(m){t[l]=m,!s&&!a[l]&&(a[l]=!0,(s=a.every($e))&&(a=null))},De))},h=0;h<r;h++)c(h);o.subscribe(te(n,function(l){if(s){var m=Te([l],Se(t));n.next(u?u.apply(void 0,Te([],Se(m))):m)}}))})}function Wm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var u=Ku(e),o=St(e);return o.length?new Ae(function(n){var r=o.map(function(){return[]}),t=o.map(function(){return!1});n.add(function(){r=t=null});for(var a=function(c){de(o[c]).subscribe(te(n,function(h){if(r[c].push(h),r.every(function(m){return m.length})){var l=r.map(function(m){return m.shift()});n.next(u?u.apply(void 0,Te([],Se(l))):l),r.some(function(m,_){return!m.length&&t[_]})&&n.complete()}},function(){t[c]=!0,!r[c].length&&n.complete()}))},s=0;!n.closed&&s<o.length;s++)a(s);return function(){r=t=null}}):ga}function Vm(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return oe(function(u,o){Wm.apply(void 0,Te([u],Se(e))).subscribe(o)})}function OS(e){return wm(Wm,e)}function wS(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Vm.apply(void 0,Te([],Se(e)))}const ES=Object.freeze(Object.defineProperty({__proto__:null,audit:hm,auditTime:yE,buffer:mE,bufferCount:bE,bufferTime:OE,bufferToggle:wE,bufferWhen:EE,catchError:ym,combineAll:BE,combineLatestAll:Em,combineLatest:Uc,combineLatestWith:VE,concat:Sm,concatAll:Fc,concatMap:ac,concatMapTo:$E,concatWith:HE,connect:Bc,count:KE,debounce:ZE,debounceTime:QE,defaultIfEmpty:Zu,delay:XE,delayWhen:Wc,dematerialize:e1,distinct:r1,distinctUntilChanged:Cm,distinctUntilKeyChanged:n1,elementAt:o1,endWith:a1,every:u1,exhaust:s1,exhaustAll:Am,exhaustMap:Vc,expand:c1,filter:Jr,finalize:l1,find:f1,findIndex:d1,first:v1,groupBy:h1,ignoreElements:Tm,isEmpty:p1,last:_1,map:at,mapTo:Pm,materialize:y1,max:m1,merge:Nm,mergeAll:xc,flatMap:b1,mergeMap:fr,mergeMapTo:g1,mergeScan:O1,mergeWith:w1,min:E1,multicast:Hc,observeOn:kc,onErrorResumeNext:P1,pairwise:R1,partition:C1,pluck:A1,publish:j1,publishBehavior:N1,publishLast:D1,publishReplay:q1,race:U1,raceWith:qm,reduce:ba,repeat:x1,repeatWhen:F1,retry:B1,retryWhen:W1,refCount:km,sample:Lm,sampleTime:$1,scan:H1,sequenceEqual:z1,share:Um,shareReplay:Y1,single:Z1,skip:Q1,skipLast:X1,skipUntil:J1,skipWhile:eS,startWith:rS,subscribeOn:Dc,switchAll:tS,switchMap:da,switchMapTo:nS,switchScan:iS,take:fa,takeLast:Mm,takeUntil:oS,takeWhile:aS,tap:uS,throttle:Fm,throttleTime:sS,throwIfEmpty:Xu,timeInterval:cS,timeout:Bm,timeoutWith:vS,timestamp:hS,toArray:Om,window:pS,windowCount:_S,windowTime:yS,windowToggle:mS,windowWhen:bS,withLatestFrom:gS,zip:Vm,zipAll:OS,zipWith:wS},Symbol.toStringTag,{value:"Module"})),zc=y0(ES);var $s={},bp;function Ju(){return bp||(bp=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(z_()),o=i(Y_()),n=i(yt()),r=i(mt()),t=se(),a=zu(),s=zc,c={READY:0,STREAMING:1,COMPLETED:2},h=function(){function _(y,d){(0,n.default)(this,_);var f=y.pipe((0,s.publishReplay)(1),(0,s.refCount)());this._result=f,this._keys=f.pipe((0,s.mergeMap)(function(v){return(0,a.from)(v.keys())}),(0,s.publishReplay)(1),(0,s.refCount)()),this._records=void 0,this._controls=new m,this._summary=new a.ReplaySubject,this._state=d||c.READY}return(0,r.default)(_,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var d=this,f=this._result.pipe((0,s.mergeMap)(function(v){return new a.Observable(function(p){return d._startStreaming({result:v,recordsObserver:p})})}));return f.push=function(){return d._push()},f}},{key:"consume",value:function(){var d=this;return this._result.pipe((0,s.mergeMap)(function(f){return new a.Observable(function(v){return d._startStreaming({result:f,summaryObserver:v})})}))}},{key:"pause",value:function(){this._controls.pause()}},{key:"resume",value:function(){return this._controls.resume()}},{key:"push",value:function(){return this._controls.push()}},{key:"_startStreaming",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=d.result,v=d.recordsObserver,p=v===void 0?null:v,b=d.summaryObserver,g=b===void 0?null:b,O=[];return g&&O.push(this._summary.subscribe(g)),this._state<c.STREAMING?(this._state=c.STREAMING,this._setupRecordsStream(f),p?O.push(this._records.subscribe(p)):f._cancel(),O.push({unsubscribe:function(){f._cancel&&f._cancel()}})):p&&p.error((0,t.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){O.forEach(function(w){return w.unsubscribe()})}}},{key:"_toObservable",value:function(){var d=this;function f(v){return new a.Observable(function(p){p.next(v),p.complete()})}return new a.Observable(function(v){d._result.subscribe({complete:function(){return v.complete()},next:function(b){return v.next(new _(f(b)),d._state)},error:function(b){return v.error(b)}})})}},{key:"_setupRecordsStream",value:function(d){var f=this;return this._records?this._records:(this._records=l(d[Symbol.asyncIterator](),{complete:function(){var v=(0,o.default)(u.default.mark(function b(){return u.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return f._state=c.COMPLETED,O.t0=f._summary,O.next=4,d.summary();case 4:O.t1=O.sent,O.t0.next.call(O.t0,O.t1),f._summary.complete();case 7:case"end":return O.stop()}},b)}));function p(){return v.apply(this,arguments)}return p}(),error:function(p){f._state=c.COMPLETED,f._summary.error(p)}},this._controls),this._records)}}]),_}();e.default=h;function l(_,y){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new m,f=new a.Subject,v=function(){var g=(0,o.default)(u.default.mark(function O(w){var E,R,A;return u.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,d.pushing=!0,D.next=4,w;case 4:E=D.sent,R=E.done,A=E.value,R?(f.complete(),y.complete()):(f.next(A),d.paused||v(_.next()).catch(function(){})),D.next=14;break;case 10:D.prev=10,D.t0=D.catch(0),f.error(D.t0),y.error(D.t0);case 14:return D.prev=14,d.pushing=!1,D.finish(14);case 17:case"end":return D.stop()}},O,null,[[0,10,14,17]])}));return function(w){return g.apply(this,arguments)}}();function p(g){return b.apply(this,arguments)}function b(){return b=(0,o.default)(u.default.mark(function g(O){return u.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,v(_.next(O));case 2:case"end":return E.stop()}},g)})),b.apply(this,arguments)}return d.pusher=p,p(),f}var m=function(){function _(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,o.default)(u.default.mark(function d(){return u.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:case"end":return v.stop()}},d)}));(0,n.default)(this,_),this._paused=!1,this._pushing=!1,this._push=y}return(0,r.default)(_,[{key:"pause",value:function(){this._paused=!0}},{key:"paused",get:function(){return this._paused}},{key:"pushing",get:function(){return this._pushing},set:function(d){this._pushing=d}},{key:"resume",value:function(){var y=(0,o.default)(u.default.mark(function f(){var v;return u.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(v=this._paused,this._paused=!1,!(v&&!this._pushing)){b.next=5;break}return b.next=5,this._push();case 5:case"end":return b.stop()}},f,this)}));function d(){return y.apply(this,arguments)}return d}()},{key:"push",value:function(){var y=(0,o.default)(u.default.mark(function f(){return u.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.pause(),p.next=3,this._push();case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},f,this)}));function d(){return y.apply(this,arguments)}return d}()},{key:"pusher",get:function(){return this._push},set:function(d){this._push=d}}]),_}()}($s)),$s}var Hs={},gp;function Yc(){return gp||(gp=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(yt()),o=i(mt()),n=zu(),r=i(Ju());i(se());var t=function(){function a(s){(0,u.default)(this,a),this._txc=s}return(0,o.default)(a,[{key:"run",value:function(c,h){var l=this;return new r.default(new n.Observable(function(m){try{m.next(l._txc.run(c,h)),m.complete()}catch(_){m.error(_)}return function(){}}))}},{key:"commit",value:function(){var c=this;return new n.Observable(function(h){c._txc.commit().then(function(){h.complete()}).catch(function(l){return h.error(l)})})}},{key:"rollback",value:function(){var c=this;return new n.Observable(function(h){c._txc.rollback().then(function(){h.complete()}).catch(function(l){return h.error(l)})})}},{key:"isOpen",value:function(){return this._txc.isOpen()}},{key:"close",value:function(){var c=this;return new n.Observable(function(h){c._txc.close().then(function(){h.complete()}).catch(function(l){return h.error(l)})})}}]),a}();e.default=t}(Hs)),Hs}var zs={},Op;function $m(){return Op||(Op=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(yt()),o=i(mt());i(Ju()),i(Yc());var n=function(){function t(a){var s=a.run;(0,u.default)(this,t),this._run=s}return(0,o.default)(t,[{key:"run",value:function(s,c){return this._run(s,c)}}],[{key:"fromTransaction",value:function(s){return new t({run:s.run.bind(s)})}}]),t}(),r=n;e.default=r}(zs)),zs}var Ys={},wp;function SS(){return wp||(wp=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(yt()),o=i(mt()),n=se(),r=zu(),t=zc;n.internal.logger.Logger;var a=n.error.SERVICE_UNAVAILABLE,s=30*1e3,c=1e3,h=2,l=.2,m=function(){function y(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=d.maxRetryTimeout,v=f===void 0?s:f,p=d.initialDelay,b=p===void 0?c:p,g=d.delayMultiplier,O=g===void 0?h:g,w=d.delayJitter,E=w===void 0?l:w,R=d.logger,A=R===void 0?null:R;(0,u.default)(this,y),this._maxRetryTimeout=_(v,s),this._initialDelay=_(b,c),this._delayMultiplier=_(O,h),this._delayJitter=_(E,l),this._logger=A}return(0,o.default)(y,[{key:"retry",value:function(f){var v=this;return f.pipe((0,t.retryWhen)(function(p){var b=[],g=Date.now(),O=1,w=v._initialDelay;return p.pipe((0,t.mergeMap)(function(E){if(!(0,n.isRetriableError)(E))return(0,r.throwError)(function(){return E});if(b.push(E),O>=2&&Date.now()-g>=v._maxRetryTimeout){var R=(0,n.newError)("Failed after retried for ".concat(O," times in ").concat(v._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return R.seenErrors=b,(0,r.throwError)(function(){return R})}var A=v._computeNextDelay(w);return w=w*v._delayMultiplier,O++,v._logger&&v._logger.warn("Transaction failed and will be retried in ".concat(A)),(0,r.of)(1).pipe((0,t.delay)(A))}))}))}},{key:"_computeNextDelay",value:function(f){var v=f*this._delayJitter;return f-v+2*v*Math.random()}}]),y}();e.default=m;function _(y,d){return y||y===0?y:d}}(Ys)),Ys}var Ep;function Hm(){return Ep||(Ep=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(yt()),o=i(mt()),n=zu(),r=zc,t=i(Ju()),a=se(),s=i(Yc()),c=i($m()),h=i(SS()),l=a.internal.constants,m=l.ACCESS_MODE_READ,_=l.ACCESS_MODE_WRITE,y=a.internal.txConfig.TxConfig,d=function(){function v(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=p.session,g=p.config;(0,u.default)(this,v),this._session=b,this._retryLogic=f(g)}return(0,o.default)(v,[{key:"run",value:function(b,g,O){var w=this;return new t.default(new n.Observable(function(E){try{E.next(w._session.run(b,g,O)),E.complete()}catch(R){E.error(R)}return function(){}}))}},{key:"beginTransaction",value:function(b){return this._beginTransaction(this._session._mode,b)}},{key:"readTransaction",value:function(b,g){return this._runTransaction(m,b,g)}},{key:"writeTransaction",value:function(b,g){return this._runTransaction(_,b,g)}},{key:"executeRead",value:function(b,g){return this._executeInTransaction(m,b,g)}},{key:"executeWrite",value:function(b,g){return this._executeInTransaction(_,b,g)}},{key:"_executeInTransaction",value:function(b,g,O){var w=function(R){return new c.default({run:R.run.bind(R)})};return this._runTransaction(b,g,O,w)}},{key:"close",value:function(){var b=this;return new n.Observable(function(g){b._session.close().then(function(){g.complete()}).catch(function(O){return g.error(O)})})}},{key:"lastBookmark",value:function(){return this.lastBookmarks()}},{key:"lastBookmarks",value:function(){return this._session.lastBookmarks()}},{key:"_beginTransaction",value:function(b,g){var O=this,w=y.empty();return g&&(w=new y(g)),new n.Observable(function(E){try{O._session._beginTransaction(b,w).then(function(R){E.next(new s.default(R)),E.complete()}).catch(function(R){return E.error(R)})}catch(R){E.error(R)}return function(){}})}},{key:"_runTransaction",value:function(b,g,O){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(R){return R},E=y.empty();return O&&(E=new y(O)),this._retryLogic.retry(this._beginTransaction(b,E).pipe((0,r.mergeMap)(function(R){return(0,n.defer)(function(){try{return g(w(R))}catch(A){return(0,n.throwError)(function(){return A})}}).pipe((0,r.catchError)(function(A){return R.rollback().pipe((0,r.concatWith)((0,n.throwError)(function(){return A})))}),(0,r.concatWith)(R.commit()))})))}}]),v}();e.default=d;function f(v){var p=v&&v.maxTransactionRetryTime?v.maxTransactionRetryTime:null;return new h.default({maxRetryTimeout:p})}}(gs)),gs}var Sp;function TS(){return Sp||(Sp=1,function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WRITE=e.READ=e.Driver=void 0;var u=i(yt()),o=i(mt()),n=i(w0()),r=i(S0()),t=i(T0()),a=se(),s=i(Hm());function c(v){var p=h();return function(){var g=(0,t.default)(v),O;if(p){var w=(0,t.default)(this).constructor;O=Reflect.construct(g,arguments,w)}else O=g.apply(this,arguments);return(0,r.default)(this,O)}}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=a.internal.constants.FETCH_ALL,m=a.driver.READ,_=a.driver.WRITE;e.WRITE=_,e.READ=m;var y=function(v){(0,n.default)(b,v);var p=c(b);function b(){return(0,u.default)(this,b),p.apply(this,arguments)}return(0,o.default)(b,[{key:"rxSession",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=O.defaultAccessMode,E=w===void 0?_:w,R=O.bookmarks,A=O.database,B=A===void 0?"":A,D=O.fetchSize,q=O.impersonatedUser,F=O.bookmarkManager;return new s.default({session:this._newSession({defaultAccessMode:E,bookmarkOrBookmarks:R,database:B,impersonatedUser:q,reactive:!1,fetchSize:d(D,this._config.fetchSize),bookmarkManager:F}),config:this._config})}}]),b}(a.Driver);e.Driver=y;function d(v,p){var b=parseInt(v,10);if(b>0||b===l)return b;if(b===0||b<0)throw new Error("The fetch size can only be a positive value or ".concat(l," for ALL. However fetchSize = ").concat(b));return p}var f=y;e.default=f}(us)),us}var Gs={},Tp;function PS(){return Tp||(Tp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="5.3.0";e.default=i}(Gs)),Gs}var Ks={},br={},qa={},Pp;function zm(){if(Pp)return qa;Pp=1,Object.defineProperty(qa,"__esModule",{value:!0});var e=function(){function i(){}return i.prototype.selectReader=function(u){throw new Error("Abstract function")},i.prototype.selectWriter=function(u){throw new Error("Abstract function")},i}();return qa.default=e,qa}var La={},Ua={},Rp;function RS(){if(Rp)return Ua;Rp=1,Object.defineProperty(Ua,"__esModule",{value:!0});var e=function(){function i(u){this._offset=u||0}return i.prototype.next=function(u){if(u===0)return-1;var o=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),o%u},i}();return Ua.default=e,Ua}var Ip;function IS(){if(Ip)return La;Ip=1;var e=P&&P.__extends||function(){var r=function(t,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},r(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(t,a);function s(){this.constructor=t}t.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),i=P&&P.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(La,"__esModule",{value:!0});var u=i(RS()),o=i(zm()),n=function(r){e(t,r);function t(a){var s=r.call(this)||this;return s._readersIndex=new u.default,s._writersIndex=new u.default,s._connectionPool=a,s}return t.prototype.selectReader=function(a){return this._select(a,this._readersIndex)},t.prototype.selectWriter=function(a){return this._select(a,this._writersIndex)},t.prototype._select=function(a,s){var c=a.length;if(c===0)return null;var h=s.next(c),l=h,m=null,_=Number.MAX_SAFE_INTEGER;do{var y=a[l],d=this._connectionPool.activeResourceCount(y);d<_&&(m=y,_=d),l===c-1?l=0:l++}while(l!==h);return m},t}(o.default);return La.default=n,La}var Cp;function Ym(){if(Cp)return br;Cp=1;var e=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(br,"__esModule",{value:!0}),br.LeastConnectedLoadBalancingStrategy=br.LoadBalancingStrategy=void 0;var i=e(zm());br.LoadBalancingStrategy=i.default;var u=e(IS());return br.LeastConnectedLoadBalancingStrategy=u.default,br.default=u.default,br}var Zs={},xa={},Qs={},Kr={},Fa={},ft={},Xs={},oa={},Ap;function CS(){if(Ap)return oa;Ap=1,oa.byteLength=a,oa.toByteArray=c,oa.fromByteArray=m;for(var e=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,r=o.length;n<r;++n)e[n]=o[n],i[o.charCodeAt(n)]=n;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function t(_){var y=_.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=_.indexOf("=");d===-1&&(d=y);var f=d===y?0:4-d%4;return[d,f]}function a(_){var y=t(_),d=y[0],f=y[1];return(d+f)*3/4-f}function s(_,y,d){return(y+d)*3/4-d}function c(_){var y,d=t(_),f=d[0],v=d[1],p=new u(s(_,f,v)),b=0,g=v>0?f-4:f,O;for(O=0;O<g;O+=4)y=i[_.charCodeAt(O)]<<18|i[_.charCodeAt(O+1)]<<12|i[_.charCodeAt(O+2)]<<6|i[_.charCodeAt(O+3)],p[b++]=y>>16&255,p[b++]=y>>8&255,p[b++]=y&255;return v===2&&(y=i[_.charCodeAt(O)]<<2|i[_.charCodeAt(O+1)]>>4,p[b++]=y&255),v===1&&(y=i[_.charCodeAt(O)]<<10|i[_.charCodeAt(O+1)]<<4|i[_.charCodeAt(O+2)]>>2,p[b++]=y>>8&255,p[b++]=y&255),p}function h(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function l(_,y,d){for(var f,v=[],p=y;p<d;p+=3)f=(_[p]<<16&16711680)+(_[p+1]<<8&65280)+(_[p+2]&255),v.push(h(f));return v.join("")}function m(_){for(var y,d=_.length,f=d%3,v=[],p=16383,b=0,g=d-f;b<g;b+=p)v.push(l(_,b,b+p>g?g:b+p));return f===1?(y=_[d-1],v.push(e[y>>2]+e[y<<4&63]+"==")):f===2&&(y=(_[d-2]<<8)+_[d-1],v.push(e[y>>10]+e[y>>4&63]+e[y<<2&63]+"=")),v.join("")}return oa}var Ba={};var jp;function AS(){return jp||(jp=1,Ba.read=function(e,i,u,o,n){var r,t,a=n*8-o-1,s=(1<<a)-1,c=s>>1,h=-7,l=u?n-1:0,m=u?-1:1,_=e[i+l];for(l+=m,r=_&(1<<-h)-1,_>>=-h,h+=a;h>0;r=r*256+e[i+l],l+=m,h-=8);for(t=r&(1<<-h)-1,r>>=-h,h+=o;h>0;t=t*256+e[i+l],l+=m,h-=8);if(r===0)r=1-c;else{if(r===s)return t?NaN:(_?-1:1)*(1/0);t=t+Math.pow(2,o),r=r-c}return(_?-1:1)*t*Math.pow(2,r-o)},Ba.write=function(e,i,u,o,n,r){var t,a,s,c=r*8-n-1,h=(1<<c)-1,l=h>>1,m=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=o?0:r-1,y=o?1:-1,d=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(a=isNaN(i)?1:0,t=h):(t=Math.floor(Math.log(i)/Math.LN2),i*(s=Math.pow(2,-t))<1&&(t--,s*=2),t+l>=1?i+=m/s:i+=m*Math.pow(2,1-l),i*s>=2&&(t++,s/=2),t+l>=h?(a=0,t=h):t+l>=1?(a=(i*s-1)*Math.pow(2,n),t=t+l):(a=i*Math.pow(2,l-1)*Math.pow(2,n),t=0));n>=8;e[u+_]=a&255,_+=y,a/=256,n-=8);for(t=t<<n|a,c+=n;c>0;e[u+_]=t&255,_+=y,t/=256,c-=8);e[u+_-y]|=d*128}),Ba}var Mp;function Gc(){return Mp||(Mp=1,function(e){const i=CS(),u=AS(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50;const n=2147483647;e.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=r(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{const C=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(C,S),C.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function t(C){if(C>n)throw new RangeError('The value "'+C+'" is invalid for option "size"');const S=new Uint8Array(C);return Object.setPrototypeOf(S,a.prototype),S}function a(C,S,T){if(typeof C=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(C)}return s(C,S,T)}a.poolSize=8192;function s(C,S,T){if(typeof C=="string")return m(C,S);if(ArrayBuffer.isView(C))return y(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Ne(C,ArrayBuffer)||C&&Ne(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(C,SharedArrayBuffer)||C&&Ne(C.buffer,SharedArrayBuffer)))return d(C,S,T);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=C.valueOf&&C.valueOf();if(L!=null&&L!==C)return a.from(L,S,T);const H=f(C);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),S,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,S,T){return s(C,S,T)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function h(C,S,T){return c(C),C<=0?t(C):S!==void 0?typeof T=="string"?t(C).fill(S,T):t(C).fill(S):t(C)}a.alloc=function(C,S,T){return h(C,S,T)};function l(C){return c(C),t(C<0?0:v(C)|0)}a.allocUnsafe=function(C){return l(C)},a.allocUnsafeSlow=function(C){return l(C)};function m(C,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const T=b(C,S)|0;let L=t(T);const H=L.write(C,S);return H!==T&&(L=L.slice(0,H)),L}function _(C){const S=C.length<0?0:v(C.length)|0,T=t(S);for(let L=0;L<S;L+=1)T[L]=C[L]&255;return T}function y(C){if(Ne(C,Uint8Array)){const S=new Uint8Array(C);return d(S.buffer,S.byteOffset,S.byteLength)}return _(C)}function d(C,S,T){if(S<0||C.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<S+(T||0))throw new RangeError('"length" is outside of buffer bounds');let L;return S===void 0&&T===void 0?L=new Uint8Array(C):T===void 0?L=new Uint8Array(C,S):L=new Uint8Array(C,S,T),Object.setPrototypeOf(L,a.prototype),L}function f(C){if(a.isBuffer(C)){const S=v(C.length)|0,T=t(S);return T.length===0||C.copy(T,0,0,S),T}if(C.length!==void 0)return typeof C.length!="number"||Tt(C.length)?t(0):_(C);if(C.type==="Buffer"&&Array.isArray(C.data))return _(C.data)}function v(C){if(C>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return C|0}function p(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,T){if(Ne(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),Ne(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(S)||!a.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===T)return 0;let L=S.length,H=T.length;for(let Q=0,X=Math.min(L,H);Q<X;++Q)if(S[Q]!==T[Q]){L=S[Q],H=T[Q];break}return L<H?-1:H<L?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,T){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);let L;if(T===void 0)for(T=0,L=0;L<S.length;++L)T+=S[L].length;const H=a.allocUnsafe(T);let Q=0;for(L=0;L<S.length;++L){let X=S[L];if(Ne(X,Uint8Array))Q+X.length>H.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(H,Q)):Uint8Array.prototype.set.call(H,X,Q);else if(a.isBuffer(X))X.copy(H,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=X.length}return H};function b(C,S){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Ne(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const T=C.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&T===0)return 0;let H=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return qe(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return Ce(C).length;default:if(H)return L?-1:qe(C).length;S=(""+S).toLowerCase(),H=!0}}a.byteLength=b;function g(C,S,T){let L=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,S>>>=0,T<=S))return"";for(C||(C="utf8");;)switch(C){case"hex":return N(this,S,T);case"utf8":case"utf-8":return W(this,S,T);case"ascii":return V(this,S,T);case"latin1":case"binary":return Y(this,S,T);case"base64":return F(this,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,S,T);default:if(L)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function O(C,S,T){const L=C[S];C[S]=C[T],C[T]=L}a.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<S;T+=2)O(this,T,T+1);return this},a.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<S;T+=4)O(this,T,T+3),O(this,T+1,T+2);return this},a.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<S;T+=8)O(this,T,T+7),O(this,T+1,T+6),O(this,T+2,T+5),O(this,T+3,T+4);return this},a.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?W(this,0,S):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){let S="";const T=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(S+=" ... "),"<Buffer "+S+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(S,T,L,H,Q){if(Ne(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(T===void 0&&(T=0),L===void 0&&(L=S?S.length:0),H===void 0&&(H=0),Q===void 0&&(Q=this.length),T<0||L>S.length||H<0||Q>this.length)throw new RangeError("out of range index");if(H>=Q&&T>=L)return 0;if(H>=Q)return-1;if(T>=L)return 1;if(T>>>=0,L>>>=0,H>>>=0,Q>>>=0,this===S)return 0;let X=Q-H,fe=L-T;const we=Math.min(X,fe),ge=this.slice(H,Q),Ee=S.slice(T,L);for(let pe=0;pe<we;++pe)if(ge[pe]!==Ee[pe]){X=ge[pe],fe=Ee[pe];break}return X<fe?-1:fe<X?1:0};function w(C,S,T,L,H){if(C.length===0)return-1;if(typeof T=="string"?(L=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Tt(T)&&(T=H?0:C.length-1),T<0&&(T=C.length+T),T>=C.length){if(H)return-1;T=C.length-1}else if(T<0)if(H)T=0;else return-1;if(typeof S=="string"&&(S=a.from(S,L)),a.isBuffer(S))return S.length===0?-1:E(C,S,T,L,H);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(C,S,T):Uint8Array.prototype.lastIndexOf.call(C,S,T):E(C,[S],T,L,H);throw new TypeError("val must be string, number or Buffer")}function E(C,S,T,L,H){let Q=1,X=C.length,fe=S.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(C.length<2||S.length<2)return-1;Q=2,X/=2,fe/=2,T/=2}function we(Ee,pe){return Q===1?Ee[pe]:Ee.readUInt16BE(pe*Q)}let ge;if(H){let Ee=-1;for(ge=T;ge<X;ge++)if(we(C,ge)===we(S,Ee===-1?0:ge-Ee)){if(Ee===-1&&(Ee=ge),ge-Ee+1===fe)return Ee*Q}else Ee!==-1&&(ge-=ge-Ee),Ee=-1}else for(T+fe>X&&(T=X-fe),ge=T;ge>=0;ge--){let Ee=!0;for(let pe=0;pe<fe;pe++)if(we(C,ge+pe)!==we(S,pe)){Ee=!1;break}if(Ee)return ge}return-1}a.prototype.includes=function(S,T,L){return this.indexOf(S,T,L)!==-1},a.prototype.indexOf=function(S,T,L){return w(this,S,T,L,!0)},a.prototype.lastIndexOf=function(S,T,L){return w(this,S,T,L,!1)};function R(C,S,T,L){T=Number(T)||0;const H=C.length-T;L?(L=Number(L),L>H&&(L=H)):L=H;const Q=S.length;L>Q/2&&(L=Q/2);let X;for(X=0;X<L;++X){const fe=parseInt(S.substr(X*2,2),16);if(Tt(fe))return X;C[T+X]=fe}return X}function A(C,S,T,L){return We(qe(S,C.length-T),C,T,L)}function B(C,S,T,L){return We(Qe(S),C,T,L)}function D(C,S,T,L){return We(Ce(S),C,T,L)}function q(C,S,T,L){return We(Ie(S,C.length-T),C,T,L)}a.prototype.write=function(S,T,L,H){if(T===void 0)H="utf8",L=this.length,T=0;else if(L===void 0&&typeof T=="string")H=T,L=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(L)?(L=L>>>0,H===void 0&&(H="utf8")):(H=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-T;if((L===void 0||L>Q)&&(L=Q),S.length>0&&(L<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let X=!1;for(;;)switch(H){case"hex":return R(this,S,T,L);case"utf8":case"utf-8":return A(this,S,T,L);case"ascii":case"latin1":case"binary":return B(this,S,T,L);case"base64":return D(this,S,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,S,T,L);default:if(X)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(C,S,T){return S===0&&T===C.length?i.fromByteArray(C):i.fromByteArray(C.slice(S,T))}function W(C,S,T){T=Math.min(C.length,T);const L=[];let H=S;for(;H<T;){const Q=C[H];let X=null,fe=Q>239?4:Q>223?3:Q>191?2:1;if(H+fe<=T){let we,ge,Ee,pe;switch(fe){case 1:Q<128&&(X=Q);break;case 2:we=C[H+1],(we&192)===128&&(pe=(Q&31)<<6|we&63,pe>127&&(X=pe));break;case 3:we=C[H+1],ge=C[H+2],(we&192)===128&&(ge&192)===128&&(pe=(Q&15)<<12|(we&63)<<6|ge&63,pe>2047&&(pe<55296||pe>57343)&&(X=pe));break;case 4:we=C[H+1],ge=C[H+2],Ee=C[H+3],(we&192)===128&&(ge&192)===128&&(Ee&192)===128&&(pe=(Q&15)<<18|(we&63)<<12|(ge&63)<<6|Ee&63,pe>65535&&pe<1114112&&(X=pe))}}X===null?(X=65533,fe=1):X>65535&&(X-=65536,L.push(X>>>10&1023|55296),X=56320|X&1023),L.push(X),H+=fe}return j(L)}const k=4096;function j(C){const S=C.length;if(S<=k)return String.fromCharCode.apply(String,C);let T="",L=0;for(;L<S;)T+=String.fromCharCode.apply(String,C.slice(L,L+=k));return T}function V(C,S,T){let L="";T=Math.min(C.length,T);for(let H=S;H<T;++H)L+=String.fromCharCode(C[H]&127);return L}function Y(C,S,T){let L="";T=Math.min(C.length,T);for(let H=S;H<T;++H)L+=String.fromCharCode(C[H]);return L}function N(C,S,T){const L=C.length;(!S||S<0)&&(S=0),(!T||T<0||T>L)&&(T=L);let H="";for(let Q=S;Q<T;++Q)H+=es[C[Q]];return H}function $(C,S,T){const L=C.slice(S,T);let H="";for(let Q=0;Q<L.length-1;Q+=2)H+=String.fromCharCode(L[Q]+L[Q+1]*256);return H}a.prototype.slice=function(S,T){const L=this.length;S=~~S,T=T===void 0?L:~~T,S<0?(S+=L,S<0&&(S=0)):S>L&&(S=L),T<0?(T+=L,T<0&&(T=0)):T>L&&(T=L),T<S&&(T=S);const H=this.subarray(S,T);return Object.setPrototypeOf(H,a.prototype),H};function Z(C,S,T){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+S>T)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,T,L){S=S>>>0,T=T>>>0,L||Z(S,T,this.length);let H=this[S],Q=1,X=0;for(;++X<T&&(Q*=256);)H+=this[S+X]*Q;return H},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,T,L){S=S>>>0,T=T>>>0,L||Z(S,T,this.length);let H=this[S+--T],Q=1;for(;T>0&&(Q*=256);)H+=this[S+--T]*Q;return H},a.prototype.readUint8=a.prototype.readUInt8=function(S,T){return S=S>>>0,T||Z(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,T){return S=S>>>0,T||Z(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,T){return S=S>>>0,T||Z(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readBigUInt64LE=ur(function(S){S=S>>>0,ue(S,"offset");const T=this[S],L=this[S+7];(T===void 0||L===void 0)&&le(S,this.length-8);const H=T+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Q=this[++S]+this[++S]*2**8+this[++S]*2**16+L*2**24;return BigInt(H)+(BigInt(Q)<<BigInt(32))}),a.prototype.readBigUInt64BE=ur(function(S){S=S>>>0,ue(S,"offset");const T=this[S],L=this[S+7];(T===void 0||L===void 0)&&le(S,this.length-8);const H=T*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Q=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+L;return(BigInt(H)<<BigInt(32))+BigInt(Q)}),a.prototype.readIntLE=function(S,T,L){S=S>>>0,T=T>>>0,L||Z(S,T,this.length);let H=this[S],Q=1,X=0;for(;++X<T&&(Q*=256);)H+=this[S+X]*Q;return Q*=128,H>=Q&&(H-=Math.pow(2,8*T)),H},a.prototype.readIntBE=function(S,T,L){S=S>>>0,T=T>>>0,L||Z(S,T,this.length);let H=T,Q=1,X=this[S+--H];for(;H>0&&(Q*=256);)X+=this[S+--H]*Q;return Q*=128,X>=Q&&(X-=Math.pow(2,8*T)),X},a.prototype.readInt8=function(S,T){return S=S>>>0,T||Z(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,T){S=S>>>0,T||Z(S,2,this.length);const L=this[S]|this[S+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(S,T){S=S>>>0,T||Z(S,2,this.length);const L=this[S+1]|this[S]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readBigInt64LE=ur(function(S){S=S>>>0,ue(S,"offset");const T=this[S],L=this[S+7];(T===void 0||L===void 0)&&le(S,this.length-8);const H=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(L<<24);return(BigInt(H)<<BigInt(32))+BigInt(T+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),a.prototype.readBigInt64BE=ur(function(S){S=S>>>0,ue(S,"offset");const T=this[S],L=this[S+7];(T===void 0||L===void 0)&&le(S,this.length-8);const H=(T<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(H)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+L)}),a.prototype.readFloatLE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),u.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,T){return S=S>>>0,T||Z(S,4,this.length),u.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,T){return S=S>>>0,T||Z(S,8,this.length),u.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,T){return S=S>>>0,T||Z(S,8,this.length),u.read(this,S,!1,52,8)};function z(C,S,T,L,H,Q){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>H||S<Q)throw new RangeError('"value" argument is out of bounds');if(T+L>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,T,L,H){if(S=+S,T=T>>>0,L=L>>>0,!H){const fe=Math.pow(2,8*L)-1;z(this,S,T,L,fe,0)}let Q=1,X=0;for(this[T]=S&255;++X<L&&(Q*=256);)this[T+X]=S/Q&255;return T+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,T,L,H){if(S=+S,T=T>>>0,L=L>>>0,!H){const fe=Math.pow(2,8*L)-1;z(this,S,T,L,fe,0)}let Q=L-1,X=1;for(this[T+Q]=S&255;--Q>=0&&(X*=256);)this[T+Q]=S/X&255;return T+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,1,255,0),this[T]=S&255,T+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,2,65535,0),this[T]=S&255,this[T+1]=S>>>8,T+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,2,65535,0),this[T]=S>>>8,this[T+1]=S&255,T+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,4,4294967295,0),this[T+3]=S>>>24,this[T+2]=S>>>16,this[T+1]=S>>>8,this[T]=S&255,T+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,4,4294967295,0),this[T]=S>>>24,this[T+1]=S>>>16,this[T+2]=S>>>8,this[T+3]=S&255,T+4};function G(C,S,T,L,H){ie(S,L,H,C,T,7);let Q=Number(S&BigInt(4294967295));C[T++]=Q,Q=Q>>8,C[T++]=Q,Q=Q>>8,C[T++]=Q,Q=Q>>8,C[T++]=Q;let X=Number(S>>BigInt(32)&BigInt(4294967295));return C[T++]=X,X=X>>8,C[T++]=X,X=X>>8,C[T++]=X,X=X>>8,C[T++]=X,T}function I(C,S,T,L,H){ie(S,L,H,C,T,7);let Q=Number(S&BigInt(4294967295));C[T+7]=Q,Q=Q>>8,C[T+6]=Q,Q=Q>>8,C[T+5]=Q,Q=Q>>8,C[T+4]=Q;let X=Number(S>>BigInt(32)&BigInt(4294967295));return C[T+3]=X,X=X>>8,C[T+2]=X,X=X>>8,C[T+1]=X,X=X>>8,C[T]=X,T+8}a.prototype.writeBigUInt64LE=ur(function(S,T=0){return G(this,S,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ur(function(S,T=0){return I(this,S,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(S,T,L,H){if(S=+S,T=T>>>0,!H){const we=Math.pow(2,8*L-1);z(this,S,T,L,we-1,-we)}let Q=0,X=1,fe=0;for(this[T]=S&255;++Q<L&&(X*=256);)S<0&&fe===0&&this[T+Q-1]!==0&&(fe=1),this[T+Q]=(S/X>>0)-fe&255;return T+L},a.prototype.writeIntBE=function(S,T,L,H){if(S=+S,T=T>>>0,!H){const we=Math.pow(2,8*L-1);z(this,S,T,L,we-1,-we)}let Q=L-1,X=1,fe=0;for(this[T+Q]=S&255;--Q>=0&&(X*=256);)S<0&&fe===0&&this[T+Q+1]!==0&&(fe=1),this[T+Q]=(S/X>>0)-fe&255;return T+L},a.prototype.writeInt8=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,1,127,-128),S<0&&(S=255+S+1),this[T]=S&255,T+1},a.prototype.writeInt16LE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,2,32767,-32768),this[T]=S&255,this[T+1]=S>>>8,T+2},a.prototype.writeInt16BE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,2,32767,-32768),this[T]=S>>>8,this[T+1]=S&255,T+2},a.prototype.writeInt32LE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,4,2147483647,-2147483648),this[T]=S&255,this[T+1]=S>>>8,this[T+2]=S>>>16,this[T+3]=S>>>24,T+4},a.prototype.writeInt32BE=function(S,T,L){return S=+S,T=T>>>0,L||z(this,S,T,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[T]=S>>>24,this[T+1]=S>>>16,this[T+2]=S>>>8,this[T+3]=S&255,T+4},a.prototype.writeBigInt64LE=ur(function(S,T=0){return G(this,S,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ur(function(S,T=0){return I(this,S,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function M(C,S,T,L,H,Q){if(T+L>C.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function x(C,S,T,L,H){return S=+S,T=T>>>0,H||M(C,S,T,4),u.write(C,S,T,L,23,4),T+4}a.prototype.writeFloatLE=function(S,T,L){return x(this,S,T,!0,L)},a.prototype.writeFloatBE=function(S,T,L){return x(this,S,T,!1,L)};function U(C,S,T,L,H){return S=+S,T=T>>>0,H||M(C,S,T,8),u.write(C,S,T,L,52,8),T+8}a.prototype.writeDoubleLE=function(S,T,L){return U(this,S,T,!0,L)},a.prototype.writeDoubleBE=function(S,T,L){return U(this,S,T,!1,L)},a.prototype.copy=function(S,T,L,H){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(L||(L=0),!H&&H!==0&&(H=this.length),T>=S.length&&(T=S.length),T||(T=0),H>0&&H<L&&(H=L),H===L||S.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),S.length-T<H-L&&(H=S.length-T+L);const Q=H-L;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,L,H):Uint8Array.prototype.set.call(S,this.subarray(L,H),T),Q},a.prototype.fill=function(S,T,L,H){if(typeof S=="string"){if(typeof T=="string"?(H=T,T=0,L=this.length):typeof L=="string"&&(H=L,L=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!a.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(S.length===1){const X=S.charCodeAt(0);(H==="utf8"&&X<128||H==="latin1")&&(S=X)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(T<0||this.length<T||this.length<L)throw new RangeError("Out of range index");if(L<=T)return this;T=T>>>0,L=L===void 0?this.length:L>>>0,S||(S=0);let Q;if(typeof S=="number")for(Q=T;Q<L;++Q)this[Q]=S;else{const X=a.isBuffer(S)?S:a.from(S,H),fe=X.length;if(fe===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Q=0;Q<L-T;++Q)this[Q+T]=X[Q%fe]}return this};const K={};function ee(C,S,T){K[C]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(C,S){return`The "${C}" argument must be of type number. Received type ${typeof S}`},TypeError),ee("ERR_OUT_OF_RANGE",function(C,S,T){let L=`The value of "${C}" is out of range.`,H=T;return Number.isInteger(T)&&Math.abs(T)>2**32?H=re(String(T)):typeof T=="bigint"&&(H=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(H=re(H)),H+="n"),L+=` It must be ${S}. Received ${H}`,L},RangeError);function re(C){let S="",T=C.length;const L=C[0]==="-"?1:0;for(;T>=L+4;T-=3)S=`_${C.slice(T-3,T)}${S}`;return`${C.slice(0,T)}${S}`}function J(C,S,T){ue(S,"offset"),(C[S]===void 0||C[S+T]===void 0)&&le(S,C.length-(T+1))}function ie(C,S,T,L,H,Q){if(C>T||C<S){const X=typeof S=="bigint"?"n":"";let fe;throw Q>3?S===0||S===BigInt(0)?fe=`>= 0${X} and < 2${X} ** ${(Q+1)*8}${X}`:fe=`>= -(2${X} ** ${(Q+1)*8-1}${X}) and < 2 ** ${(Q+1)*8-1}${X}`:fe=`>= ${S}${X} and <= ${T}${X}`,new K.ERR_OUT_OF_RANGE("value",fe,C)}J(L,H,Q)}function ue(C,S){if(typeof C!="number")throw new K.ERR_INVALID_ARG_TYPE(S,"number",C)}function le(C,S,T){throw Math.floor(C)!==C?(ue(C,T),new K.ERR_OUT_OF_RANGE(T||"offset","an integer",C)):S<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${S}`,C)}const Re=/[^+/0-9A-Za-z-_]/g;function je(C){if(C=C.split("=")[0],C=C.trim().replace(Re,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function qe(C,S){S=S||1/0;let T;const L=C.length;let H=null;const Q=[];for(let X=0;X<L;++X){if(T=C.charCodeAt(X),T>55295&&T<57344){if(!H){if(T>56319){(S-=3)>-1&&Q.push(239,191,189);continue}else if(X+1===L){(S-=3)>-1&&Q.push(239,191,189);continue}H=T;continue}if(T<56320){(S-=3)>-1&&Q.push(239,191,189),H=T;continue}T=(H-55296<<10|T-56320)+65536}else H&&(S-=3)>-1&&Q.push(239,191,189);if(H=null,T<128){if((S-=1)<0)break;Q.push(T)}else if(T<2048){if((S-=2)<0)break;Q.push(T>>6|192,T&63|128)}else if(T<65536){if((S-=3)<0)break;Q.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((S-=4)<0)break;Q.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return Q}function Qe(C){const S=[];for(let T=0;T<C.length;++T)S.push(C.charCodeAt(T)&255);return S}function Ie(C,S){let T,L,H;const Q=[];for(let X=0;X<C.length&&!((S-=2)<0);++X)T=C.charCodeAt(X),L=T>>8,H=T%256,Q.push(H),Q.push(L);return Q}function Ce(C){return i.toByteArray(je(C))}function We(C,S,T,L){let H;for(H=0;H<L&&!(H+T>=S.length||H>=C.length);++H)S[H+T]=C[H];return H}function Ne(C,S){return C instanceof S||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===S.name}function Tt(C){return C!==C}const es=function(){const C="0123456789abcdef",S=new Array(256);for(let T=0;T<16;++T){const L=T*16;for(let H=0;H<16;++H)S[L+H]=C[T]+C[H]}return S}();function ur(C){return typeof BigInt>"u"?rs:C}function rs(){throw new Error("BigInt not supported")}}(Xs)),Xs}var dt={},Wa={},Np;function Gm(){if(Np)return Wa;Np=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(Wa,"__esModule",{value:!0});var i=function(){function o(n){this.position=0,this.length=n}return o.prototype.getUInt8=function(n){throw new Error("Not implemented")},o.prototype.getInt8=function(n){throw new Error("Not implemented")},o.prototype.getFloat64=function(n){throw new Error("Not implemented")},o.prototype.putUInt8=function(n,r){throw new Error("Not implemented")},o.prototype.putInt8=function(n,r){throw new Error("Not implemented")},o.prototype.putFloat64=function(n,r){throw new Error("Not implemented")},o.prototype.getInt16=function(n){return this.getInt8(n)<<8|this.getUInt8(n+1)},o.prototype.getUInt16=function(n){return this.getUInt8(n)<<8|this.getUInt8(n+1)},o.prototype.getInt32=function(n){return this.getInt8(n)<<24|this.getUInt8(n+1)<<16|this.getUInt8(n+2)<<8|this.getUInt8(n+3)},o.prototype.getUInt32=function(n){return this.getUInt8(n)<<24|this.getUInt8(n+1)<<16|this.getUInt8(n+2)<<8|this.getUInt8(n+3)},o.prototype.getInt64=function(n){return this.getInt8(n)<<56|this.getUInt8(n+1)<<48|this.getUInt8(n+2)<<40|this.getUInt8(n+3)<<32|this.getUInt8(n+4)<<24|this.getUInt8(n+5)<<16|this.getUInt8(n+6)<<8|this.getUInt8(n+7)},o.prototype.getSlice=function(n,r){return new u(n,r,this)},o.prototype.putInt16=function(n,r){this.putInt8(n,r>>8),this.putUInt8(n+1,r&255)},o.prototype.putUInt16=function(n,r){this.putUInt8(n,r>>8&255),this.putUInt8(n+1,r&255)},o.prototype.putInt32=function(n,r){this.putInt8(n,r>>24),this.putUInt8(n+1,r>>16&255),this.putUInt8(n+2,r>>8&255),this.putUInt8(n+3,r&255)},o.prototype.putUInt32=function(n,r){this.putUInt8(n,r>>24&255),this.putUInt8(n+1,r>>16&255),this.putUInt8(n+2,r>>8&255),this.putUInt8(n+3,r&255)},o.prototype.putInt64=function(n,r){this.putInt8(n,r>>48),this.putUInt8(n+1,r>>42&255),this.putUInt8(n+2,r>>36&255),this.putUInt8(n+3,r>>30&255),this.putUInt8(n+4,r>>24&255),this.putUInt8(n+5,r>>16&255),this.putUInt8(n+6,r>>8&255),this.putUInt8(n+7,r&255)},o.prototype.putBytes=function(n,r){for(var t=0,a=r.remaining();t<a;t++)this.putUInt8(n+t,r.readUInt8())},o.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},o.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},o.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},o.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},o.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},o.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},o.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},o.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},o.prototype.writeUInt8=function(n){this.putUInt8(this._updatePos(1),n)},o.prototype.writeInt8=function(n){this.putInt8(this._updatePos(1),n)},o.prototype.writeInt16=function(n){this.putInt16(this._updatePos(2),n)},o.prototype.writeInt32=function(n){this.putInt32(this._updatePos(4),n)},o.prototype.writeUInt32=function(n){this.putUInt32(this._updatePos(4),n)},o.prototype.writeInt64=function(n){this.putInt64(this._updatePos(8),n)},o.prototype.writeFloat64=function(n){this.putFloat64(this._updatePos(8),n)},o.prototype.writeBytes=function(n){this.putBytes(this._updatePos(n.remaining()),n)},o.prototype.readSlice=function(n){return this.getSlice(this._updatePos(n),n)},o.prototype._updatePos=function(n){var r=this.position;return this.position+=n,r},o.prototype.remaining=function(){return this.length-this.position},o.prototype.hasRemaining=function(){return this.remaining()>0},o.prototype.reset=function(){this.position=0},o.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},o.prototype.toHex=function(){for(var n="",r=0;r<this.length;r++){var t=this.getUInt8(r).toString(16);t.length===1&&(t="0"+t),n+=t,r!==this.length-1&&(n+=" ")}return n},o}();Wa.default=i;var u=function(o){e(n,o);function n(r,t,a){var s=o.call(this,t)||this;return s._start=r,s._inner=a,s}return n.prototype.putUInt8=function(r,t){this._inner.putUInt8(this._start+r,t)},n.prototype.getUInt8=function(r){return this._inner.getUInt8(this._start+r)},n.prototype.putInt8=function(r,t){this._inner.putInt8(this._start+r,t)},n.prototype.putFloat64=function(r,t){this._inner.putFloat64(this._start+r,t)},n.prototype.getInt8=function(r){return this._inner.getInt8(this._start+r)},n.prototype.getFloat64=function(r){return this._inner.getFloat64(this._start+r)},n}(i);return Wa}var kp;function Kc(){if(kp)return dt;kp=1;var e=P&&P.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.BaseBuffer=void 0;var i=e(Gm());return dt.BaseBuffer=i.default,dt.default=i.default,dt}var Dp;function Oa(){if(Dp)return ft;Dp=1;var e=P&&P.__extends||function(){var a=function(s,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(h[m]=l[m])},a(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(s,c);function h(){this.constructor=s}s.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),i=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ft,"__esModule",{value:!0}),ft.alloc=void 0;var u=i(Gc()),o=i(Kc()),n=function(a){e(s,a);function s(c){var h=this,l=t(c);return h=a.call(this,l.length)||this,h._buffer=l,h}return s.prototype.getUInt8=function(c){return this._buffer.readUInt8(c)},s.prototype.getInt8=function(c){return this._buffer.readInt8(c)},s.prototype.getFloat64=function(c){return this._buffer.readDoubleBE(c)},s.prototype.putUInt8=function(c,h){this._buffer.writeUInt8(h,c)},s.prototype.putInt8=function(c,h){this._buffer.writeInt8(h,c)},s.prototype.putFloat64=function(c,h){this._buffer.writeDoubleBE(h,c)},s.prototype.putBytes=function(c,h){if(h instanceof s){var l=Math.min(h.length-h.position,this.length-c);h._buffer.copy(this._buffer,c,h.position,h.position+l),h.position+=l}else a.prototype.putBytes.call(this,c,h)},s.prototype.getSlice=function(c,h){return new s(this._buffer.slice(c,c+h))},s}(o.default);ft.default=n;function r(a){return new n(a)}ft.alloc=r;function t(a){return a instanceof u.default.Buffer?a:typeof a=="number"&&typeof u.default.Buffer.alloc=="function"?u.default.Buffer.alloc(a):new u.default.Buffer(a)}return ft}var qp;function jS(){if(qp)return Fa;qp=1;var e=P&&P.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(Fa,"__esModule",{value:!0});var i=e(Oa()),u=se(),o=u.internal.util,n=o.ENCRYPTION_OFF,r=o.ENCRYPTION_ON,t=1,a=3,s=function(){function b(g,O,w){O===void 0&&(O=p),w===void 0&&(w=function(q){return new WebSocket(q)});var E=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=g,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null;var R=_(g,O),A=R.scheme,B=R.error;if(B){this._error=B;return}this._ws=c(A,g.address,w),this._ws.binaryType="arraybuffer";var D=this;this._ws.onclose=function(q){q&&!q.wasClean&&D._handleConnectionError(),D._open=!1},this._ws.onopen=function(){D._clearConnectionTimeout();var q=D._pending;D._pending=null;for(var F=0;F<q.length;F++)D.write(q[F])},this._ws.onmessage=function(q){if(E._resetTimeout(),D.onmessage){var F=new i.default(q.data);D.onmessage(F)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}return b.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired){this._error=(0,u.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),this.onerror&&this.onerror(this._error);return}this._open&&!this._timedout&&(this._error=(0,u.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},b.prototype.write=function(g){if(this._pending!==null)this._pending.push(g);else if(g instanceof i.default)try{this._ws.send(g._buffer)}catch(O){if(this._ws.readyState!==t)this._handleConnectionError();else throw O}else throw(0,u.newError)("Don't know how to send buffer: "+g)},b.prototype.close=function(){var g=this;return new Promise(function(O,w){g._ws&&g._ws.readyState!==a?(g._open=!1,g.stopReceiveTimeout(),g._clearConnectionTimeout(),g._ws.onclose=function(){return O()},g._ws.close()):O()})},b.prototype.setupReceiveTimeout=function(g){this._receiveTimeout=g},b.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},b.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},b.prototype._resetTimeout=function(){var g=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){g._receiveTimeoutId=null,g._timedout=!0,g.stopReceiveTimeout(),g._error=(0,u.newError)("Connection lost. Server didn't respond in ".concat(g._receiveTimeout,"ms"),g._config.connectionErrorCode),g.close(),g.onerror&&g.onerror(g._error)},this._receiveTimeout))},b.prototype._setupConnectionTimeout=function(){var g=this,O=this._config.connectionTimeout;if(O){var w=this._ws;return setTimeout(function(){w.readyState!==t&&(g._connectionTimeoutFired=!0,w.close())},O)}return null},b.prototype._clearConnectionTimeout=function(){var g=this._connectionTimeoutId;(g||g===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(g))},b}();Fa.default=s;function c(b,g,O){var w=b+"://"+g.asHostPort();try{return O(w)}catch(R){if(h(R,g)){var E=m(b,g);return O(E)}else throw R}}function h(b,g){return b.name==="SyntaxError"&&l(g.asHostPort())}function l(b){return b.charAt(0)==="["&&b.indexOf("]")!==-1}function m(b,g){var O=g.host().replace(/:/g,"-"),w=O.replace("%","s"),E=w+".ipv6-literal.net";return"".concat(b,"://").concat(E,":").concat(g.port())}function _(b,g){var O=y(b),w=d(b),E=b.trust,R=f(g);if(v(O,w,R),w)return{scheme:"ws",error:null};if(R)return{scheme:"wss",error:null};if(O){if(!E||E==="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES")return{scheme:"wss",error:null};var A=(0,u.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+E+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+n+'"` in the driver configuration.');return{scheme:null,error:A}}return{scheme:"ws",error:null}}function y(b){return b.encrypted===!0||b.encrypted===r}function d(b){return b.encrypted===!1||b.encrypted===n}function f(b){var g=typeof b=="function"?b():"";return g&&g.toLowerCase().indexOf("https")>=0}function v(b,g,O){O===null||(b&&!O?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):g&&O&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}function p(){return typeof window<"u"&&window.location?window.location.protocol:null}return Fa}var Va={},Lp;function MS(){if(Lp)return Va;Lp=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty(Va,"__esModule",{value:!0});var i=se(),u=i.internal.resolver.BaseHostNameResolver,o=function(n){e(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.resolve=function(t){return this._resolveToItself(t)},r}(u);return Va.default=o,Va}var Up;function NS(){if(Up)return Kr;Up=1;var e=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.HostNameResolver=Kr.Channel=void 0;var i=e(jS()),u=e(MS());return Kr.Channel=i.default,Kr.HostNameResolver=u.default,Kr}var Zr={},$a={},xp;function kS(){if(xp)return $a;xp=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}();Object.defineProperty($a,"__esModule",{value:!0});var i=Kc(),u=Oa(),o=function(n){e(r,n);function r(t){for(var a=this,s=0,c=0;c<t.length;c++)s+=t[c].length;return a=n.call(this,s)||this,a._buffers=t,a}return r.prototype.getUInt8=function(t){for(var a=0;a<this._buffers.length;a++){var s=this._buffers[a];if(t>=s.length)t-=s.length;else return s.getUInt8(t)}},r.prototype.getInt8=function(t){for(var a=0;a<this._buffers.length;a++){var s=this._buffers[a];if(t>=s.length)t-=s.length;else return s.getInt8(t)}},r.prototype.getFloat64=function(t){for(var a=(0,u.alloc)(8),s=0;s<8;s++)a.putUInt8(s,this.getUInt8(t+s));return a.getFloat64(0)},r}(i.BaseBuffer);return $a.default=o,$a}var Fp;function DS(){if(Fp)return Zr;Fp=1;var e=P&&P.__extends||function(){var h=function(l,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(_[d]=y[d])},h(l,m)};return function(l,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(l,m);function _(){this.constructor=l}l.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=P&&P.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Dechunker=Zr.Chunker=void 0;var u=i(Gm()),o=Oa(),n=i(kS()),r=2,t=0,a=1400,s=function(h){e(l,h);function l(m,_){var y=h.call(this,0)||this;return y._bufferSize=_||a,y._ch=m,y._buffer=(0,o.alloc)(y._bufferSize),y._currentChunkStart=0,y._chunkOpen=!1,y}return l.prototype.putUInt8=function(m,_){this._ensure(1),this._buffer.writeUInt8(_)},l.prototype.putInt8=function(m,_){this._ensure(1),this._buffer.writeInt8(_)},l.prototype.putFloat64=function(m,_){this._ensure(8),this._buffer.writeFloat64(_)},l.prototype.putBytes=function(m,_){for(;_.remaining()>0;)this._ensure(1),this._buffer.remaining()>_.remaining()?this._buffer.writeBytes(_):this._buffer.writeBytes(_.readSlice(this._buffer.remaining()));return this},l.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var m=this._buffer;this._buffer=null,this._ch.write(m.getSlice(0,m.position)),this._buffer=(0,o.alloc)(this._bufferSize),this._chunkOpen=!1}return this},l.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<r&&this.flush(),this._buffer.writeInt16(t)},l.prototype._ensure=function(m){var _=this._chunkOpen?m:m+r;this._buffer.remaining()<_&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+r,this._chunkOpen=!0)},l.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var m=this._buffer.position-(this._currentChunkStart+r);this._buffer.putUInt16(this._currentChunkStart,m),this._chunkOpen=!1}},l}(u.default);Zr.Chunker=s;var c=function(){function h(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return h.prototype.AWAITING_CHUNK=function(l){return l.remaining()>=2?this._onHeader(l.readUInt16()):(this._partialChunkHeader=l.readUInt8()<<8,this.IN_HEADER)},h.prototype.IN_HEADER=function(l){return this._onHeader((this._partialChunkHeader|l.readUInt8())&65535)},h.prototype.IN_CHUNK=function(l){return this._chunkSize<=l.remaining()?(this._currentMessage.push(l.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=l.remaining(),this._currentMessage.push(l.readSlice(l.remaining())),this.IN_CHUNK)},h.prototype.CLOSED=function(l){},h.prototype._onHeader=function(l){if(l===0){var m=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:m=this._currentMessage[0];break;default:m=new n.default(this._currentMessage);break}return this._currentMessage=[],this.onmessage(m),this.AWAITING_CHUNK}else return this._chunkSize=l,this.IN_CHUNK},h.prototype.write=function(l){for(;l.hasRemaining();)this._state=this._state(l)},h}();return Zr.Dechunker=c,Zr}var Ha={},Bp;function qS(){if(Bp)return Ha;Bp=1,Object.defineProperty(Ha,"__esModule",{value:!0});var e=se(),i=e.internal.util,u=i.ENCRYPTION_OFF,o=i.ENCRYPTION_ON,n=e.error.SERVICE_UNAVAILABLE,r=[null,void 0,!0,!1,o,u],t=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],a=function(){function m(_,y,d){this.address=_,this.encrypted=s(y),this.trust=c(y),this.trustedCertificates=h(y),this.knownHostsPath=l(y),this.connectionErrorCode=d||n,this.connectionTimeout=y.connectionTimeout}return m}();Ha.default=a;function s(m){var _=m.encrypted;if(r.indexOf(_)===-1)throw(0,e.newError)("Illegal value of the encrypted setting ".concat(_,". Expected one of ").concat(r));return _}function c(m){var _=m.trust;if(t.indexOf(_)===-1)throw(0,e.newError)("Illegal value of the trust setting ".concat(_,". Expected one of ").concat(t));return _}function h(m){return m.trustedCertificates||[]}function l(m){return m.knownHosts||null}return Ha}var za={},Js={},Ya={exports:{}};var Wp;function LS(){return Wp||(Wp=1,function(e,i){var u=Gc(),o=u.Buffer;function n(t,a){for(var s in t)a[s]=t[s]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=u:(n(u,i),i.Buffer=r);function r(t,a,s){return o(t,a,s)}r.prototype=Object.create(o.prototype),n(o,r),r.from=function(t,a,s){if(typeof t=="number")throw new TypeError("Argument must not be a number");return o(t,a,s)},r.alloc=function(t,a,s){if(typeof t!="number")throw new TypeError("Argument must be a number");var c=o(t);return a!==void 0?typeof s=="string"?c.fill(a,s):c.fill(a):c.fill(0),c},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return o(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(t)}}(Ya,Ya.exports)),Ya.exports}var Vp;function US(){if(Vp)return Js;Vp=1;var e=LS().Buffer,i=e.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(v){if(!v)return"utf8";for(var p;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(p)return;v=(""+v).toLowerCase(),p=!0}}function o(v){var p=u(v);if(typeof p!="string"&&(e.isEncoding===i||!i(v)))throw new Error("Unknown encoding: "+v);return p||v}Js.StringDecoder=n;function n(v){this.encoding=o(v);var p;switch(this.encoding){case"utf16le":this.text=l,this.end=m,p=4;break;case"utf8":this.fillLast=s,p=4;break;case"base64":this.text=_,this.end=y,p=3;break;default:this.write=d,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(p)}n.prototype.write=function(v){if(v.length===0)return"";var p,b;if(this.lastNeed){if(p=this.fillLast(v),p===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<v.length?p?p+this.text(v,b):this.text(v,b):p||""},n.prototype.end=h,n.prototype.text=c,n.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function r(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function t(v,p,b){var g=p.length-1;if(g<b)return 0;var O=r(p[g]);return O>=0?(O>0&&(v.lastNeed=O-1),O):--g<b||O===-2?0:(O=r(p[g]),O>=0?(O>0&&(v.lastNeed=O-2),O):--g<b||O===-2?0:(O=r(p[g]),O>=0?(O>0&&(O===2?O=0:v.lastNeed=O-3),O):0))}function a(v,p,b){if((p[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&p.length>1){if((p[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&p.length>2&&(p[2]&192)!==128)return v.lastNeed=2,""}}function s(v){var p=this.lastTotal-this.lastNeed,b=a(this,v);if(b!==void 0)return b;if(this.lastNeed<=v.length)return v.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,p,0,v.length),this.lastNeed-=v.length}function c(v,p){var b=t(this,v,p);if(!this.lastNeed)return v.toString("utf8",p);this.lastTotal=b;var g=v.length-(b-this.lastNeed);return v.copy(this.lastChar,0,g),v.toString("utf8",p,g)}function h(v){var p=v&&v.length?this.write(v):"";return this.lastNeed?p+"":p}function l(v,p){if((v.length-p)%2===0){var b=v.toString("utf16le",p);if(b){var g=b.charCodeAt(b.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",p,v.length-1)}function m(v){var p=v&&v.length?this.write(v):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return p+this.lastChar.toString("utf16le",0,b)}return p}function _(v,p){var b=(v.length-p)%3;return b===0?v.toString("base64",p):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",p,v.length-b))}function y(v){var p=v&&v.length?this.write(v):"";return this.lastNeed?p+this.lastChar.toString("base64",0,3-this.lastNeed):p}function d(v){return v.toString(this.encoding)}function f(v){return v&&v.length?this.write(v):""}return Js}var $p;function xS(){if($p)return za;$p=1;var e=P&&P.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(za,"__esModule",{value:!0});var i=e(Oa()),u=se(),o=e(Gc()),n=US(),r=new n.StringDecoder("utf8");function t(m){return new i.default(l(m))}function a(m,_){if(Object.prototype.hasOwnProperty.call(m,"_buffer"))return s(m,_);if(Object.prototype.hasOwnProperty.call(m,"_buffers"))return c(m,_);throw(0,u.newError)("Don't know how to decode strings from '".concat(m,"'"))}function s(m,_){var y=m.position,d=y+_;return m.position=Math.min(d,m.length),m._buffer.toString("utf8",y,d)}function c(m,_){return h(m,_,function(y){return r.write(y._buffer)},function(){return r.end()})}function h(m,_,y,d){var f=_,v=m.position;m._updatePos(Math.min(_,m.length-v));var p=m._buffers.reduce(function(b,g){if(f<=0)return b;if(v>=g.length)return v-=g.length,"";g._updatePos(v-g.position);var O=Math.min(g.length-v,f),w=g.readSlice(O);return g._updatePos(O),f=Math.max(f-w.length,0),v=0,b+y(w)},"");return p+d()}function l(m){return typeof o.default.Buffer.from=="function"?o.default.Buffer.from(m,"utf8"):new o.default.Buffer(m,"utf8")}return za.default={encode:t,decode:a},za}var Hp;function wa(){return Hp||(Hp=1,function(e){var i=P&&P.__createBinding||(Object.create?function(a,s,c,h){h===void 0&&(h=c);var l=Object.getOwnPropertyDescriptor(s,c);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(a,h,l)}:function(a,s,c,h){h===void 0&&(h=c),a[h]=s[c]}),u=P&&P.__exportStar||function(a,s){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&i(s,a,c)},o=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,u(NS(),e),u(DS(),e);var n=qS();Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return o(n).default}});var r=Oa();Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return r.alloc}});var t=xS();Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return o(t).default}})}(Qs)),Qs}var zp;function FS(){if(zp)return xa;zp=1,Object.defineProperty(xa,"__esModule",{value:!0});var e=wa(),i=se(),u=1616949271;function o(s,c){return{major:s,minor:c}}function n(s){if(s.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var c=(0,e.alloc)(5*4);return c.writeInt32(u),s.forEach(function(h){if(h instanceof Array){var l=h[0],m=l.major,_=l.minor,y=h[1].minor,d=_-y;c.writeInt32(d<<16|_<<8|m)}else{var m=h.major,_=h.minor;c.writeInt32(_<<8|m)}}),c.reset(),c}function r(s){var c=[s.readUInt8(),s.readUInt8(),s.readUInt8(),s.readUInt8()];if(c[0]===72&&c[1]===84&&c[2]===84&&c[3]===80)throw(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(c[3]+"."+c[2])}function t(){return n([o(5,0),[o(4,4),o(4,2)],o(4,1),o(3,0)])}function a(s){var c=this;return new Promise(function(h,l){var m=function(_){l(_)};s.onerror=m.bind(c),s._error&&m(s._error),s.onmessage=function(_){try{var y=r(_);h({protocolVersion:y,consumeRemainingBuffer:function(d){_.hasRemaining()&&d(_.readSlice(_.remaining()))}})}catch(d){l(d)}},s.write(t())})}return xa.default=a,xa}var Ga={},Ka={},_r={},Yp;function Zc(){if(Yp)return _r;Yp=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.assertImpersonatedUserIsEmpty=_r.assertTxConfigIsEmpty=_r.assertDatabaseIsEmpty=void 0;var e=se();function i(n,r,t){if(r===void 0&&(r=function(){}),n&&!n.isEmpty()){var a=(0,e.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw r(a.message),t.onError(a),a}}_r.assertTxConfigIsEmpty=i;function u(n,r,t){if(r===void 0&&(r=function(){}),n){var a=(0,e.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw r(a.message),t.onError(a),a}}_r.assertDatabaseIsEmpty=u;function o(n,r,t){if(r===void 0&&(r=function(){}),n){var a=(0,e.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(n,"."));throw r(a.message),t.onError(a),a}}return _r.assertImpersonatedUserIsEmpty=o,_r}var cr={},Qr={},aa={},ua={},Gp;function Km(){if(Gp)return ua;Gp=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.identity=void 0;function e(i){return i}return ua.identity=e,ua}var Kp;function BS(){if(Kp)return aa;Kp=1;var e=P&&P.__createBinding||(Object.create?function(o,n,r,t){t===void 0&&(t=r);var a=Object.getOwnPropertyDescriptor(n,r);(!a||("get"in a?!n.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(o,t,a)}:function(o,n,r,t){t===void 0&&(t=r),o[t]=n[r]}),i=P&&P.__setModuleDefault||(Object.create?function(o,n){Object.defineProperty(o,"default",{enumerable:!0,value:n})}:function(o,n){o.default=n}),u=P&&P.__importStar||function(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var r in o)r!=="default"&&Object.prototype.hasOwnProperty.call(o,r)&&e(n,o,r);return i(n,o),n};return Object.defineProperty(aa,"__esModule",{value:!0}),aa.functional=void 0,aa.functional=u(Km()),aa}var gr={},Zp;function Zm(){if(Zp)return gr;Zp=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.verifyStructSize=gr.Structure=void 0;var e=se(),i=e.error.PROTOCOL_ERROR,u=function(){function n(r,t){this.signature=r,this.fields=t}return Object.defineProperty(n.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),n.prototype.toString=function(){for(var r="",t=0;t<this.fields.length;t++)t>0&&(r+=", "),r+=this.fields[t];return"Structure("+this.signature+", ["+r+"])"},n}();gr.Structure=u;function o(n,r,t){if(r!==t)throw(0,e.newError)("Wrong struct size for ".concat(n,", expected ").concat(r," but was ").concat(t),i)}return gr.verifyStructSize=o,gr.default=u,gr}var Qp;function Qm(){if(Qp)return Qr;Qp=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Unpacker=Qr.Packer=void 0;var e=wa(),i=BS(),u=Zm(),o=se(),n=o.error.PROTOCOL_ERROR,r=128,t=144,a=160,s=176,c=192,h=193,l=194,m=195,_=200,y=201,d=202,f=203,v=208,p=209,b=210,g=212,O=213,w=214,E=204,R=205,A=206,B=216,D=217,q=218,F=220,W=221,k=function(){function Y(N){this._ch=N,this._byteArraysSupported=!0}return Y.prototype.packable=function(N,$){var Z=this;$===void 0&&($=i.functional.identity);try{N=$(N)}catch(I){return function(){throw I}}if(N===null)return function(){return Z._ch.writeUInt8(c)};if(N===!0)return function(){return Z._ch.writeUInt8(m)};if(N===!1)return function(){return Z._ch.writeUInt8(l)};if(typeof N=="number")return function(){return Z.packFloat(N)};if(typeof N=="string")return function(){return Z.packString(N)};if(typeof N=="bigint")return function(){return Z.packInteger((0,o.int)(N))};if((0,o.isInt)(N))return function(){return Z.packInteger(N)};if(N instanceof Int8Array)return function(){return Z.packBytes(N)};if(N instanceof Array)return function(){Z.packListHeader(N.length);for(var I=0;I<N.length;I++)Z.packable(N[I]===void 0?null:N[I],$)()};if(V(N))return this.packableIterable(N,$);if(N instanceof u.Structure){for(var z=[],G=0;G<N.fields.length;G++)z[G]=this.packable(N.fields[G],$);return function(){return Z.packStruct(N.signature,z)}}else return typeof N=="object"?function(){for(var I=Object.keys(N),M=0,x=0;x<I.length;x++)N[I[x]]!==void 0&&M++;Z.packMapHeader(M);for(var x=0;x<I.length;x++){var U=I[x];N[U]!==void 0&&(Z.packString(U),Z.packable(N[U],$)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(N))},Y.prototype.packableIterable=function(N,$){try{var Z=Array.from(N);return this.packable(Z,$)}catch(z){throw(0,o.newError)("Cannot pack given iterable, ".concat(z.message,": ").concat(N))}},Y.prototype.packStruct=function(N,$){$=$||[],this.packStructHeader($.length,N);for(var Z=0;Z<$.length;Z++)$[Z]()},Y.prototype.packInteger=function(N){var $=N.high,Z=N.low;N.greaterThanOrEqual(-16)&&N.lessThan(128)?this._ch.writeInt8(Z):N.greaterThanOrEqual(-128)&&N.lessThan(-16)?(this._ch.writeUInt8(_),this._ch.writeInt8(Z)):N.greaterThanOrEqual(-32768)&&N.lessThan(32768)?(this._ch.writeUInt8(y),this._ch.writeInt16(Z)):N.greaterThanOrEqual(-2147483648)&&N.lessThan(2147483648)?(this._ch.writeUInt8(d),this._ch.writeInt32(Z)):(this._ch.writeUInt8(f),this._ch.writeInt32($),this._ch.writeInt32(Z))},Y.prototype.packFloat=function(N){this._ch.writeUInt8(h),this._ch.writeFloat64(N)},Y.prototype.packString=function(N){var $=e.utf8.encode(N),Z=$.length;if(Z<16)this._ch.writeUInt8(r|Z),this._ch.writeBytes($);else if(Z<256)this._ch.writeUInt8(v),this._ch.writeUInt8(Z),this._ch.writeBytes($);else if(Z<65536)this._ch.writeUInt8(p),this._ch.writeUInt8(Z/256>>0),this._ch.writeUInt8(Z%256),this._ch.writeBytes($);else if(Z<4294967296)this._ch.writeUInt8(b),this._ch.writeUInt8((Z/16777216>>0)%256),this._ch.writeUInt8((Z/65536>>0)%256),this._ch.writeUInt8((Z/256>>0)%256),this._ch.writeUInt8(Z%256),this._ch.writeBytes($);else throw(0,o.newError)("UTF-8 strings of size "+Z+" are not supported")},Y.prototype.packListHeader=function(N){if(N<16)this._ch.writeUInt8(t|N);else if(N<256)this._ch.writeUInt8(g),this._ch.writeUInt8(N);else if(N<65536)this._ch.writeUInt8(O),this._ch.writeUInt8((N/256>>0)%256),this._ch.writeUInt8(N%256);else if(N<4294967296)this._ch.writeUInt8(w),this._ch.writeUInt8((N/16777216>>0)%256),this._ch.writeUInt8((N/65536>>0)%256),this._ch.writeUInt8((N/256>>0)%256),this._ch.writeUInt8(N%256);else throw(0,o.newError)("Lists of size "+N+" are not supported")},Y.prototype.packBytes=function(N){if(this._byteArraysSupported){this.packBytesHeader(N.length);for(var $=0;$<N.length;$++)this._ch.writeInt8(N[$])}else throw(0,o.newError)("Byte arrays are not supported by the database this driver is connected to")},Y.prototype.packBytesHeader=function(N){if(N<256)this._ch.writeUInt8(E),this._ch.writeUInt8(N);else if(N<65536)this._ch.writeUInt8(R),this._ch.writeUInt8((N/256>>0)%256),this._ch.writeUInt8(N%256);else if(N<4294967296)this._ch.writeUInt8(A),this._ch.writeUInt8((N/16777216>>0)%256),this._ch.writeUInt8((N/65536>>0)%256),this._ch.writeUInt8((N/256>>0)%256),this._ch.writeUInt8(N%256);else throw(0,o.newError)("Byte arrays of size "+N+" are not supported")},Y.prototype.packMapHeader=function(N){if(N<16)this._ch.writeUInt8(a|N);else if(N<256)this._ch.writeUInt8(B),this._ch.writeUInt8(N);else if(N<65536)this._ch.writeUInt8(D),this._ch.writeUInt8(N/256>>0),this._ch.writeUInt8(N%256);else if(N<4294967296)this._ch.writeUInt8(q),this._ch.writeUInt8((N/16777216>>0)%256),this._ch.writeUInt8((N/65536>>0)%256),this._ch.writeUInt8((N/256>>0)%256),this._ch.writeUInt8(N%256);else throw(0,o.newError)("Maps of size "+N+" are not supported")},Y.prototype.packStructHeader=function(N,$){if(N<16)this._ch.writeUInt8(s|N),this._ch.writeUInt8($);else if(N<256)this._ch.writeUInt8(F),this._ch.writeUInt8(N),this._ch.writeUInt8($);else if(N<65536)this._ch.writeUInt8(W),this._ch.writeUInt8(N/256>>0),this._ch.writeUInt8(N%256);else throw(0,o.newError)("Structures of size "+N+" are not supported")},Y.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},Y.prototype._nonPackableValue=function(N){return function(){throw(0,o.newError)(N,n)}},Y}();Qr.Packer=k;var j=function(){function Y(N,$){N===void 0&&(N=!1),$===void 0&&($=!1),this._disableLosslessIntegers=N,this._useBigInt=$}return Y.prototype.unpack=function(N,$){$===void 0&&($=i.functional.identity);var Z=N.readUInt8(),z=Z&240,G=Z&15;if(Z===c)return null;var I=this._unpackBoolean(Z);if(I!==null)return I;var M=this._unpackNumberOrInteger(Z,N);if(M!==null){if((0,o.isInt)(M)){if(this._useBigInt)return M.toBigInt();if(this._disableLosslessIntegers)return M.toNumberOrInfinity()}return M}var x=this._unpackString(Z,z,G,N);if(x!==null)return x;var U=this._unpackList(Z,z,G,N,$);if(U!==null)return U;var K=this._unpackByteArray(Z,N);if(K!==null)return K;var ee=this._unpackMap(Z,z,G,N,$);if(ee!==null)return ee;var re=this._unpackStruct(Z,z,G,N,$);if(re!==null)return re;throw(0,o.newError)("Unknown packed value with marker "+Z.toString(16))},Y.prototype.unpackInteger=function(N){var $=N.readUInt8(),Z=this._unpackInteger($,N);if(Z==null)throw(0,o.newError)("Unable to unpack integer value with marker "+$.toString(16));return Z},Y.prototype._unpackBoolean=function(N){return N===m?!0:N===l?!1:null},Y.prototype._unpackNumberOrInteger=function(N,$){return N===h?$.readFloat64():this._unpackInteger(N,$)},Y.prototype._unpackInteger=function(N,$){if(N>=0&&N<128)return(0,o.int)(N);if(N>=240&&N<256)return(0,o.int)(N-256);if(N===_)return(0,o.int)($.readInt8());if(N===y)return(0,o.int)($.readInt16());if(N===d){var Z=$.readInt32();return(0,o.int)(Z)}else if(N===f){var z=$.readInt32(),G=$.readInt32();return new o.Integer(G,z)}else return null},Y.prototype._unpackString=function(N,$,Z,z){return $===r?e.utf8.decode(z,Z):N===v?e.utf8.decode(z,z.readUInt8()):N===p?e.utf8.decode(z,z.readUInt16()):N===b?e.utf8.decode(z,z.readUInt32()):null},Y.prototype._unpackList=function(N,$,Z,z,G){return $===t?this._unpackListWithSize(Z,z,G):N===g?this._unpackListWithSize(z.readUInt8(),z,G):N===O?this._unpackListWithSize(z.readUInt16(),z,G):N===w?this._unpackListWithSize(z.readUInt32(),z,G):null},Y.prototype._unpackListWithSize=function(N,$,Z){for(var z=[],G=0;G<N;G++)z.push(this.unpack($,Z));return z},Y.prototype._unpackByteArray=function(N,$){return N===E?this._unpackByteArrayWithSize($.readUInt8(),$):N===R?this._unpackByteArrayWithSize($.readUInt16(),$):N===A?this._unpackByteArrayWithSize($.readUInt32(),$):null},Y.prototype._unpackByteArrayWithSize=function(N,$){for(var Z=new Int8Array(N),z=0;z<N;z++)Z[z]=$.readInt8();return Z},Y.prototype._unpackMap=function(N,$,Z,z,G){return $===a?this._unpackMapWithSize(Z,z,G):N===B?this._unpackMapWithSize(z.readUInt8(),z,G):N===D?this._unpackMapWithSize(z.readUInt16(),z,G):N===q?this._unpackMapWithSize(z.readUInt32(),z,G):null},Y.prototype._unpackMapWithSize=function(N,$,Z){for(var z={},G=0;G<N;G++){var I=this.unpack($,Z);z[I]=this.unpack($,Z)}return z},Y.prototype._unpackStruct=function(N,$,Z,z,G){return $===s?this._unpackStructWithSize(Z,z,G):N===F?this._unpackStructWithSize(z.readUInt8(),z,G):N===W?this._unpackStructWithSize(z.readUInt16(),z,G):null},Y.prototype._unpackStructWithSize=function(N,$,Z){for(var z=$.readUInt8(),G=new u.Structure(z,[]),I=0;I<N;I++)G.fields.push(this.unpack($,Z));return Z(G)},Y}();Qr.Unpacker=j;function V(Y){return Y==null?!1:typeof Y[Symbol.iterator]=="function"}return Qr}var Xr={},Xp;function WS(){if(Xp)return Xr;Xp=1;var e=P&&P.__extends||function(){var a=function(s,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(h[m]=l[m])},a(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(s,c);function h(){this.constructor=s}s.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),i=P&&P.__createBinding||(Object.create?function(a,s,c,h){h===void 0&&(h=c);var l=Object.getOwnPropertyDescriptor(s,c);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(a,h,l)}:function(a,s,c,h){h===void 0&&(h=c),a[h]=s[c]}),u=P&&P.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),o=P&&P.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var c in a)c!=="default"&&Object.prototype.hasOwnProperty.call(a,c)&&i(s,a,c);return u(s,a),s};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Unpacker=Xr.Packer=void 0;var n=o(Qm()),r=function(a){e(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},s}(n.Packer);Xr.Packer=r;var t=function(a){e(s,a);function s(c,h){return c===void 0&&(c=!1),h===void 0&&(h=!1),a.call(this,c,h)||this}return s}(n.Unpacker);return Xr.Unpacker=t,Xr}var Jp;function Cr(){if(Jp)return cr;Jp=1;var e=P&&P.__createBinding||(Object.create?function(t,a,s,c){c===void 0&&(c=s);var h=Object.getOwnPropertyDescriptor(a,s);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(t,c,h)}:function(t,a,s,c){c===void 0&&(c=s),t[c]=a[s]}),i=P&&P.__setModuleDefault||(Object.create?function(t,a){Object.defineProperty(t,"default",{enumerable:!0,value:a})}:function(t,a){t.default=a}),u=P&&P.__importStar||function(t){if(t&&t.__esModule)return t;var a={};if(t!=null)for(var s in t)s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)&&e(a,t,s);return i(a,t),a};Object.defineProperty(cr,"__esModule",{value:!0}),cr.structure=cr.v2=cr.v1=void 0;var o=u(Qm());cr.v1=o;var n=u(WS());cr.v2=n;var r=u(Zm());return cr.structure=r,cr.default=n,cr}var Za={},e_;function ut(){if(e_)return Za;e_=1,Object.defineProperty(Za,"__esModule",{value:!0});var e=se(),i=e.internal.constants,u=i.ACCESS_MODE_READ,o=i.FETCH_ALL,n=e.internal.util.assertString,r=1,t=15,a=16,s=63,c=1,h=2,l=17,m=18,_=19,y=102,d=47,f=63,v="r",p=-1,b=function(){function D(q,F,W){this.signature=q,this.fields=F,this.toString=W}return D.init=function(q,F){return new D(r,[q,F],function(){return"INIT ".concat(q," {...}")})},D.run=function(q,F){return new D(a,[q,F],function(){return"RUN ".concat(q," ").concat(e.json.stringify(F))})},D.pullAll=function(){return w},D.reset=function(){return E},D.hello=function(q,F,W,k){W===void 0&&(W=null),k===void 0&&(k=null);var j=Object.assign({user_agent:q},F);return W&&(j.routing=W),k&&(j.patch_bolt=k),new D(c,[j],function(){return"HELLO {user_agent: '".concat(q,"', ...}")})},D.begin=function(q){var F=q===void 0?{}:q,W=F.bookmarks,k=F.txConfig,j=F.database,V=F.mode,Y=F.impersonatedUser,N=g(W,k,j,V,Y);return new D(l,[N],function(){return"BEGIN ".concat(e.json.stringify(N))})},D.commit=function(){return R},D.rollback=function(){return A},D.runWithMetadata=function(q,F,W){var k=W===void 0?{}:W,j=k.bookmarks,V=k.txConfig,Y=k.database,N=k.mode,$=k.impersonatedUser,Z=g(j,V,Y,N,$);return new D(a,[q,F,Z],function(){return"RUN ".concat(q," ").concat(e.json.stringify(F)," ").concat(e.json.stringify(Z))})},D.goodbye=function(){return B},D.pull=function(q){var F=q===void 0?{}:q,W=F.stmtId,k=W===void 0?p:W,j=F.n,V=j===void 0?o:j,Y=O(k??p,V||o);return new D(f,[Y],function(){return"PULL ".concat(e.json.stringify(Y))})},D.discard=function(q){var F=q===void 0?{}:q,W=F.stmtId,k=W===void 0?p:W,j=F.n,V=j===void 0?o:j,Y=O(k??p,V||o);return new D(d,[Y],function(){return"DISCARD ".concat(e.json.stringify(Y))})},D.route=function(q,F,W){return q===void 0&&(q={}),F===void 0&&(F=[]),W===void 0&&(W=null),new D(y,[q,F,W],function(){return"ROUTE ".concat(e.json.stringify(q)," ").concat(e.json.stringify(F)," ").concat(W)})},D.routeV4x4=function(q,F,W){q===void 0&&(q={}),F===void 0&&(F=[]),W===void 0&&(W={});var k={};return W.databaseName&&(k.db=W.databaseName),W.impersonatedUser&&(k.imp_user=W.impersonatedUser),new D(y,[q,F,k],function(){return"ROUTE ".concat(e.json.stringify(q)," ").concat(e.json.stringify(F)," ").concat(e.json.stringify(k))})},D}();Za.default=b;function g(D,q,F,W,k){var j={};return D.isEmpty()||(j.bookmarks=D.values()),q.timeout!==null&&(j.tx_timeout=q.timeout),q.metadata&&(j.tx_metadata=q.metadata),F&&(j.db=n(F,"database")),k&&(j.imp_user=n(k,"impersonatedUser")),W===u&&(j.mode=v),j}function O(D,q){var F={n:(0,e.int)(q)};return D!==p&&(F.qid=(0,e.int)(D)),F}var w=new b(s,[],function(){return"PULL_ALL"}),E=new b(t,[],function(){return"RESET"}),R=new b(m,[],function(){return"COMMIT"}),A=new b(_,[],function(){return"ROLLBACK"}),B=new b(h,[],function(){return"GOODBYE"});return Za}var Me={},Qa={},r_;function Xm(){if(r_)return Qa;r_=1;var e=P&&P.__extends||function(){var r=function(t,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},r(t,a)};return function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(t,a);function s(){this.constructor=t}t.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(Qa,"__esModule",{value:!0});var i=function(){function r(){}return r.ofRecord=function(t){return t===null?r.ofNull():new n(t)},r.ofMessageResponse=function(t){return t===null?r.ofNull():new u(t)},r.ofNull=function(){return new o},Object.defineProperty(r.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),r}();Qa.default=i;var u=function(r){e(t,r);function t(a){var s=r.call(this)||this;return s._response=a,s}return Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),t}(i),o=function(r){e(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(i),n=function(r){e(t,r);function t(a){var s=r.call(this)||this;return s._record=a,s}return Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),t}(i);return Qa}var t_;function Ar(){if(t_)return Me;t_=1;var e=P&&P.__extends||function(){var d=function(f,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(p[g]=b[g])},d(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(f,v);function p(){this.constructor=f}f.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}(),i=P&&P.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.ProcedureRouteObserver=Me.RouteObserver=Me.CompletedObserver=Me.FailedObserver=Me.ResetObserver=Me.LoginObserver=Me.ResultStreamObserver=Me.StreamObserver=void 0;var u=se(),o=i(Xm()),n=u.internal.constants.FETCH_ALL,r=u.error.PROTOCOL_ERROR,t=function(){function d(){}return d.prototype.onNext=function(f){},d.prototype.onError=function(f){},d.prototype.onCompleted=function(f){},d}();Me.StreamObserver=t;var a=function(d){e(f,d);function f(v){var p=v===void 0?{}:v,b=p.reactive,g=b===void 0?!1:b,O=p.moreFunction,w=p.discardFunction,E=p.fetchSize,R=E===void 0?n:E,A=p.beforeError,B=p.afterError,D=p.beforeKeys,q=p.afterKeys,F=p.beforeComplete,W=p.afterComplete,k=p.server,j=p.highRecordWatermark,V=j===void 0?Number.MAX_VALUE:j,Y=p.lowRecordWatermark,N=Y===void 0?Number.MAX_VALUE:Y,$=d.call(this)||this;return $._fieldKeys=null,$._fieldLookup=null,$._head=null,$._queuedRecords=[],$._tail=null,$._error=null,$._observers=[],$._meta={},$._server=k,$._beforeError=A,$._afterError=B,$._beforeKeys=D,$._afterKeys=q,$._beforeComplete=F,$._afterComplete=W,$._queryId=null,$._moreFunction=O,$._discardFunction=w,$._discard=!1,$._fetchSize=R,$._lowRecordWatermark=N,$._highRecordWatermark=V,$._setState(g?y.READY:y.READY_STREAMING),$._setupAutoPull(),$._paused=!1,$}return f.prototype.pause=function(){this._paused=!0},f.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},f.prototype.onNext=function(v){var p=new u.Record(this._fieldKeys,v,this._fieldLookup);this._observers.some(function(b){return b.onNext})?this._observers.forEach(function(b){b.onNext&&b.onNext(p)}):(this._queuedRecords.push(p),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},f.prototype.onCompleted=function(v){this._state.onSuccess(this,v)},f.prototype.onError=function(v){this._state.onError(this,v)},f.prototype.cancel=function(){this._discard=!0},f.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(y.STREAMING)},f.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(y.SUCCEEDED)},f.prototype.subscribe=function(v){if(this._head&&v.onKeys&&v.onKeys(this._head),this._queuedRecords.length>0&&v.onNext)for(var p=0;p<this._queuedRecords.length;p++)v.onNext(this._queuedRecords[p]),this._queuedRecords.length-p-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===y.READY&&this._handleStreaming());this._tail&&v.onCompleted&&v.onCompleted(this._tail),this._error&&v.onError(this._error),this._observers.push(v),this._state===y.READY&&this._handleStreaming()},f.prototype._handleHasMore=function(v){this._setState(y.READY),this._handleStreaming(),delete v.has_more},f.prototype._handlePullSuccess=function(v){var p=this,b=Object.assign(this._server?{server:this._server}:{},this._meta,v);if(![void 0,null,"r","w","rw","s"].includes(b.type)){this.onError((0,u.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(b.type,"'"),r));return}this._setState(y.SUCCEEDED);var g=null;this._beforeComplete&&(g=this._beforeComplete(b));var O=function(){p._tail=b,p._observers.some(function(w){return w.onCompleted})&&p._observers.forEach(function(w){w.onCompleted&&w.onCompleted(b)}),p._afterComplete&&p._afterComplete(b)};g?Promise.resolve(g).then(function(){return O()}):O()},f.prototype._handleRunSuccess=function(v,p){var b=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},v.fields&&v.fields.length>0){this._fieldKeys=v.fields;for(var g=0;g<v.fields.length;g++)this._fieldLookup[v.fields[g]]=g;delete v.fields}v.qid!==null&&v.qid!==void 0&&(this._queryId=v.qid,delete v.qid),this._storeMetadataForCompletion(v);var O=null;this._beforeKeys&&(O=this._beforeKeys(this._fieldKeys));var w=function(){b._head=b._fieldKeys,b._observers.some(function(E){return E.onKeys})&&b._observers.forEach(function(E){E.onKeys&&E.onKeys(b._fieldKeys)}),b._afterKeys&&b._afterKeys(b._fieldKeys),p()};O?Promise.resolve(O).then(function(){return w()}):w()}},f.prototype._handleError=function(v){var p=this;this._setState(y.FAILED),this._error=v;var b=null;this._beforeError&&(b=this._beforeError(v));var g=function(){p._observers.some(function(O){return O.onError})&&p._observers.forEach(function(O){O.onError&&O.onError(v)}),p._afterError&&p._afterError(v)};b?Promise.resolve(b).then(function(){return g()}):g()},f.prototype._handleStreaming=function(){this._head&&this._observers.some(function(v){return v.onNext||v.onCompleted})&&!this._paused&&(this._discard||this._autoPull)&&this._more()},f.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):this._moreFunction(this._queryId,this._fetchSize,this),this._setState(y.STREAMING)},f.prototype._storeMetadataForCompletion=function(v){for(var p=Object.keys(v),b=p.length,g="";b--;)g=p[b],this._meta[g]=v[g]},f.prototype._setState=function(v){this._state=v},f.prototype._setupAutoPull=function(){this._autoPull=!0},f}(t);Me.ResultStreamObserver=a;var s=function(d){e(f,d);function f(v){var p=v===void 0?{}:v,b=p.onError,g=p.onCompleted,O=d.call(this)||this;return O._onError=b,O._onCompleted=g,O}return f.prototype.onNext=function(v){this.onError((0,u.newError)("Received RECORD when initializing "+u.json.stringify(v)))},f.prototype.onError=function(v){this._onError&&this._onError(v)},f.prototype.onCompleted=function(v){this._onCompleted&&this._onCompleted(v)},f}(t);Me.LoginObserver=s;var c=function(d){e(f,d);function f(v){var p=v===void 0?{}:v,b=p.onProtocolError,g=p.onError,O=p.onComplete,w=d.call(this)||this;return w._onProtocolError=b,w._onError=g,w._onComplete=O,w}return f.prototype.onNext=function(v){this.onError((0,u.newError)("Received RECORD when resetting: received record is: "+u.json.stringify(v),r))},f.prototype.onError=function(v){v.code===r&&this._onProtocolError&&this._onProtocolError(v.message),this._onError&&this._onError(v)},f.prototype.onCompleted=function(v){this._onComplete&&this._onComplete(v)},f}(t);Me.ResetObserver=c;var h=function(d){e(f,d);function f(v){var p=v.error,b=v.onError,g=d.call(this,{beforeError:b})||this;return g.onError(p),g}return f}(a);Me.FailedObserver=h;var l=function(d){e(f,d);function f(){var v=d.call(this)||this;return d.prototype.markCompleted.call(v),v}return f}(a);Me.CompletedObserver=l;var m=function(d){e(f,d);function f(v){var p=v.resultObserver,b=v.onProtocolError,g=v.onError,O=v.onCompleted,w=d.call(this)||this;return w._resultObserver=p,w._onError=g,w._onCompleted=O,w._records=[],w._onProtocolError=b,p.subscribe(w),w}return f.prototype.onNext=function(v){this._records.push(v)},f.prototype.onError=function(v){v.code===r&&this._onProtocolError&&this._onProtocolError(v.message),this._onError&&this._onError(v)},f.prototype.onCompleted=function(){if(this._records!==null&&this._records.length!==1){this.onError((0,u.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+u.json.stringify(this._records),r));return}this._onCompleted&&this._onCompleted(o.default.ofRecord(this._records[0]))},f}(t);Me.ProcedureRouteObserver=m;var _=function(d){e(f,d);function f(v){var p=v===void 0?{}:v,b=p.onProtocolError,g=p.onError,O=p.onCompleted,w=d.call(this)||this;return w._onProtocolError=b,w._onError=g,w._onCompleted=O,w}return f.prototype.onNext=function(v){this.onError((0,u.newError)("Received RECORD when resetting: received record is: "+u.json.stringify(v),r))},f.prototype.onError=function(v){v.code===r&&this._onProtocolError&&this._onProtocolError(v.message),this._onError&&this._onError(v)},f.prototype.onCompleted=function(v){this._onCompleted&&this._onCompleted(o.default.ofMessageResponse(v))},f}(t);Me.RouteObserver=_;var y={READY_STREAMING:{onSuccess:function(d,f){d._handleRunSuccess(f,function(){d._setState(y.STREAMING)})},onError:function(d,f){d._handleError(f)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(d,f){d._handleRunSuccess(f,function(){return d._handleStreaming()})},onError:function(d,f){d._handleError(f)},name:function(){return"READY"},pull:function(d){return d._more()}},STREAMING:{onSuccess:function(d,f){f.has_more?d._handleHasMore(f):d._handlePullSuccess(f)},onError:function(d,f){d._handleError(f)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(d){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}};return Me}var Xa={},vt={},n_;function ar(){if(n_)return vt;n_=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.TypeTransformer=void 0;var e=Cr(),i=se(),u=i.internal.objectUtil,o=function(){function r(t){this._transformers=t,this._transformersPerSignature=new Map(t.map(function(a){return[a.signature,a]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return r.prototype.fromStructure=function(t){try{if(t instanceof e.structure.Structure&&this._transformersPerSignature.has(t.signature)){var a=this._transformersPerSignature.get(t.signature).fromStructure;return a(t)}return t}catch(s){return u.createBrokenObject(s)}},r.prototype.toStructure=function(t){var a=this._transformers.find(function(s){var c=s.isTypeInstance;return c(t)});return a!==void 0?a.toStructure(t):t},r}();vt.default=o;var n=function(){function r(t){var a=t.signature,s=t.fromStructure,c=t.toStructure,h=t.isTypeInstance;this.signature=a,this.isTypeInstance=h,this.fromStructure=s,this.toStructure=c,Object.freeze(this)}return r.prototype.extendsWith=function(t){var a=t.signature,s=t.fromStructure,c=t.toStructure,h=t.isTypeInstance;return new r({signature:a||this.signature,fromStructure:s||this.fromStructure,toStructure:c||this.toStructure,isTypeInstance:h||this.isTypeInstance})},r}();return vt.TypeTransformer=n,vt}var i_;function Jm(){if(i_)return Xa;i_=1;var e=P&&P.__read||function(v,p){var b=typeof Symbol=="function"&&v[Symbol.iterator];if(!b)return v;var g=b.call(v),O,w=[],E;try{for(;(p===void 0||p-- >0)&&!(O=g.next()).done;)w.push(O.value)}catch(R){E={error:R}}finally{try{O&&!O.done&&(b=g.return)&&b.call(g)}finally{if(E)throw E.error}}return w};Object.defineProperty(Xa,"__esModule",{value:!0});var i=se(),u=Cr(),o=ar(),n=i.error.PROTOCOL_ERROR,r=78,t=3,a=82,s=5,c=114,h=3,l=80,m=3;function _(){return new o.TypeTransformer({signature:r,isTypeInstance:function(v){return v instanceof i.Node},toStructure:function(v){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(v),n)},fromStructure:function(v){u.structure.verifyStructSize("Node",t,v.size);var p=e(v.fields,3),b=p[0],g=p[1],O=p[2];return new i.Node(b,g,O)}})}function y(){return new o.TypeTransformer({signature:a,isTypeInstance:function(v){return v instanceof i.Relationship},toStructure:function(v){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(v),n)},fromStructure:function(v){u.structure.verifyStructSize("Relationship",s,v.size);var p=e(v.fields,5),b=p[0],g=p[1],O=p[2],w=p[3],E=p[4];return new i.Relationship(b,g,O,w,E)}})}function d(){return new o.TypeTransformer({signature:c,isTypeInstance:function(v){return v instanceof i.UnboundRelationship},toStructure:function(v){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(v),n)},fromStructure:function(v){u.structure.verifyStructSize("UnboundRelationship",h,v.size);var p=e(v.fields,3),b=p[0],g=p[1],O=p[2];return new i.UnboundRelationship(b,g,O)}})}function f(){return new o.TypeTransformer({signature:l,isTypeInstance:function(v){return v instanceof i.Path},toStructure:function(v){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(v),n)},fromStructure:function(v){u.structure.verifyStructSize("Path",m,v.size);for(var p=e(v.fields,3),b=p[0],g=p[1],O=p[2],w=[],E=b[0],R=0;R<O.length;R+=2){var A=b[O[R+1]],B=(0,i.toNumber)(O[R]),D=void 0;B>0?(D=g[B-1],D instanceof i.UnboundRelationship&&(g[B-1]=D=D.bindTo(E,A))):(D=g[-B-1],D instanceof i.UnboundRelationship&&(g[-B-1]=D=D.bindTo(A,E))),w.push(new i.PathSegment(E,D,A)),E=A}return new i.Path(b[0],b[b.length-1],w)}})}return Xa.default={createNodeTransformer:_,createRelationshipTransformer:y,createUnboundRelationshipTransformer:d,createPathTransformer:f},Xa}var o_;function eb(){if(o_)return Ka;o_=1;var e=P&&P.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Ka,"__esModule",{value:!0});var i=Zc(),u=Cr(),o=e(ut()),n=Ar(),r=se(),t=e(Jm()),a=e(ar()),s=r.internal.bookmarks.Bookmarks,c=r.internal.constants,h=c.ACCESS_MODE_WRITE,l=c.BOLT_PROTOCOL_V1;r.internal.logger.Logger;var m=r.internal.txConfig.TxConfig,_=function(){function y(d,f,v,p,b,g){var O=v===void 0?{}:v,w=O.disableLosslessIntegers,E=O.useBigInt;p===void 0&&(p=function(){return null}),this._server=d||{},this._chunker=f,this._packer=this._createPacker(f),this._unpacker=this._createUnpacker(w,E),this._responseHandler=p(this),this._log=b,this._onProtocolError=g,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:w,useBigInt:E}}return Object.defineProperty(y.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new a.default(Object.values(t.default).map(function(f){return f(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),y.prototype.packer=function(){return this._packer},y.prototype.packable=function(d){return this._packer.packable(d,this.transformer.toStructure)},y.prototype.unpacker=function(){return this._unpacker},y.prototype.unpack=function(d){return this._unpacker.unpack(d,this.transformer.fromStructure)},y.prototype.transformMetadata=function(d){return d},y.prototype.initialize=function(d){var f=this,v=d===void 0?{}:d,p=v.userAgent,b=v.authToken,g=v.onError,O=v.onComplete,w=new n.LoginObserver({onError:function(E){return f._onLoginError(E,g)},onCompleted:function(E){return f._onLoginCompleted(E,O)}});return this.write(o.default.init(p,b),w,!0),w},y.prototype.prepareToClose=function(){},y.prototype.beginTransaction=function(d){var f=d===void 0?{}:d,v=f.bookmarks,p=f.txConfig,b=f.database,g=f.mode,O=f.impersonatedUser,w=f.beforeError,E=f.afterError,R=f.beforeComplete,A=f.afterComplete;return this.run("BEGIN",v?v.asBeginTransactionParameters():{},{bookmarks:v,txConfig:p,database:b,mode:g,impersonatedUser:O,beforeError:w,afterError:E,beforeComplete:R,afterComplete:A,flush:!1})},y.prototype.commitTransaction=function(d){var f=d===void 0?{}:d,v=f.beforeError,p=f.afterError,b=f.beforeComplete,g=f.afterComplete;return this.run("COMMIT",{},{bookmarks:s.empty(),txConfig:m.empty(),mode:h,beforeError:v,afterError:p,beforeComplete:b,afterComplete:g})},y.prototype.rollbackTransaction=function(d){var f=d===void 0?{}:d,v=f.beforeError,p=f.afterError,b=f.beforeComplete,g=f.afterComplete;return this.run("ROLLBACK",{},{bookmarks:s.empty(),txConfig:m.empty(),mode:h,beforeError:v,afterError:p,beforeComplete:b,afterComplete:g})},y.prototype.run=function(d,f,v){var p=v===void 0?{}:v;p.bookmarks;var b=p.txConfig,g=p.database;p.mode;var O=p.impersonatedUser,w=p.beforeKeys,E=p.afterKeys,R=p.beforeError,A=p.afterError,B=p.beforeComplete,D=p.afterComplete,q=p.flush,F=q===void 0?!0:q,W=p.highRecordWatermark,k=W===void 0?Number.MAX_VALUE:W,j=p.lowRecordWatermark,V=j===void 0?Number.MAX_VALUE:j,Y=new n.ResultStreamObserver({server:this._server,beforeKeys:w,afterKeys:E,beforeError:R,afterError:A,beforeComplete:B,afterComplete:D,highRecordWatermark:k,lowRecordWatermark:V});return(0,i.assertTxConfigIsEmpty)(b,this._onProtocolError,Y),(0,i.assertDatabaseIsEmpty)(g,this._onProtocolError,Y),(0,i.assertImpersonatedUserIsEmpty)(O,this._onProtocolError,Y),this.write(o.default.run(d,f),Y,!1),this.write(o.default.pullAll(),Y,F),Y},Object.defineProperty(y.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),y.prototype.reset=function(d){var f=d===void 0?{}:d,v=f.onError,p=f.onComplete,b=new n.ResetObserver({onProtocolError:this._onProtocolError,onError:v,onComplete:p});return this.write(o.default.reset(),b,!0),b},y.prototype._createPacker=function(d){return new u.v1.Packer(d)},y.prototype._createUnpacker=function(d,f){return new u.v1.Unpacker(d,f)},y.prototype.write=function(d,f,v){var p=this.queueObserverIfProtocolIsNotBroken(f);if(p){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(d)),this._lastMessageSignature=d.signature;var b=new u.structure.Structure(d.signature,d.fields);this.packable(b)(),this._chunker.messageBoundary(),v&&this._chunker.flush()}},y.prototype.isLastMessageLogin=function(){return this._lastMessageSignature===1},y.prototype.isLastMessageReset=function(){return this._lastMessageSignature===15},y.prototype.notifyFatalError=function(d){return this._fatalError=d,this._responseHandler._notifyErrorToObservers(d)},y.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},y.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},y.prototype.queueObserverIfProtocolIsNotBroken=function(d){return this.isBroken()?(this.notifyFatalErrorToObserver(d),!1):this._responseHandler._queueObserver(d)},y.prototype.isBroken=function(){return!!this._fatalError},y.prototype.notifyFatalErrorToObserver=function(d){d&&d.onError&&d.onError(this._fatalError)},y.prototype.resetFailure=function(){this._responseHandler._resetFailure()},y.prototype._onLoginCompleted=function(d,f){if(d){var v=d.server;this._server.version||(this._server.version=v)}f&&f(d)},y.prototype._onLoginError=function(d,f){this._onProtocolError(d.message),f&&f(d)},y}();return Ka.default=_,Ka}var Ja={},eu={},yr={},a_;function rb(){if(a_)return yr;a_=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.epochSecondAndNanoToLocalDateTime=yr.nanoOfDayToLocalTime=yr.epochDayToDate=void 0;var e=se(),i=e.internal.temporalUtil,u=i.DAYS_0000_TO_1970,o=i.DAYS_PER_400_YEAR_CYCLE,n=i.NANOS_PER_HOUR,r=i.NANOS_PER_MINUTE,t=i.NANOS_PER_SECOND,a=i.SECONDS_PER_DAY,s=i.floorDiv,c=i.floorMod;function h(_){_=(0,e.int)(_);var y=_.add(u).subtract(60),d=(0,e.int)(0);if(y.lessThan(0)){var f=y.add(1).div(o).subtract(1);d=f.multiply(400),y=y.add(f.multiply(-o))}var v=y.multiply(400).add(591).div(o),p=y.subtract(v.multiply(365).add(v.div(4)).subtract(v.div(100)).add(v.div(400)));p.lessThan(0)&&(v=v.subtract(1),p=y.subtract(v.multiply(365).add(v.div(4)).subtract(v.div(100)).add(v.div(400)))),v=v.add(d);var b=p,g=b.multiply(5).add(2).div(153),O=g.add(2).modulo(12).add(1),w=b.subtract(g.multiply(306).add(5).div(10)).add(1);return v=v.add(g.div(10)),new e.Date(v,O,w)}yr.epochDayToDate=h;function l(_){_=(0,e.int)(_);var y=_.div(n);_=_.subtract(y.multiply(n));var d=_.div(r);_=_.subtract(d.multiply(r));var f=_.div(t),v=_.subtract(f.multiply(t));return new e.LocalTime(y,d,f,v)}yr.nanoOfDayToLocalTime=l;function m(_,y){var d=s(_,a),f=c(_,a),v=f.multiply(t).add(y),p=h(d),b=l(v);return new e.LocalDateTime(p.year,p.month,p.day,b.hour,b.minute,b.second,b.nanosecond)}return yr.epochSecondAndNanoToLocalDateTime=m,yr}var u_;function tb(){if(u_)return eu;u_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(I){for(var M,x=1,U=arguments.length;x<U;x++){M=arguments[x];for(var K in M)Object.prototype.hasOwnProperty.call(M,K)&&(I[K]=M[K])}return I},e.apply(this,arguments)},i=P&&P.__read||function(I,M){var x=typeof Symbol=="function"&&I[Symbol.iterator];if(!x)return I;var U=x.call(I),K,ee=[],re;try{for(;(M===void 0||M-- >0)&&!(K=U.next()).done;)ee.push(K.value)}catch(J){re={error:J}}finally{try{K&&!K.done&&(x=U.return)&&x.call(U)}finally{if(re)throw re.error}}return ee},u=P&&P.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(eu,"__esModule",{value:!0});var o=se(),n=Cr(),r=ar(),t=rb(),a=u(Jm()),s=o.internal.temporalUtil,c=s.dateToEpochDay,h=s.localDateTimeToEpochSecond,l=s.localTimeToNanoOfDay,m=88,_=3,y=89,d=4,f=69,v=4,p=116,b=1,g=84,O=2,w=68,E=1,R=100,A=2,B=70,D=3,q=102,F=3;function W(){return new r.TypeTransformer({signature:m,isTypeInstance:function(I){return(0,o.isPoint)(I)&&(I.z===null||I.z===void 0)},toStructure:function(I){return new n.structure.Structure(m,[(0,o.int)(I.srid),I.x,I.y])},fromStructure:function(I){n.structure.verifyStructSize("Point2D",_,I.size);var M=i(I.fields,3),x=M[0],U=M[1],K=M[2];return new o.Point(x,U,K,void 0)}})}function k(){return new r.TypeTransformer({signature:y,isTypeInstance:function(I){return(0,o.isPoint)(I)&&I.z!==null&&I.z!==void 0},toStructure:function(I){return new n.structure.Structure(y,[(0,o.int)(I.srid),I.x,I.y,I.z])},fromStructure:function(I){n.structure.verifyStructSize("Point3D",d,I.size);var M=i(I.fields,4),x=M[0],U=M[1],K=M[2],ee=M[3];return new o.Point(x,U,K,ee)}})}function j(){return new r.TypeTransformer({signature:f,isTypeInstance:o.isDuration,toStructure:function(I){var M=(0,o.int)(I.months),x=(0,o.int)(I.days),U=(0,o.int)(I.seconds),K=(0,o.int)(I.nanoseconds);return new n.structure.Structure(f,[M,x,U,K])},fromStructure:function(I){n.structure.verifyStructSize("Duration",v,I.size);var M=i(I.fields,4),x=M[0],U=M[1],K=M[2],ee=M[3];return new o.Duration(x,U,K,ee)}})}function V(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:p,isTypeInstance:o.isLocalTime,toStructure:function(U){var K=l(U.hour,U.minute,U.second,U.nanosecond);return new n.structure.Structure(p,[K])},fromStructure:function(U){n.structure.verifyStructSize("LocalTime",b,U.size);var K=i(U.fields,1),ee=K[0],re=(0,t.nanoOfDayToLocalTime)(ee);return G(re,M,x)}})}function Y(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:g,isTypeInstance:o.isTime,toStructure:function(U){var K=l(U.hour,U.minute,U.second,U.nanosecond),ee=(0,o.int)(U.timeZoneOffsetSeconds);return new n.structure.Structure(g,[K,ee])},fromStructure:function(U){n.structure.verifyStructSize("Time",O,U.size);var K=i(U.fields,2),ee=K[0],re=K[1],J=(0,t.nanoOfDayToLocalTime)(ee),ie=new o.Time(J.hour,J.minute,J.second,J.nanosecond,re);return G(ie,M,x)}})}function N(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:w,isTypeInstance:o.isDate,toStructure:function(U){var K=c(U.year,U.month,U.day);return new n.structure.Structure(w,[K])},fromStructure:function(U){n.structure.verifyStructSize("Date",E,U.size);var K=i(U.fields,1),ee=K[0],re=(0,t.epochDayToDate)(ee);return G(re,M,x)}})}function $(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:R,isTypeInstance:o.isLocalDateTime,toStructure:function(U){var K=h(U.year,U.month,U.day,U.hour,U.minute,U.second,U.nanosecond),ee=(0,o.int)(U.nanosecond);return new n.structure.Structure(R,[K,ee])},fromStructure:function(U){n.structure.verifyStructSize("LocalDateTime",A,U.size);var K=i(U.fields,2),ee=K[0],re=K[1],J=(0,t.epochSecondAndNanoToLocalDateTime)(ee,re);return G(J,M,x)}})}function Z(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:q,isTypeInstance:function(U){return(0,o.isDateTime)(U)&&U.timeZoneId!=null},toStructure:function(U){var K=h(U.year,U.month,U.day,U.hour,U.minute,U.second,U.nanosecond),ee=(0,o.int)(U.nanosecond),re=U.timeZoneId;return new n.structure.Structure(q,[K,ee,re])},fromStructure:function(U){n.structure.verifyStructSize("DateTimeWithZoneId",F,U.size);var K=i(U.fields,3),ee=K[0],re=K[1],J=K[2],ie=(0,t.epochSecondAndNanoToLocalDateTime)(ee,re),ue=new o.DateTime(ie.year,ie.month,ie.day,ie.hour,ie.minute,ie.second,ie.nanosecond,null,J);return G(ue,M,x)}})}function z(I){var M=I.disableLosslessIntegers,x=I.useBigInt;return new r.TypeTransformer({signature:B,isTypeInstance:function(U){return(0,o.isDateTime)(U)&&U.timeZoneId==null},toStructure:function(U){var K=h(U.year,U.month,U.day,U.hour,U.minute,U.second,U.nanosecond),ee=(0,o.int)(U.nanosecond),re=(0,o.int)(U.timeZoneOffsetSeconds);return new n.structure.Structure(B,[K,ee,re])},fromStructure:function(U){n.structure.verifyStructSize("DateTimeWithZoneOffset",D,U.size);var K=i(U.fields,3),ee=K[0],re=K[1],J=K[2],ie=(0,t.epochSecondAndNanoToLocalDateTime)(ee,re),ue=new o.DateTime(ie.year,ie.month,ie.day,ie.hour,ie.minute,ie.second,ie.nanosecond,J,null);return G(ue,M,x)}})}function G(I,M,x){if(!M&&!x)return I;var U=function(J){return x?J.toBigInt():J.toNumberOrInfinity()},K=Object.create(Object.getPrototypeOf(I));for(var ee in I)if(Object.prototype.hasOwnProperty.call(I,ee)===!0){var re=I[ee];K[ee]=(0,o.isInt)(re)?U(re):re}return Object.freeze(K),K}return eu.default=e(e({},a.default),{createPoint2DTransformer:W,createPoint3DTransformer:k,createDurationTransformer:j,createLocalTimeTransformer:V,createTimeTransformer:Y,createDateTransformer:N,createLocalDateTimeTransformer:$,createDateTimeWithZoneIdTransformer:Z,createDateTimeWithOffsetTransformer:z}),eu}var s_;function nb(){if(s_)return Ja;s_=1;var e=P&&P.__extends||function(){var c=function(h,l){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(m[y]=_[y])},c(h,l)};return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");c(h,l);function m(){this.constructor=h}h.prototype=l===null?Object.create(l):(m.prototype=l.prototype,new m)}}(),i=P&&P.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ja,"__esModule",{value:!0});var u=i(eb()),o=i(Cr()),n=se(),r=i(tb()),t=i(ar()),a=n.internal.constants.BOLT_PROTOCOL_V2,s=function(c){e(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.prototype._createPacker=function(l){return new o.default.Packer(l)},h.prototype._createUnpacker=function(l,m){return new o.default.Unpacker(l,m)},Object.defineProperty(h.prototype,"transformer",{get:function(){var l=this;return this._transformer===void 0&&(this._transformer=new t.default(Object.values(r.default).map(function(m){return m(l._config,l._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"version",{get:function(){return a},enumerable:!1,configurable:!0}),h}(u.default);return Ja.default=s,Ja}var ru={},tu={},c_;function ib(){if(c_)return tu;c_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(tu,"__esModule",{value:!0});var u=i(tb());return tu.default=e({},u.default),tu}var l_;function ob(){if(l_)return ru;l_=1;var e=P&&P.__extends||function(){var f=function(v,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(b[O]=g[O])},f(v,p)};return function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(v,p);function b(){this.constructor=v}v.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(f){for(var v,p=1,b=arguments.length;p<b;p++){v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(f[g]=v[g])}return f},i.apply(this,arguments)},u=P&&P.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ru,"__esModule",{value:!0});var o=u(nb()),n=u(ut()),r=Zc(),t=Ar(),a=u(ib()),s=u(ar()),c=se();c.internal.bookmarks.Bookmarks;var h=c.internal.constants.BOLT_PROTOCOL_V3,l=c.internal.txConfig.TxConfig,m="context",_="CALL dbms.cluster.routing.getRoutingTable($".concat(m,")"),y=new t.StreamObserver,d=function(f){e(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return Object.defineProperty(v.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(a.default).map(function(b){return b(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.transformMetadata=function(p){return"t_first"in p&&(p.result_available_after=p.t_first,delete p.t_first),"t_last"in p&&(p.result_consumed_after=p.t_last,delete p.t_last),p},v.prototype.initialize=function(p){var b=this,g=p===void 0?{}:p,O=g.userAgent,w=g.authToken,E=g.onError,R=g.onComplete,A=new t.LoginObserver({onError:function(B){return b._onLoginError(B,E)},onCompleted:function(B){return b._onLoginCompleted(B,R)}});return this.write(n.default.hello(O,w),A,!0),A},v.prototype.prepareToClose=function(){this.write(n.default.goodbye(),y,!0)},v.prototype.beginTransaction=function(p){var b=p===void 0?{}:p,g=b.bookmarks,O=b.txConfig,w=b.database,E=b.impersonatedUser,R=b.mode,A=b.beforeError,B=b.afterError,D=b.beforeComplete,q=b.afterComplete,F=new t.ResultStreamObserver({server:this._server,beforeError:A,afterError:B,beforeComplete:D,afterComplete:q});return F.prepareToHandleSingleResponse(),(0,r.assertDatabaseIsEmpty)(w,this._onProtocolError,F),(0,r.assertImpersonatedUserIsEmpty)(E,this._onProtocolError,F),this.write(n.default.begin({bookmarks:g,txConfig:O,mode:R}),F,!0),F},v.prototype.commitTransaction=function(p){var b=p===void 0?{}:p,g=b.beforeError,O=b.afterError,w=b.beforeComplete,E=b.afterComplete,R=new t.ResultStreamObserver({server:this._server,beforeError:g,afterError:O,beforeComplete:w,afterComplete:E});return R.prepareToHandleSingleResponse(),this.write(n.default.commit(),R,!0),R},v.prototype.rollbackTransaction=function(p){var b=p===void 0?{}:p,g=b.beforeError,O=b.afterError,w=b.beforeComplete,E=b.afterComplete,R=new t.ResultStreamObserver({server:this._server,beforeError:g,afterError:O,beforeComplete:w,afterComplete:E});return R.prepareToHandleSingleResponse(),this.write(n.default.rollback(),R,!0),R},v.prototype.run=function(p,b,g){var O=g===void 0?{}:g,w=O.bookmarks,E=O.txConfig,R=O.database,A=O.impersonatedUser,B=O.mode,D=O.beforeKeys,q=O.afterKeys,F=O.beforeError,W=O.afterError,k=O.beforeComplete,j=O.afterComplete,V=O.flush,Y=V===void 0?!0:V,N=O.highRecordWatermark,$=N===void 0?Number.MAX_VALUE:N,Z=O.lowRecordWatermark,z=Z===void 0?Number.MAX_VALUE:Z,G=new t.ResultStreamObserver({server:this._server,beforeKeys:D,afterKeys:q,beforeError:F,afterError:W,beforeComplete:k,afterComplete:j,highRecordWatermark:$,lowRecordWatermark:z});return(0,r.assertDatabaseIsEmpty)(R,this._onProtocolError,G),(0,r.assertImpersonatedUserIsEmpty)(A,this._onProtocolError,G),this.write(n.default.runWithMetadata(p,b,{bookmarks:w,txConfig:E,mode:B}),G,!1),this.write(n.default.pullAll(),G,Y),G},v.prototype.requestRoutingInformation=function(p){var b,g=p.routingContext,O=g===void 0?{}:g,w=p.sessionContext,E=w===void 0?{}:w,R=p.onError,A=p.onCompleted,B=this.run(_,(b={},b[m]=O,b),i(i({},E),{txConfig:l.empty()}));return new t.ProcedureRouteObserver({resultObserver:B,onProtocolError:this._onProtocolError,onError:R,onCompleted:A})},v}(o.default);return ru.default=d,ru}var nu={},iu={},f_;function ab(){if(f_)return iu;f_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(iu,"__esModule",{value:!0});var u=i(ib());return iu.default=e({},u.default),iu}var d_;function ub(){if(d_)return nu;d_=1;var e=P&&P.__extends||function(){var p=function(b,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,w){O.__proto__=w}||function(O,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(O[E]=w[E])},p(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(b,g);function O(){this.constructor=b}b.prototype=g===null?Object.create(g):(O.prototype=g.prototype,new O)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(p){for(var b,g=1,O=arguments.length;g<O;g++){b=arguments[g];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(p[w]=b[w])}return p},i.apply(this,arguments)},u=P&&P.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(nu,"__esModule",{value:!0});var o=u(ob()),n=u(ut()),r=Zc(),t=Ar(),a=u(ab()),s=u(ar()),c=se();c.internal.bookmarks.Bookmarks;var h=c.internal.constants,l=h.BOLT_PROTOCOL_V4_0,m=h.FETCH_ALL,_=c.internal.txConfig.TxConfig,y="context",d="database",f="CALL dbms.routing.getRoutingTable($".concat(y,", $").concat(d,")"),v=function(p){e(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(b.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"transformer",{get:function(){var g=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(a.default).map(function(O){return O(g._config,g._log)}))),this._transformer},enumerable:!1,configurable:!0}),b.prototype.beginTransaction=function(g){var O=g===void 0?{}:g,w=O.bookmarks,E=O.txConfig,R=O.database,A=O.impersonatedUser,B=O.mode,D=O.beforeError,q=O.afterError,F=O.beforeComplete,W=O.afterComplete,k=new t.ResultStreamObserver({server:this._server,beforeError:D,afterError:q,beforeComplete:F,afterComplete:W});return k.prepareToHandleSingleResponse(),(0,r.assertImpersonatedUserIsEmpty)(A,this._onProtocolError,k),this.write(n.default.begin({bookmarks:w,txConfig:E,database:R,mode:B}),k,!0),k},b.prototype.run=function(g,O,w){var E=w===void 0?{}:w,R=E.bookmarks,A=E.txConfig,B=E.database,D=E.impersonatedUser,q=E.mode,F=E.beforeKeys,W=E.afterKeys,k=E.beforeError,j=E.afterError,V=E.beforeComplete,Y=E.afterComplete,N=E.flush,$=N===void 0?!0:N,Z=E.reactive,z=Z===void 0?!1:Z,G=E.fetchSize,I=G===void 0?m:G,M=E.highRecordWatermark,x=M===void 0?Number.MAX_VALUE:M,U=E.lowRecordWatermark,K=U===void 0?Number.MAX_VALUE:U,ee=new t.ResultStreamObserver({server:this._server,reactive:z,fetchSize:I,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:F,afterKeys:W,beforeError:k,afterError:j,beforeComplete:V,afterComplete:Y,highRecordWatermark:x,lowRecordWatermark:K});(0,r.assertImpersonatedUserIsEmpty)(D,this._onProtocolError,ee);var re=z;return this.write(n.default.runWithMetadata(g,O,{bookmarks:R,txConfig:A,database:B,mode:q}),ee,re&&$),z||this.write(n.default.pull({n:I}),ee,$),ee},b.prototype._requestMore=function(g,O,w){this.write(n.default.pull({stmtId:g,n:O}),w,!0)},b.prototype._requestDiscard=function(g,O){this.write(n.default.discard({stmtId:g}),O,!0)},b.prototype._noOp=function(){},b.prototype.requestRoutingInformation=function(g){var O,w=g.routingContext,E=w===void 0?{}:w,R=g.databaseName,A=R===void 0?null:R,B=g.sessionContext,D=B===void 0?{}:B,q=g.onError,F=g.onCompleted,W=this.run(f,(O={},O[y]=E,O[d]=A,O),i(i({},D),{txConfig:_.empty()}));return new t.ProcedureRouteObserver({resultObserver:W,onProtocolError:this._onProtocolError,onError:q,onCompleted:F})},b}(o.default);return nu.default=v,nu}var ou={},au={},v_;function sb(){if(v_)return au;v_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(au,"__esModule",{value:!0});var u=i(ab());return au.default=e({},u.default),au}var h_;function cb(){if(h_)return ou;h_=1;var e=P&&P.__extends||function(){var h=function(l,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(_[d]=y[d])},h(l,m)};return function(l,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(l,m);function _(){this.constructor=l}l.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=P&&P.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ou,"__esModule",{value:!0});var u=i(ub()),o=i(ut()),n=Ar(),r=se(),t=i(sb()),a=i(ar()),s=r.internal.constants.BOLT_PROTOCOL_V4_1,c=function(h){e(l,h);function l(m,_,y,d,f,v,p){d===void 0&&(d=function(){return null});var b=h.call(this,m,_,y,d,f,v)||this;return b._serversideRouting=p,b}return Object.defineProperty(l.prototype,"version",{get:function(){return s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new a.default(Object.values(t.default).map(function(_){return _(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),l.prototype.initialize=function(m){var _=this,y=m===void 0?{}:m,d=y.userAgent,f=y.authToken,v=y.onError,p=y.onComplete,b=new n.LoginObserver({onError:function(g){return _._onLoginError(g,v)},onCompleted:function(g){return _._onLoginCompleted(g,p)}});return this.write(o.default.hello(d,f,this._serversideRouting),b,!0),b},l}(u.default);return ou.default=c,ou}var uu={},su={},p_;function lb(){if(p_)return su;p_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(su,"__esModule",{value:!0});var u=i(sb());return su.default=e({},u.default),su}var __;function fb(){if(__)return uu;__=1;var e=P&&P.__extends||function(){var s=function(c,h){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(l[_]=m[_])},s(c,h)};return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");s(c,h);function l(){this.constructor=c}c.prototype=h===null?Object.create(h):(l.prototype=h.prototype,new l)}}(),i=P&&P.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(uu,"__esModule",{value:!0});var u=i(cb()),o=se(),n=i(lb()),r=i(ar()),t=o.internal.constants.BOLT_PROTOCOL_V4_2,a=function(s){e(c,s);function c(){return s!==null&&s.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"version",{get:function(){return t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"transformer",{get:function(){var h=this;return this._transformer===void 0&&(this._transformer=new r.default(Object.values(n.default).map(function(l){return l(h._config,h._log)}))),this._transformer},enumerable:!1,configurable:!0}),c}(u.default);return uu.default=a,uu}var cu={},lu={},y_;function db(){if(y_)return lu;y_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lu,"__esModule",{value:!0});var u=i(lb());return lu.default=e({},u.default),lu}var fu={},du={},m_;function Qc(){if(m_)return du;m_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(o){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},e.apply(this,arguments)},i=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(du,"__esModule",{value:!0});var u=i(db());return du.default=e({},u.default),du}var b_;function Xc(){if(b_)return fu;b_=1;var e=P&&P.__read||function(v,p){var b=typeof Symbol=="function"&&v[Symbol.iterator];if(!b)return v;var g=b.call(v),O,w=[],E;try{for(;(p===void 0||p-- >0)&&!(O=g.next()).done;)w.push(O.value)}catch(R){E={error:R}}finally{try{O&&!O.done&&(b=g.return)&&b.call(g)}finally{if(E)throw E.error}}return w},i=P&&P.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fu,"__esModule",{value:!0});var u=Cr(),o=se(),n=i(Qc()),r=rb(),t=Km(),a=o.internal.temporalUtil.localDateTimeToEpochSecond,s=73,c=3,h=105,l=3;function m(v,p){var b=v.disableLosslessIntegers,g=v.useBigInt,O=n.default.createDateTimeWithZoneIdTransformer(v);return O.extendsWith({signature:h,fromStructure:function(w){u.structure.verifyStructSize("DateTimeWithZoneId",l,w.size);var E=e(w.fields,3),R=E[0],A=E[1],B=E[2],D=y(B,R,A),q=new o.DateTime(D.year,D.month,D.day,D.hour,D.minute,D.second,(0,o.int)(A),D.timeZoneOffsetSeconds,B);return f(q,b,g)},toStructure:function(w){var E=a(w.year,w.month,w.day,w.hour,w.minute,w.second,w.nanosecond),R=w.timeZoneOffsetSeconds!=null?w.timeZoneOffsetSeconds:_(w.timeZoneId,E,w.nanosecond);w.timeZoneOffsetSeconds==null&&p.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var A=E.subtract(R),B=(0,o.int)(w.nanosecond),D=w.timeZoneId;return new u.structure.Structure(h,[A,B,D])}})}function _(v,p,b){var g=y(v,p,b),O=a(g.year,g.month,g.day,g.hour,g.minute,g.second,b),w=O.subtract(p),E=p.subtract(w),R=y(v,E,b),A=a(R.year,R.month,R.day,R.hour,R.minute,R.second,b),B=A.subtract(E);return B}function y(v,p,b){var g=new Intl.DateTimeFormat("en-US",{timeZone:v,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),O=(0,o.int)(p).multiply(1e3).add((0,o.int)(b).div(1e6)).toNumber(),w=g.formatToParts(O),E=w.reduce(function(A,B){return B.type==="era"?A.adjustEra=B.value.toUpperCase()==="B"?function(D){return D.subtract(1).negate()}:t.identity:B.type!=="literal"&&(A[B.type]=(0,o.int)(B.value)),A},{});E.year=E.adjustEra(E.year);var R=a(E.year,E.month,E.day,E.hour,E.minute,E.second,E.nanosecond);return E.timeZoneOffsetSeconds=R.subtract(p),E.hour=E.hour.modulo(24),E}function d(v){var p=v.disableLosslessIntegers,b=v.useBigInt,g=n.default.createDateTimeWithOffsetTransformer(v);return g.extendsWith({signature:s,toStructure:function(O){var w=a(O.year,O.month,O.day,O.hour,O.minute,O.second,O.nanosecond),E=(0,o.int)(O.nanosecond),R=(0,o.int)(O.timeZoneOffsetSeconds),A=w.subtract(R);return new u.structure.Structure(s,[A,E,R])},fromStructure:function(O){u.structure.verifyStructSize("DateTimeWithZoneOffset",c,O.size);var w=e(O.fields,3),E=w[0],R=w[1],A=w[2],B=(0,o.int)(E).add(A),D=(0,r.epochSecondAndNanoToLocalDateTime)(B,R),q=new o.DateTime(D.year,D.month,D.day,D.hour,D.minute,D.second,D.nanosecond,A,null);return f(q,p,b)}})}function f(v,p,b){if(!p&&!b)return v;var g=function(R){return b?R.toBigInt():R.toNumberOrInfinity()},O=Object.create(Object.getPrototypeOf(v));for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)===!0){var E=v[w];O[w]=(0,o.isInt)(E)?g(E):E}return Object.freeze(O),O}return fu.default={createDateTimeWithZoneIdTransformer:m,createDateTimeWithOffsetTransformer:d},fu}var g_;function Jc(){if(g_)return cu;g_=1;var e=P&&P.__extends||function(){var _=function(y,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])},_(y,d)};return function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(y,d);function f(){this.constructor=y}y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(_){for(var y,d=1,f=arguments.length;d<f;d++){y=arguments[d];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(_[v]=y[v])}return _},i.apply(this,arguments)},u=P&&P.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(cu,"__esModule",{value:!0});var o=u(fb()),n=u(ut()),r=Ar(),t=u(db()),a=u(Xc()),s=u(ar()),c=se(),h=c.internal.bookmarks.Bookmarks,l=c.internal.constants.BOLT_PROTOCOL_V4_3,m=function(_){e(y,_);function y(){return _!==null&&_.apply(this,arguments)||this}return Object.defineProperty(y.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(t.default).map(function(f){return f(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.requestRoutingInformation=function(d){var f=d.routingContext,v=f===void 0?{}:f,p=d.databaseName,b=p===void 0?null:p,g=d.sessionContext,O=g===void 0?{}:g,w=d.onError,E=d.onCompleted,R=new r.RouteObserver({onProtocolError:this._onProtocolError,onError:w,onCompleted:E}),A=O.bookmarks||h.empty();return this.write(n.default.route(v,A.values(),b),R,!0),R},y.prototype.initialize=function(d){var f=this,v=d===void 0?{}:d,p=v.userAgent,b=v.authToken,g=v.onError,O=v.onComplete,w=new r.LoginObserver({onError:function(E){return f._onLoginError(E,g)},onCompleted:function(E){return E.patch_bolt!==void 0&&f._applyPatches(E.patch_bolt),f._onLoginCompleted(E,O)}});return this.write(n.default.hello(p,b,this._serversideRouting,["utc"]),w,!0),w},y.prototype._applyPatches=function(d){d.includes("utc")&&this._applyUtcPatch()},y.prototype._applyUtcPatch=function(){var d=this;this._transformer=new s.default(Object.values(i(i({},t.default),a.default)).map(function(f){return f(d._config,d._log)}))},y}(o.default);return cu.default=m,cu}var vu={},O_;function vb(){if(O_)return vu;O_=1;var e=P&&P.__extends||function(){var d=function(f,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(p[g]=b[g])},d(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(f,v);function p(){this.constructor=f}f.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(d){for(var f,v=1,p=arguments.length;v<p;v++){f=arguments[v];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(d[b]=f[b])}return d},i.apply(this,arguments)},u=P&&P.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(vu,"__esModule",{value:!0});var o=u(Jc()),n=se(),r=u(ut()),t=Ar(),a=u(Qc()),s=u(Xc()),c=u(ar()),h=n.internal.constants,l=h.BOLT_PROTOCOL_V4_4,m=h.FETCH_ALL,_=n.internal.bookmarks.Bookmarks,y=function(d){e(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new c.default(Object.values(a.default).map(function(p){return p(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),f.prototype.requestRoutingInformation=function(v){var p=v.routingContext,b=p===void 0?{}:p,g=v.databaseName,O=g===void 0?null:g,w=v.impersonatedUser,E=w===void 0?null:w,R=v.sessionContext,A=R===void 0?{}:R,B=v.onError,D=v.onCompleted,q=new t.RouteObserver({onProtocolError:this._onProtocolError,onError:B,onCompleted:D}),F=A.bookmarks||_.empty();return this.write(r.default.routeV4x4(b,F.values(),{databaseName:O,impersonatedUser:E}),q,!0),q},f.prototype.run=function(v,p,b){var g=b===void 0?{}:b,O=g.bookmarks,w=g.txConfig,E=g.database,R=g.mode,A=g.impersonatedUser,B=g.beforeKeys,D=g.afterKeys,q=g.beforeError,F=g.afterError,W=g.beforeComplete,k=g.afterComplete,j=g.flush,V=j===void 0?!0:j,Y=g.reactive,N=Y===void 0?!1:Y,$=g.fetchSize,Z=$===void 0?m:$,z=g.highRecordWatermark,G=z===void 0?Number.MAX_VALUE:z,I=g.lowRecordWatermark,M=I===void 0?Number.MAX_VALUE:I,x=new t.ResultStreamObserver({server:this._server,reactive:N,fetchSize:Z,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:B,afterKeys:D,beforeError:q,afterError:F,beforeComplete:W,afterComplete:k,highRecordWatermark:G,lowRecordWatermark:M}),U=N;return this.write(r.default.runWithMetadata(v,p,{bookmarks:O,txConfig:w,database:E,mode:R,impersonatedUser:A}),x,U&&V),N||this.write(r.default.pull({n:Z}),x,V),x},f.prototype.beginTransaction=function(v){var p=v===void 0?{}:v,b=p.bookmarks,g=p.txConfig,O=p.database,w=p.mode,E=p.impersonatedUser,R=p.beforeError,A=p.afterError,B=p.beforeComplete,D=p.afterComplete,q=new t.ResultStreamObserver({server:this._server,beforeError:R,afterError:A,beforeComplete:B,afterComplete:D});return q.prepareToHandleSingleResponse(),this.write(r.default.begin({bookmarks:b,txConfig:g,database:O,mode:w,impersonatedUser:E}),q,!0),q},f.prototype._applyUtcPatch=function(){var v=this;this._transformer=new c.default(Object.values(i(i({},a.default),s.default)).map(function(p){return p(v._config,v._log)}))},f}(o.default);return vu.default=y,vu}var hu={},pu={},w_;function VS(){if(w_)return pu;w_=1;var e=P&&P.__assign||function(){return e=Object.assign||function(_){for(var y,d=1,f=arguments.length;d<f;d++){y=arguments[d];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(_[v]=y[v])}return _},e.apply(this,arguments)},i=P&&P.__read||function(_,y){var d=typeof Symbol=="function"&&_[Symbol.iterator];if(!d)return _;var f=d.call(_),v,p=[],b;try{for(;(y===void 0||y-- >0)&&!(v=f.next()).done;)p.push(v.value)}catch(g){b={error:g}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(b)throw b.error}}return p},u=P&&P.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(pu,"__esModule",{value:!0});var o=Cr(),n=se(),r=u(Qc()),t=u(Xc()),a=4,s=8,c=4;function h(_){var y=r.default.createNodeTransformer(_);return y.extendsWith({fromStructure:function(d){o.structure.verifyStructSize("Node",a,d.size);var f=i(d.fields,4),v=f[0],p=f[1],b=f[2],g=f[3];return new n.Node(v,p,b,g)}})}function l(_){var y=r.default.createRelationshipTransformer(_);return y.extendsWith({fromStructure:function(d){o.structure.verifyStructSize("Relationship",s,d.size);var f=i(d.fields,8),v=f[0],p=f[1],b=f[2],g=f[3],O=f[4],w=f[5],E=f[6],R=f[7];return new n.Relationship(v,p,b,g,O,w,E,R)}})}function m(_){var y=r.default.createUnboundRelationshipTransformer(_);return y.extendsWith({fromStructure:function(d){o.structure.verifyStructSize("UnboundRelationship",c,d.size);var f=i(d.fields,4),v=f[0],p=f[1],b=f[2],g=f[3];return new n.UnboundRelationship(v,p,b,g)}})}return pu.default=e(e(e({},r.default),t.default),{createNodeTransformer:h,createRelationshipTransformer:l,createUnboundRelationshipTransformer:m}),pu}var E_;function $S(){if(E_)return hu;E_=1;var e=P&&P.__extends||function(){var h=function(l,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(_[d]=y[d])},h(l,m)};return function(l,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(l,m);function _(){this.constructor=l}l.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=P&&P.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(hu,"__esModule",{value:!0});var u=i(vb()),o=i(VS()),n=i(ar()),r=i(ut()),t=Ar(),a=se(),s=a.internal.constants.BOLT_PROTOCOL_V5_0,c=function(h){e(l,h);function l(){return h!==null&&h.apply(this,arguments)||this}return Object.defineProperty(l.prototype,"version",{get:function(){return s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new n.default(Object.values(o.default).map(function(_){return _(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),l.prototype.initialize=function(m){var _=this,y=m===void 0?{}:m,d=y.userAgent,f=y.authToken,v=y.onError,p=y.onComplete,b=new t.LoginObserver({onError:function(g){return _._onLoginError(g,v)},onCompleted:function(g){return _._onLoginCompleted(g,p)}});return this.write(r.default.hello(d,f,this._serversideRouting),b,!0),b},l}(u.default);return hu.default=c,hu}var _u={},S_;function HS(){if(S_)return _u;S_=1,Object.defineProperty(_u,"__esModule",{value:!0});var e=se(),i=112,u=113,o=126,n=127;function r(){}function t(h){return h}var a={onNext:r,onCompleted:r,onError:r},s=function(){function h(l){var m=l===void 0?{}:l,_=m.transformMetadata,y=m.log,d=m.observer;this._pendingObservers=[],this._log=y,this._transformMetadata=_||t,this._observer=Object.assign({onPendingObserversChange:r,onError:r,onFailure:r,onErrorApplyTransformation:t},d)}return Object.defineProperty(h.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),h.prototype.handleResponse=function(l){var m=l.fields[0];switch(l.signature){case u:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(e.json.stringify(l))),this._currentObserver.onNext(m);break;case i:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(e.json.stringify(l)));try{var _=this._transformMetadata(m);this._currentObserver.onCompleted(_)}finally{this._updateCurrentObserver()}break;case n:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(e.json.stringify(l)));try{var y=c(m.code),d=(0,e.newError)(m.message,y);this._currentFailure=this._observer.onErrorApplyTransformation(d),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case o:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(e.json.stringify(l)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,e.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,e.newError)("Unknown Bolt protocol message: "+l))}},h.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},h.prototype._queueObserver=function(l){return l=l||a,l.onCompleted=l.onCompleted||r,l.onError=l.onError||r,l.onNext=l.onNext||r,this._currentObserver===void 0?this._currentObserver=l:this._pendingObservers.push(l),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},h.prototype._notifyErrorToObservers=function(l){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(l);this._pendingObservers.length>0;){var m=this._pendingObservers.shift();m&&m.onError&&m.onError(l)}},h.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},h.prototype._resetFailure=function(){this._currentFailure=null},h}();_u.default=s;function c(h){return h==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":h==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":h}return _u}var T_;function zS(){if(T_)return Ga;T_=1;var e=P&&P.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Ga,"__esModule",{value:!0});var i=se(),u=e(eb()),o=e(nb()),n=e(ob()),r=e(ub()),t=e(cb()),a=e(fb()),s=e(Jc()),c=e(vb()),h=e($S()),l=e(HS());function m(y){var d=y===void 0?{}:y,f=d.version,v=d.chunker,p=d.dechunker,b=d.channel,g=d.disableLosslessIntegers,O=d.useBigInt,w=d.serversideRouting,E=d.server,R=d.log,A=d.observer,B=function(D){var q=new l.default({transformMetadata:D.transformMetadata.bind(D),log:R,observer:A});return b.onerror=A.onError.bind(A),b.onmessage=function(F){return p.write(F)},p.onmessage=function(F){try{q.handleResponse(D.unpack(F))}catch(W){return A.onError(W)}},q};return _(f,E,v,{disableLosslessIntegers:g,useBigInt:O},w,B,A.onProtocolError.bind(A),R)}Ga.default=m;function _(y,d,f,v,p,b,g,O){switch(y){case 1:return new u.default(d,f,v,b,O,g);case 2:return new o.default(d,f,v,b,O,g);case 3:return new n.default(d,f,v,b,O,g);case 4:return new r.default(d,f,v,b,O,g);case 4.1:return new t.default(d,f,v,b,O,g,p);case 4.2:return new a.default(d,f,v,b,O,g,p);case 4.3:return new s.default(d,f,v,b,O,g,p);case 4.4:return new c.default(d,f,v,b,O,g,p);case 5:return new h.default(d,f,v,b,O,g,p);default:throw(0,i.newError)("Unknown Bolt protocol version: "+y)}}return Ga}var P_;function hb(){return P_||(P_=1,function(e){var i=P&&P.__createBinding||(Object.create?function(s,c,h,l){l===void 0&&(l=h);var m=Object.getOwnPropertyDescriptor(c,h);(!m||("get"in m?!c.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(s,l,m)}:function(s,c,h,l){l===void 0&&(l=h),s[l]=c[h]}),u=P&&P.__exportStar||function(s,c){for(var h in s)h!=="default"&&!Object.prototype.hasOwnProperty.call(c,h)&&i(c,s,h)},o=P&&P.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var n=o(FS()),r=o(zS()),t=o(Jc()),a=o(Xm());u(Ar(),e),e.BoltProtocol=t.default,e.RawRoutingTable=a.default,e.default={handshake:n.default,create:r.default}}(Zs)),Zs}var ec={},Or={},R_;function pb(){if(R_)return Or;R_=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.DEFAULT_ACQUISITION_TIMEOUT=Or.DEFAULT_MAX_SIZE=void 0;var e=100;Or.DEFAULT_MAX_SIZE=e;var i=60*1e3;Or.DEFAULT_ACQUISITION_TIMEOUT=i;var u=function(){function r(t,a){this.maxSize=o(t,e),this.acquisitionTimeout=o(a,i)}return r.defaultConfig=function(){return new r(e,i)},r.fromDriverConfig=function(t){var a=n(t.maxConnectionPoolSize),s=a?t.maxConnectionPoolSize:e,c=n(t.connectionAcquisitionTimeout),h=c?t.connectionAcquisitionTimeout:i;return new r(s,h)},r}();Or.default=u;function o(r,t){return r===0||r?r:t}function n(r){return r===0||r}return Or}var yu={},I_;function YS(){if(I_)return yu;I_=1;var e=P&&P.__awaiter||function(l,m,_,y){function d(f){return f instanceof _?f:new _(function(v){v(f)})}return new(_||(_=Promise))(function(f,v){function p(O){try{g(y.next(O))}catch(w){v(w)}}function b(O){try{g(y.throw(O))}catch(w){v(w)}}function g(O){O.done?f(O.value):d(O.value).then(p,b)}g((y=y.apply(l,m||[])).next())})},i=P&&P.__generator||function(l,m){var _={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},y,d,f,v;return v={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function p(g){return function(O){return b([g,O])}}function b(g){if(y)throw new TypeError("Generator is already executing.");for(;_;)try{if(y=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return _.label++,{value:g[1],done:!1};case 5:_.label++,d=g[1],g=[0];continue;case 7:g=_.ops.pop(),_.trys.pop();continue;default:if(f=_.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){_=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){_.label=g[1];break}if(g[0]===6&&_.label<f[1]){_.label=f[1],f=g;break}if(f&&_.label<f[2]){_.label=f[2],_.ops.push(g);break}f[2]&&_.ops.pop(),_.trys.pop();continue}g=m.call(l,_)}catch(O){g=[6,O],d=0}finally{y=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},u=P&&P.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(yu,"__esModule",{value:!0});var o=u(pb()),n=se(),r=n.internal.logger.Logger,t=function(){function l(m){var _=m===void 0?{}:m,y=_.create,d=y===void 0?function(q,F){return Promise.resolve()}:y,f=_.destroy,v=f===void 0?function(q){return Promise.resolve()}:f,p=_.validate,b=p===void 0?function(q){return!0}:p,g=_.installIdleObserver,O=g===void 0?function(q,F){}:g,w=_.removeIdleObserver,E=w===void 0?function(q){}:w,R=_.config,A=R===void 0?o.default.defaultConfig():R,B=_.log,D=B===void 0?r.noOp():B;this._create=d,this._destroy=v,this._validate=b,this._installIdleObserver=O,this._removeIdleObserver=E,this._maxSize=A.maxSize,this._acquisitionTimeout=A.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=D,this._closed=!1}return l.prototype.acquire=function(m){var _=this,y=m.asKey(),d=this._acquireRequests,f=d[y];return f||(d[y]=[]),new Promise(function(v,p){var b=null,g=setTimeout(function(){var O=d[y];if(O&&(d[y]=O.filter(function(R){return R!==b})),!b.isCompleted()){var w=_.activeResourceCount(m),E=_.has(m)?_._pools[y].length:0;b.reject((0,n.newError)("Connection acquisition timed out in ".concat(_._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(w,", Idle conn count = ").concat(E,".")))}},_._acquisitionTimeout);b=new c(y,v,p,g,_._log),d[y].push(b),_._processPendingAcquireRequests(m)})},l.prototype.purge=function(m){return this._purgeKey(m.asKey())},l.prototype.close=function(){return e(this,void 0,void 0,function(){var m=this;return i(this,function(_){switch(_.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(y){return m._purgeKey(y)}))];case 1:return[2,_.sent()]}})})},l.prototype.keepAll=function(m){var _=this,y=m.map(function(v){return v.asKey()}),d=Object.keys(this._pools),f=d.filter(function(v){return y.indexOf(v)===-1});return Promise.all(f.map(function(v){return _._purgeKey(v)}))},l.prototype.has=function(m){return m.asKey()in this._pools},l.prototype.activeResourceCount=function(m){return this._activeResourceCounts[m.asKey()]||0},l.prototype._getOrInitializePoolFor=function(m){var _=this._pools[m];return _||(_=new h,this._pools[m]=_,this._pendingCreates[m]=0),_},l.prototype._acquire=function(m){return e(this,void 0,void 0,function(){var _,y,d,f,v,p=this;return i(this,function(b){switch(b.label){case 0:if(this._closed)throw(0,n.newError)("Pool is closed, it is no more able to serve requests.");_=m.asKey(),y=this._getOrInitializePoolFor(_),b.label=1;case 1:return y.length?(d=y.pop(),this._validate(d)?(this._removeIdleObserver&&this._removeIdleObserver(d),a(_,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(d," acquired from the pool ").concat(_)),[2,{resource:d,pool:y}]):[3,2]):[3,5];case 2:return[4,this._destroy(d)];case 3:b.sent(),b.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&(f=this.activeResourceCount(m)+this._pendingCreates[_],f>=this._maxSize))return[2,{resource:null,pool:y}];this._pendingCreates[_]=this._pendingCreates[_]+1,b.label=6;case 6:return b.trys.push([6,,8,9]),[4,this._create(m,function(g,O){return p._release(g,O,y)})];case 7:return v=b.sent(),a(_,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(v," created for the pool ").concat(_)),[3,9];case 8:return this._pendingCreates[_]=this._pendingCreates[_]-1,[7];case 9:return[2,{resource:v,pool:y}]}})})},l.prototype._release=function(m,_,y){return e(this,void 0,void 0,function(){var d,f=this;return i(this,function(v){switch(v.label){case 0:return d=m.asKey(),y.isActive()?this._validate(_)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug("".concat(_," destroyed and can't be released to the pool ").concat(d," because it is not functional")),[4,this._destroy(_)]):[3,4];case 1:return v.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(_,{onError:function(p){f._log.debug("Idle connection ".concat(_," destroyed because of error: ").concat(p));var b=f._pools[d];b&&(f._pools[d]=b.filter(function(g){return g!==_})),f._destroy(_).catch(function(){})}}),y.push(_),this._log.isDebugEnabled()&&this._log.debug("".concat(_," released to the pool ").concat(d)),v.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug("".concat(_," destroyed and can't be released to the pool ").concat(d," because pool has been purged")),[4,this._destroy(_)];case 5:v.sent(),v.label=6;case 6:return s(d,this._activeResourceCounts),this._processPendingAcquireRequests(m),[2]}})})},l.prototype._purgeKey=function(m){return e(this,void 0,void 0,function(){var _,y,d;return i(this,function(f){switch(f.label){case 0:if(_=this._pools[m],y=[],!_)return[3,2];for(;_.length;)d=_.pop(),this._removeIdleObserver&&this._removeIdleObserver(d),y.push(this._destroy(d));return _.close(),delete this._pools[m],[4,Promise.all(y)];case 1:f.sent(),f.label=2;case 2:return[2]}})})},l.prototype._processPendingAcquireRequests=function(m){var _=this,y=m.asKey(),d=this._acquireRequests[y];if(d){var f=d.shift();f?this._acquire(m).catch(function(v){return f.reject(v),{resource:null}}).then(function(v){var p=v.resource,b=v.pool;p?f.isCompleted()?_._release(m,p,b):f.resolve(p):f.isCompleted()||(_._acquireRequests[y]||(_._acquireRequests[y]=[]),_._acquireRequests[y].unshift(f))}):delete this._acquireRequests[y]}},l}();function a(l,m){var _=m[l]||0;m[l]=_+1}function s(l,m){var _=m[l]||0,y=_-1;y>0?m[l]=y:delete m[l]}var c=function(){function l(m,_,y,d,f){this._key=m,this._resolve=_,this._reject=y,this._timeoutId=d,this._log=f,this._completed=!1}return l.prototype.isCompleted=function(){return this._completed},l.prototype.resolve=function(m){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(m," acquired from the pool ").concat(this._key)),this._resolve(m))},l.prototype.reject=function(m){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(m))},l}(),h=function(){function l(){this._active=!0,this._elements=[]}return l.prototype.isActive=function(){return this._active},l.prototype.close=function(){this._active=!1},l.prototype.filter=function(m){return this._elements=this._elements.filter(m),this},Object.defineProperty(l.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),l.prototype.pop=function(){return this._elements.pop()},l.prototype.push=function(m){return this._elements.push(m)},l}();return yu.default=t,yu}var C_;function _b(){return C_||(C_=1,function(e){var i=P&&P.__createBinding||(Object.create?function(a,s,c,h){h===void 0&&(h=c);var l=Object.getOwnPropertyDescriptor(s,c);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(a,h,l)}:function(a,s,c,h){h===void 0&&(h=c),a[h]=s[c]}),u=P&&P.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),o=P&&P.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var c in a)c!=="default"&&Object.prototype.hasOwnProperty.call(a,c)&&i(s,a,c);return u(s,a),s},n=P&&P.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var r=o(pb());e.PoolConfig=r.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return r.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return r.DEFAULT_MAX_SIZE}});var t=n(YS());e.Pool=t.default,e.default=t.default}(ec)),ec}var rc={},mu={},A_;function yb(){if(A_)return mu;A_=1;var e=P&&P.__extends||function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}();Object.defineProperty(mu,"__esModule",{value:!0});var i=se(),u=function(o){e(n,o);function n(r){var t=o.call(this)||this;return t._connection=r,t}return n.prototype.acquireConnection=function(r){var t=r===void 0?{}:r;t.accessMode,t.database,t.bookmarks;var a=this._connection;return this._connection=null,Promise.resolve(a)},n}(i.ConnectionProvider);return mu.default=u,mu}var bu={},tc={},gu={},j_;function el(){if(j_)return gu;j_=1,Object.defineProperty(gu,"__esModule",{value:!0});var e=function(){function i(u){this._errorHandler=u}return Object.defineProperty(i.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),i.prototype.isOpen=function(){throw new Error("not implemented")},i.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(i.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),i.prototype.connect=function(u,o){throw new Error("not implemented")},i.prototype.write=function(u,o,n){throw new Error("not implemented")},i.prototype.resetAndFlush=function(){throw new Error("not implemented")},i.prototype.hasOngoingObservableRequests=function(){throw new Error("not implemented")},i.prototype.close=function(){throw new Error("not implemented")},i.prototype.handleAndTransformError=function(u,o){return this._errorHandler?this._errorHandler.handleAndTransformError(u,o):u},i}();return gu.default=e,gu}var ht={},M_;function GS(){if(M_)return ht;M_=1;var e=P&&P.__extends||function(){var y=function(d,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(v[b]=p[b])},y(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(d,f);function v(){this.constructor=d}d.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),i=P&&P.__awaiter||function(y,d,f,v){function p(b){return b instanceof f?b:new f(function(g){g(b)})}return new(f||(f=Promise))(function(b,g){function O(R){try{E(v.next(R))}catch(A){g(A)}}function w(R){try{E(v.throw(R))}catch(A){g(A)}}function E(R){R.done?b(R.value):p(R.value).then(O,w)}E((v=v.apply(y,d||[])).next())})},u=P&&P.__generator||function(y,d){var f={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},v,p,b,g;return g={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function O(E){return function(R){return w([E,R])}}function w(E){if(v)throw new TypeError("Generator is already executing.");for(;f;)try{if(v=1,p&&(b=E[0]&2?p.return:E[0]?p.throw||((b=p.return)&&b.call(p),0):p.next)&&!(b=b.call(p,E[1])).done)return b;switch(p=0,b&&(E=[E[0]&2,b.value]),E[0]){case 0:case 1:b=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,p=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(b=f.trys,!(b=b.length>0&&b[b.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!b||E[1]>b[0]&&E[1]<b[3])){f.label=E[1];break}if(E[0]===6&&f.label<b[1]){f.label=b[1],b=E;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(E);break}b[2]&&f.ops.pop(),f.trys.pop();continue}E=d.call(y,f)}catch(R){E=[6,R],p=0}finally{v=b=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},o=P&&P.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(ht,"__esModule",{value:!0}),ht.createChannelConnection=void 0;var n=wa(),r=se(),t=o(el()),a=o(hb()),s=r.error.PROTOCOL_ERROR,c=r.internal.logger.Logger,h=0;function l(y,d,f,v,p,b){p===void 0&&(p=null),b===void 0&&(b=function(w){return new n.Channel(w)});var g=new n.ChannelConfig(y,d,f.errorCode()),O=b(g);return a.default.handshake(O).then(function(w){var E=w.protocolVersion,R=w.consumeRemainingBuffer,A=new n.Chunker(O),B=new n.Dechunker,D=function(F){return a.default.create({version:E,channel:O,chunker:A,dechunker:B,disableLosslessIntegers:d.disableLosslessIntegers,useBigInt:d.useBigInt,serversideRouting:p,server:F.server,log:F.logger,observer:{onPendingObserversChange:F._handleOngoingRequestsNumberChange.bind(F),onError:F._handleFatalError.bind(F),onFailure:F._resetOnFailure.bind(F),onProtocolError:F._handleProtocolError.bind(F),onErrorApplyTransformation:function(W){return F.handleAndTransformError(W,F._address)}}})},q=new m(O,f,y,v,d.disableLosslessIntegers,p,A,D);return R(function(F){return B.write(F)}),q}).catch(function(w){return O.close().then(function(){throw w})})}ht.createChannelConnection=l;var m=function(y){e(d,y);function d(f,v,p,b,g,O,w,E){g===void 0&&(g=!1),O===void 0&&(O=null);var R=y.call(this,v)||this;return R._reseting=!1,R._resetObservers=[],R._id=h++,R._address=p,R._server={address:p.asHostPort()},R.creationTimestamp=Date.now(),R._disableLosslessIntegers=g,R._ch=f,R._chunker=w,R._log=_(R,b),R._serversideRouting=O,R._dbConnectionId=null,R._protocol=E(R),R._isBroken=!1,R._log.isDebugEnabled()&&R._log.debug("created towards ".concat(p)),R}return Object.defineProperty(d.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(f){this._dbConnectionId=f},enumerable:!1,configurable:!0}),d.prototype.connect=function(f,v){return this._initialize(f,v)},d.prototype._initialize=function(f,v){var p=this,b=this;return new Promise(function(g,O){p._protocol.initialize({userAgent:f,authToken:v,onError:function(w){return O(w)},onComplete:function(w){if(w){var E=w.server;(!p.version||E)&&(p.version=E);var R=w.connection_id;if(p.databaseId||(p.databaseId=R),w.hints){var A=w.hints["connection.recv_timeout_seconds"];if(A!=null){var B=(0,r.toNumber)(A);Number.isInteger(B)&&B>0?p._ch.setupReceiveTimeout(B*1e3):p._log.info("Server located at ".concat(p._address," supplied an invalid connection receive timeout value (").concat(B,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}g(b)}})})},d.prototype.protocol=function(){return this._protocol},Object.defineProperty(d.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"version",{get:function(){return this._server.version},set:function(f){this._server.version=f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),d.prototype._handleFatalError=function(f){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||f,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(r.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},d.prototype._queueObserver=function(f){return this._protocol.queueObserverIfProtocolIsNotBroken(f)},d.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},d.prototype.resetAndFlush=function(){var f=this;return new Promise(function(v,p){f._reset({onError:function(b){if(f._isBroken)p(b);else{var g=f._handleProtocolError("Received FAILURE as a response for RESET: "+b);p(g)}},onComplete:function(){v()}})})},d.prototype._resetOnFailure=function(){var f=this;this.isOpen()&&this._reset({onError:function(){f._protocol.resetFailure()},onComplete:function(){f._protocol.resetFailure()}})},d.prototype._reset=function(f){var v=this;if(this._reseting){this._protocol.isLastMessageReset()?this._resetObservers.push(f):this._protocol.reset({onError:function(b){f.onError(b)},onComplete:function(){f.onComplete()}});return}this._resetObservers.push(f),this._reseting=!0;var p=function(b){v._reseting=!1;var g=v._resetObservers;v._resetObservers=[],g.forEach(b)};this._protocol.reset({onError:function(b){p(function(g){return g.onError(b)})},onComplete:function(){p(function(b){return b.onComplete()})}})},d.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},d.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},d.prototype._handleOngoingRequestsNumberChange=function(f){f===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},d.prototype.close=function(){return i(this,void 0,void 0,function(){return u(this,function(f){switch(f.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return f.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},d.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},d.prototype._handleProtocolError=function(f){this._protocol.resetFailure(),this._updateCurrentObserver();var v=(0,r.newError)(f,s);return this._handleFatalError(v),v},d}(t.default);ht.default=m;function _(y,d){return new c(d._level,function(f,v){return d._loggerFunction(f,"".concat(y," ").concat(v))})}return ht}var Ou={},N_;function KS(){if(N_)return Ou;N_=1;var e=P&&P.__extends||function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function a(){this.constructor=r}r.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),i=P&&P.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ou,"__esModule",{value:!0});var u=i(el()),o=function(n){e(r,n);function r(t,a){var s=n.call(this,a)||this;return a&&(s._originalErrorHandler=t._errorHandler,t._errorHandler=s._errorHandler),s._delegate=t,s}return Object.defineProperty(r.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(t){this._delegate.databaseId=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){return this._delegate.version},set:function(t){this._delegate.version=t},enumerable:!1,configurable:!0}),r.prototype.isOpen=function(){return this._delegate.isOpen()},r.prototype.protocol=function(){return this._delegate.protocol()},r.prototype.connect=function(t,a){return this._delegate.connect(t,a)},r.prototype.write=function(t,a,s){return this._delegate.write(t,a,s)},r.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},r.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},r.prototype.close=function(){return this._delegate.close()},r.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},r}(u.default);return Ou.default=o,Ou}var wu={},k_;function ZS(){if(k_)return wu;k_=1,Object.defineProperty(wu,"__esModule",{value:!0});var e=se(),i=e.error.SERVICE_UNAVAILABLE,u=e.error.SESSION_EXPIRED,o=function(){function s(c,h,l,m){this._errorCode=c,this._handleUnavailability=h||a,this._handleWriteFailure=l||a,this._handleAuthorizationExpired=m||a}return s.create=function(c){var h=c.errorCode,l=c.handleUnavailability,m=c.handleWriteFailure,_=c.handleAuthorizationExpired;return new s(h,l,m,_)},s.prototype.errorCode=function(){return this._errorCode},s.prototype.handleAndTransformError=function(c,h){return n(c)?this._handleAuthorizationExpired(c,h):r(c)?this._handleUnavailability(c,h):t(c)?this._handleWriteFailure(c,h):c},s}();wu.default=o;function n(s){return s&&(s.code==="Neo.ClientError.Security.AuthorizationExpired"||s.code==="Neo.ClientError.Security.TokenExpired")}function r(s){return s?s.code===u||s.code===i||s.code==="Neo.TransientError.General.DatabaseUnavailable":!1}function t(s){return s?s.code==="Neo.ClientError.Cluster.NotALeader"||s.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase":!1}function a(s){return s}return wu}var D_;function rl(){return D_||(D_=1,function(e){var i=P&&P.__createBinding||(Object.create?function(c,h,l,m){m===void 0&&(m=l);var _=Object.getOwnPropertyDescriptor(h,l);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[l]}}),Object.defineProperty(c,m,_)}:function(c,h,l,m){m===void 0&&(m=l),c[m]=h[l]}),u=P&&P.__setModuleDefault||(Object.create?function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}:function(c,h){c.default=h}),o=P&&P.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&i(h,c,l);return u(h,c),h},n=P&&P.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var r=n(el());e.Connection=r.default;var t=o(GS());e.ChannelConnection=t.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return t.createChannelConnection}});var a=n(KS());e.DelegateConnection=a.default;var s=n(ZS());e.ConnectionErrorHandler=s.default,e.default=r.default}(tc)),tc}var q_;function tl(){if(q_)return bu;q_=1;var e=P&&P.__extends||function(){var l=function(m,_){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},l(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");l(m,_);function y(){this.constructor=m}m.prototype=_===null?Object.create(_):(y.prototype=_.prototype,new y)}}(),i=P&&P.__createBinding||(Object.create?function(l,m,_,y){y===void 0&&(y=_);var d=Object.getOwnPropertyDescriptor(m,_);(!d||("get"in d?!m.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(l,y,d)}:function(l,m,_,y){y===void 0&&(y=_),l[y]=m[_]}),u=P&&P.__setModuleDefault||(Object.create?function(l,m){Object.defineProperty(l,"default",{enumerable:!0,value:m})}:function(l,m){l.default=m}),o=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var m={};if(l!=null)for(var _ in l)_!=="default"&&Object.prototype.hasOwnProperty.call(l,_)&&i(m,l,_);return u(m,l),m},n=P&&P.__awaiter||function(l,m,_,y){function d(f){return f instanceof _?f:new _(function(v){v(f)})}return new(_||(_=Promise))(function(f,v){function p(O){try{g(y.next(O))}catch(w){v(w)}}function b(O){try{g(y.throw(O))}catch(w){v(w)}}function g(O){O.done?f(O.value):d(O.value).then(p,b)}g((y=y.apply(l,m||[])).next())})},r=P&&P.__generator||function(l,m){var _={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},y,d,f,v;return v={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function p(g){return function(O){return b([g,O])}}function b(g){if(y)throw new TypeError("Generator is already executing.");for(;_;)try{if(y=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return _.label++,{value:g[1],done:!1};case 5:_.label++,d=g[1],g=[0];continue;case 7:g=_.ops.pop(),_.trys.pop();continue;default:if(f=_.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){_=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){_.label=g[1];break}if(g[0]===6&&_.label<f[1]){_.label=f[1],f=g;break}if(f&&_.label<f[2]){_.label=f[2],_.ops.push(g);break}f[2]&&_.ops.pop(),_.trys.pop();continue}g=m.call(l,_)}catch(O){g=[6,O],d=0}finally{y=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(bu,"__esModule",{value:!0});var t=rl(),a=o(_b()),s=se(),c=s.error.SERVICE_UNAVAILABLE,h=function(l){e(m,l);function m(_,y){var d=_.id,f=_.config,v=_.log,p=_.userAgent,b=_.authToken;y===void 0&&(y=null);var g=l.call(this)||this;return g._id=d,g._config=f,g._log=v,g._userAgent=p,g._authToken=b,g._createChannelConnection=y||function(O){return(0,t.createChannelConnection)(O,g._config,g._createConnectionErrorHandler(),g._log)},g._connectionPool=new a.default({create:g._createConnection.bind(g),destroy:g._destroyConnection.bind(g),validate:g._validateConnection.bind(g),installIdleObserver:m._installIdleObserverOnConnection.bind(g),removeIdleObserver:m._removeIdleObserverOnConnection.bind(g),config:a.PoolConfig.fromDriverConfig(f),log:g._log}),g._openConnections={},g}return m.prototype._createConnectionErrorHandler=function(){return new t.ConnectionErrorHandler(c)},m.prototype._createConnection=function(_,y){var d=this;return this._createChannelConnection(_).then(function(f){return f._release=function(){return y(_,f)},d._openConnections[f.id]=f,f.connect(d._userAgent,d._authToken).catch(function(v){throw d._destroyConnection(f),v})})},m.prototype._validateConnection=function(_){if(!_.isOpen())return!1;var y=this._config.maxConnectionLifetime,d=Date.now()-_.creationTimestamp;return d<=y},m.prototype._destroyConnection=function(_){return delete this._openConnections[_.id],_.close()},m.prototype._verifyConnectivityAndGetServerVersion=function(_){var y=_.address;return n(this,void 0,void 0,function(){var d,f;return r(this,function(v){switch(v.label){case 0:return[4,this._connectionPool.acquire(y)];case 1:d=v.sent(),f=new s.ServerInfo(d.server,d.protocol().version),v.label=2;case 2:return v.trys.push([2,,5,7]),d.protocol().isLastMessageLogin()?[3,4]:[4,d.resetAndFlush()];case 3:v.sent(),v.label=4;case 4:return[3,7];case 5:return[4,d._release()];case 6:return v.sent(),[7];case 7:return[2,f]}})})},m.prototype.close=function(){return n(this,void 0,void 0,function(){return r(this,function(_){switch(_.label){case 0:return[4,this._connectionPool.close()];case 1:return _.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(y){return y.close()}))];case 2:return _.sent(),[2]}})})},m._installIdleObserverOnConnection=function(_,y){_._queueObserver(y)},m._removeIdleObserverOnConnection=function(_){_._updateCurrentObserver()},m}(s.ConnectionProvider);return bu.default=h,bu}var Eu={},L_;function QS(){if(L_)return Eu;L_=1;var e=P&&P.__extends||function(){var _=function(y,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])},_(y,d)};return function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(y,d);function f(){this.constructor=y}y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),i=P&&P.__awaiter||function(_,y,d,f){function v(p){return p instanceof d?p:new d(function(b){b(p)})}return new(d||(d=Promise))(function(p,b){function g(E){try{w(f.next(E))}catch(R){b(R)}}function O(E){try{w(f.throw(E))}catch(R){b(R)}}function w(E){E.done?p(E.value):v(E.value).then(g,O)}w((f=f.apply(_,y||[])).next())})},u=P&&P.__generator||function(_,y){var d={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,v,p,b;return b={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function g(w){return function(E){return O([w,E])}}function O(w){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,v&&(p=w[0]&2?v.return:w[0]?v.throw||((p=v.return)&&p.call(v),0):v.next)&&!(p=p.call(v,w[1])).done)return p;switch(v=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,v=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(p=d.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){d.label=w[1];break}if(w[0]===6&&d.label<p[1]){d.label=p[1],p=w;break}if(p&&d.label<p[2]){d.label=p[2],d.ops.push(w);break}p[2]&&d.ops.pop(),d.trys.pop();continue}w=y.call(_,d)}catch(E){w=[6,E],v=0}finally{f=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},o=P&&P.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Eu,"__esModule",{value:!0});var n=o(tl()),r=rl(),t=se(),a=t.internal.constants,s=a.BOLT_PROTOCOL_V3,c=a.BOLT_PROTOCOL_V4_0,h=a.BOLT_PROTOCOL_V4_4,l=t.error.SERVICE_UNAVAILABLE,m=function(_){e(y,_);function y(d){var f=d.id,v=d.config,p=d.log,b=d.address,g=d.userAgent,O=d.authToken,w=_.call(this,{id:f,config:v,log:p,userAgent:g,authToken:O})||this;return w._address=b,w}return y.prototype.acquireConnection=function(d){var f=this,v=d===void 0?{}:d;v.accessMode;var p=v.database;v.bookmarks;var b=r.ConnectionErrorHandler.create({errorCode:l,handleAuthorizationExpired:function(g,O){return f._handleAuthorizationExpired(g,O,p)}});return this._connectionPool.acquire(this._address).then(function(g){return new r.DelegateConnection(g,b)})},y.prototype._handleAuthorizationExpired=function(d,f,v){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(f," for database '").concat(v,"' because of an error ").concat(d.code," '").concat(d.message,"'")),this._connectionPool.purge(f).catch(function(){}),d},y.prototype._hasProtocolVersion=function(d){return i(this,void 0,void 0,function(){var f,v;return u(this,function(p){switch(p.label){case 0:return[4,(0,r.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return f=p.sent(),v=f.protocol()?f.protocol().version:null,[4,f.close()];case 2:return p.sent(),v?[2,d(v)]:[2,!1]}})})},y.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return u(this,function(d){switch(d.label){case 0:return[4,this._hasProtocolVersion(function(f){return f>=c})];case 1:return[2,d.sent()]}})})},y.prototype.getNegotiatedProtocolVersion=function(){var d=this;return new Promise(function(f,v){d._hasProtocolVersion(f).catch(v)})},y.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return u(this,function(d){switch(d.label){case 0:return[4,this._hasProtocolVersion(function(f){return f>=s})];case 1:return[2,d.sent()]}})})},y.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return u(this,function(d){switch(d.label){case 0:return[4,this._hasProtocolVersion(function(f){return f>=h})];case 1:return[2,d.sent()]}})})},y.prototype.verifyConnectivityAndGetServerInfo=function(){return i(this,void 0,void 0,function(){return u(this,function(d){switch(d.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,d.sent()]}})})},y}(n.default);return Eu.default=m,Eu}var Su={},wr={},Tu={},pt={},U_;function mb(){if(U_)return pt;U_=1;var e=P&&P.__read||function(f,v){var p=typeof Symbol=="function"&&f[Symbol.iterator];if(!p)return f;var b=p.call(f),g,O=[],w;try{for(;(v===void 0||v-- >0)&&!(g=b.next()).done;)O.push(g.value)}catch(E){w={error:E}}finally{try{g&&!g.done&&(p=b.return)&&p.call(b)}finally{if(w)throw w.error}}return O},i=P&&P.__spreadArray||function(f,v,p){if(p||arguments.length===2)for(var b=0,g=v.length,O;b<g;b++)(O||!(b in v))&&(O||(O=Array.prototype.slice.call(v,0,b)),O[b]=v[b]);return f.concat(O||Array.prototype.slice.call(v))};Object.defineProperty(pt,"__esModule",{value:!0}),pt.createValidRoutingTable=void 0;var u=se(),o=u.internal.constants,n=o.ACCESS_MODE_WRITE,r=o.ACCESS_MODE_READ,t=u.internal.serverAddress.ServerAddress,a=u.error.PROTOCOL_ERROR,s=1,c=function(){function f(v){var p=v===void 0?{}:v,b=p.database,g=p.routers,O=p.readers,w=p.writers,E=p.expirationTime,R=p.ttl;this.database=b||null,this.databaseName=b||"default database",this.routers=g||[],this.readers=O||[],this.writers=w||[],this.expirationTime=E||(0,u.int)(0),this.ttl=R}return f.fromRawRoutingTable=function(v,p,b){return l(v,p,b)},f.prototype.forget=function(v){this.readers=h(this.readers,v),this.writers=h(this.writers,v)},f.prototype.forgetRouter=function(v){this.routers=h(this.routers,v)},f.prototype.forgetWriter=function(v){this.writers=h(this.writers,v)},f.prototype.isStaleFor=function(v){return this.expirationTime.lessThan(Date.now())||this.routers.length<s||v===r&&this.readers.length===0||v===n&&this.writers.length===0},f.prototype.isExpiredFor=function(v){return this.expirationTime.add(v).lessThan(Date.now())},f.prototype.allServers=function(){return i(i(i([],e(this.routers),!1),e(this.readers),!1),e(this.writers),!1)},f.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},f}();pt.default=c;function h(f,v){return f.filter(function(p){return p.asKey()!==v.asKey()})}function l(f,v,p){var b=p.ttl,g=_(p,v),O=m(p,v),w=O.routers,E=O.readers,R=O.writers;return y(w,"routers",v),y(E,"readers",v),new c({database:f||p.db,routers:w,readers:E,writers:R,expirationTime:g,ttl:b})}pt.createValidRoutingTable=l;function m(f,v){try{var p=[],b=[],g=[];return f.servers.forEach(function(O){var w=O.role,E=O.addresses;w==="ROUTE"?p=d(E).map(function(R){return t.fromUrl(R)}):w==="WRITE"?g=d(E).map(function(R){return t.fromUrl(R)}):w==="READ"&&(b=d(E).map(function(R){return t.fromUrl(R)}))}),{routers:p,readers:b,writers:g}}catch(O){throw(0,u.newError)("Unable to parse servers entry from router ".concat(v,` from addresses:
`).concat(u.json.stringify(f.servers),`
Error message: `).concat(O.message),a)}}function _(f,v){try{var p=(0,u.int)(Date.now()),b=(0,u.int)(f.ttl).multiply(1e3).add(p);return b.lessThan(p)?u.Integer.MAX_VALUE:b}catch(g){throw(0,u.newError)("Unable to parse TTL entry from router ".concat(v,` from raw routing table:
`).concat(u.json.stringify(f),`
Error message: `).concat(g.message),a)}}function y(f,v,p){if(f.length===0)throw(0,u.newError)("Received no "+v+" from router "+p,a)}function d(f){if(!Array.isArray(f))throw new TypeError("Array expected but got: "+f);return Array.from(f)}return pt}var x_;function XS(){if(x_)return Tu;x_=1;var e=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Tu,"__esModule",{value:!0});var i=e(mb()),u=function(){function o(n){this._routingContext=n}return o.prototype.lookupRoutingTableOnRouter=function(n,r,t,a){var s=this;return n._acquireConnection(function(c){return s._requestRawRoutingTable(c,n,r,t,a).then(function(h){return h.isNull?null:i.default.fromRawRoutingTable(r,t,h)})})},o.prototype._requestRawRoutingTable=function(n,r,t,a,s){var c=this;return new Promise(function(h,l){n.protocol().requestRoutingInformation({routingContext:c._routingContext,databaseName:t,impersonatedUser:s,sessionContext:{bookmarks:r._lastBookmarks,mode:r._mode,database:r._database,afterComplete:r._onComplete},onCompleted:h,onError:l})})},o}();return Tu.default=u,Tu}var F_;function JS(){if(F_)return wr;F_=1;var e=P&&P.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wr,"__esModule",{value:!0}),wr.RoutingTable=wr.Rediscovery=void 0;var i=e(XS());wr.Rediscovery=i.default;var u=e(mb());return wr.RoutingTable=u.default,wr.default=i.default,wr}var B_;function eT(){if(B_)return Su;B_=1;var e=P&&P.__extends||function(){var z=function(G,I){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var U in x)Object.prototype.hasOwnProperty.call(x,U)&&(M[U]=x[U])},z(G,I)};return function(G,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");z(G,I);function M(){this.constructor=G}G.prototype=I===null?Object.create(I):(M.prototype=I.prototype,new M)}}(),i=P&&P.__assign||function(){return i=Object.assign||function(z){for(var G,I=1,M=arguments.length;I<M;I++){G=arguments[I];for(var x in G)Object.prototype.hasOwnProperty.call(G,x)&&(z[x]=G[x])}return z},i.apply(this,arguments)},u=P&&P.__createBinding||(Object.create?function(z,G,I,M){M===void 0&&(M=I);var x=Object.getOwnPropertyDescriptor(G,I);(!x||("get"in x?!G.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return G[I]}}),Object.defineProperty(z,M,x)}:function(z,G,I,M){M===void 0&&(M=I),z[M]=G[I]}),o=P&&P.__setModuleDefault||(Object.create?function(z,G){Object.defineProperty(z,"default",{enumerable:!0,value:G})}:function(z,G){z.default=G}),n=P&&P.__importStar||function(z){if(z&&z.__esModule)return z;var G={};if(z!=null)for(var I in z)I!=="default"&&Object.prototype.hasOwnProperty.call(z,I)&&u(G,z,I);return o(G,z),G},r=P&&P.__awaiter||function(z,G,I,M){function x(U){return U instanceof I?U:new I(function(K){K(U)})}return new(I||(I=Promise))(function(U,K){function ee(ie){try{J(M.next(ie))}catch(ue){K(ue)}}function re(ie){try{J(M.throw(ie))}catch(ue){K(ue)}}function J(ie){ie.done?U(ie.value):x(ie.value).then(ee,re)}J((M=M.apply(z,G||[])).next())})},t=P&&P.__generator||function(z,G){var I={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},M,x,U,K;return K={next:ee(0),throw:ee(1),return:ee(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function ee(J){return function(ie){return re([J,ie])}}function re(J){if(M)throw new TypeError("Generator is already executing.");for(;I;)try{if(M=1,x&&(U=J[0]&2?x.return:J[0]?x.throw||((U=x.return)&&U.call(x),0):x.next)&&!(U=U.call(x,J[1])).done)return U;switch(x=0,U&&(J=[J[0]&2,U.value]),J[0]){case 0:case 1:U=J;break;case 4:return I.label++,{value:J[1],done:!1};case 5:I.label++,x=J[1],J=[0];continue;case 7:J=I.ops.pop(),I.trys.pop();continue;default:if(U=I.trys,!(U=U.length>0&&U[U.length-1])&&(J[0]===6||J[0]===2)){I=0;continue}if(J[0]===3&&(!U||J[1]>U[0]&&J[1]<U[3])){I.label=J[1];break}if(J[0]===6&&I.label<U[1]){I.label=U[1],U=J;break}if(U&&I.label<U[2]){I.label=U[2],I.ops.push(J);break}U[2]&&I.ops.pop(),I.trys.pop();continue}J=G.call(z,I)}catch(ie){J=[6,ie],x=0}finally{M=U=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}},a=P&&P.__values||function(z){var G=typeof Symbol=="function"&&Symbol.iterator,I=G&&z[G],M=0;if(I)return I.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&M>=z.length&&(z=void 0),{value:z&&z[M++],done:!z}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")},s=P&&P.__read||function(z,G){var I=typeof Symbol=="function"&&z[Symbol.iterator];if(!I)return z;var M=I.call(z),x,U=[],K;try{for(;(G===void 0||G-- >0)&&!(x=M.next()).done;)U.push(x.value)}catch(ee){K={error:ee}}finally{try{x&&!x.done&&(I=M.return)&&I.call(M)}finally{if(K)throw K.error}}return U},c=P&&P.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(Su,"__esModule",{value:!0});var h=se(),l=n(JS()),m=wa(),_=c(yb()),y=c(tl()),d=Ym(),f=rl(),v=h.error.SERVICE_UNAVAILABLE,p=h.error.SESSION_EXPIRED,b=h.internal.bookmarks.Bookmarks,g=h.internal.constants,O=g.ACCESS_MODE_READ,w=g.ACCESS_MODE_WRITE,E=g.BOLT_PROTOCOL_V3,R=g.BOLT_PROTOCOL_V4_0,A=g.BOLT_PROTOCOL_V4_4,B="Neo.ClientError.Procedure.ProcedureNotFound",D="Neo.ClientError.Database.DatabaseNotFound",q="Neo.ClientError.Transaction.InvalidBookmark",F="Neo.ClientError.Transaction.InvalidBookmarkMixture",W="Neo.ClientError.Security.AuthorizationExpired",k="system",j=null,V=(0,h.int)(3e4),Y=function(z){e(G,z);function G(I){var M=I.id,x=I.address,U=I.routingContext,K=I.hostNameResolver,ee=I.config,re=I.log,J=I.userAgent,ie=I.authToken,ue=I.routingTablePurgeDelay,le=z.call(this,{id:M,config:ee,log:re,userAgent:J,authToken:ie},function(Re){return(0,f.createChannelConnection)(Re,le._config,le._createConnectionErrorHandler(),le._log,le._routingContext)})||this;return le._routingContext=i(i({},U),{address:x.toString()}),le._seedRouter=x,le._rediscovery=new l.default(le._routingContext),le._loadBalancingStrategy=new d.LeastConnectedLoadBalancingStrategy(le._connectionPool),le._hostNameResolver=K,le._dnsResolver=new m.HostNameResolver,le._log=re,le._useSeedRouter=!0,le._routingTableRegistry=new N(ue?(0,h.int)(ue):V),le}return G.prototype._createConnectionErrorHandler=function(){return new f.ConnectionErrorHandler(p)},G.prototype._handleUnavailability=function(I,M,x){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(M," for database '").concat(x,"' because of an error ").concat(I.code," '").concat(I.message,"'")),this.forget(M,x||j),I},G.prototype._handleAuthorizationExpired=function(I,M,x){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(M," for database '").concat(x,"' because of an error ").concat(I.code," '").concat(I.message,"'")),this._connectionPool.purge(M).catch(function(){}),I},G.prototype._handleWriteFailure=function(I,M,x){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(M," for database '").concat(x,"' because of an error ").concat(I.code," '").concat(I.message,"'")),this.forgetWriter(M,x||j),(0,h.newError)("No longer possible to write to server at "+M,p,I)},G.prototype.acquireConnection=function(I){var M=I===void 0?{}:I,x=M.accessMode,U=M.database,K=M.bookmarks,ee=M.impersonatedUser,re=M.onDatabaseNameResolved;return r(this,void 0,void 0,function(){var J,ie,ue,le,Re,je,qe,Qe,Ie=this;return t(this,function(Ce){switch(Ce.label){case 0:return ue={database:U||j},le=new f.ConnectionErrorHandler(p,function(We,Ne){return Ie._handleUnavailability(We,Ne,ue.database)},function(We,Ne){return Ie._handleWriteFailure(We,Ne,ue.database)},function(We,Ne){return Ie._handleAuthorizationExpired(We,Ne,ue.database)}),[4,this._freshRoutingTable({accessMode:x,database:ue.database,bookmarks:K,impersonatedUser:ee,onDatabaseNameResolved:function(We){ue.database=ue.database||We,re&&re(We)}})];case 1:if(Re=Ce.sent(),x===O)ie=this._loadBalancingStrategy.selectReader(Re.readers),J="read";else if(x===w)ie=this._loadBalancingStrategy.selectWriter(Re.writers),J="write";else throw(0,h.newError)("Illegal mode "+x);if(!ie)throw(0,h.newError)("Failed to obtain connection towards ".concat(J," server. Known routing table is: ").concat(Re),p);Ce.label=2;case 2:return Ce.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(ie,J,Re)];case 3:return je=Ce.sent(),[2,new f.DelegateConnection(je,le)];case 4:throw qe=Ce.sent(),Qe=le.handleAndTransformError(qe,ie),Qe;case 5:return[2]}})})},G.prototype._hasProtocolVersion=function(I){return r(this,void 0,void 0,function(){var M,x,U,K,ee,re;return t(this,function(J){switch(J.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:M=J.sent(),U=0,J.label=2;case 2:if(!(U<M.length))return[3,8];J.label=3;case 3:return J.trys.push([3,6,,7]),[4,(0,f.createChannelConnection)(M[U],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return K=J.sent(),ee=K.protocol()?K.protocol().version:null,[4,K.close()];case 5:return J.sent(),ee?[2,I(ee)]:[2,!1];case 6:return re=J.sent(),x=re,[3,7];case 7:return U++,[3,2];case 8:if(x)throw x;return[2,!1]}})})},G.prototype.supportsMultiDb=function(){return r(this,void 0,void 0,function(){return t(this,function(I){switch(I.label){case 0:return[4,this._hasProtocolVersion(function(M){return M>=R})];case 1:return[2,I.sent()]}})})},G.prototype.supportsTransactionConfig=function(){return r(this,void 0,void 0,function(){return t(this,function(I){switch(I.label){case 0:return[4,this._hasProtocolVersion(function(M){return M>=E})];case 1:return[2,I.sent()]}})})},G.prototype.supportsUserImpersonation=function(){return r(this,void 0,void 0,function(){return t(this,function(I){switch(I.label){case 0:return[4,this._hasProtocolVersion(function(M){return M>=A})];case 1:return[2,I.sent()]}})})},G.prototype.getNegotiatedProtocolVersion=function(){var I=this;return new Promise(function(M,x){I._hasProtocolVersion(M).catch(x)})},G.prototype.verifyConnectivityAndGetServerInfo=function(I){var M=I.database,x=I.accessMode;return r(this,void 0,void 0,function(){var U,K,ee,re,J,ie,ue,le,Re,je,qe,Qe;return t(this,function(Ie){switch(Ie.label){case 0:return U={database:M||j},[4,this._freshRoutingTable({accessMode:x,database:U.database,onDatabaseNameResolved:function(Ce){U.database=U.database||Ce}})];case 1:K=Ie.sent(),ee=x===w?K.writers:K.readers,re=(0,h.newError)("No servers available for database '".concat(U.database,"' with access mode '").concat(x,"'"),v),Ie.label=2;case 2:Ie.trys.push([2,9,10,11]),J=a(ee),ie=J.next(),Ie.label=3;case 3:if(ie.done)return[3,8];ue=ie.value,Ie.label=4;case 4:return Ie.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:ue})];case 5:return le=Ie.sent(),[2,le];case 6:return Re=Ie.sent(),re=Re,[3,7];case 7:return ie=J.next(),[3,3];case 8:return[3,11];case 9:return je=Ie.sent(),qe={error:je},[3,11];case 10:try{ie&&!ie.done&&(Qe=J.return)&&Qe.call(J)}finally{if(qe)throw qe.error}return[7];case 11:throw re}})})},G.prototype.forget=function(I,M){this._routingTableRegistry.apply(M,{applyWhenExists:function(x){return x.forget(I)}}),this._connectionPool.purge(I).catch(function(){})},G.prototype.forgetWriter=function(I,M){this._routingTableRegistry.apply(M,{applyWhenExists:function(x){return x.forgetWriter(I)}})},G.prototype._acquireConnectionToServer=function(I,M,x){return this._connectionPool.acquire(I)},G.prototype._freshRoutingTable=function(I){var M=I===void 0?{}:I,x=M.accessMode,U=M.database,K=M.bookmarks,ee=M.impersonatedUser,re=M.onDatabaseNameResolved,J=this._routingTableRegistry.get(U,function(){return new l.RoutingTable({database:U})});return J.isStaleFor(x)?(this._log.info('Routing table is stale for database: "'.concat(U,'" and access mode: "').concat(x,'": ').concat(J)),this._refreshRoutingTable(J,K,ee,re)):J},G.prototype._refreshRoutingTable=function(I,M,x,U){var K=I.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(K,I,M,x,U):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(K,I,M,x,U)},G.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(I,M,x,U,K){return r(this,void 0,void 0,function(){var ee,re,J,ie,ue,le,Re;return t(this,function(je){switch(je.label){case 0:return ee=[],[4,this._fetchRoutingTableUsingSeedRouter(ee,this._seedRouter,M,x,U)];case 1:return re=s.apply(void 0,[je.sent(),2]),J=re[0],ie=re[1],J?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(I,M,x,U)];case 3:ue=s.apply(void 0,[je.sent(),2]),le=ue[0],Re=ue[1],J=le,ie=Re||ie,je.label=4;case 4:return[4,this._applyRoutingTableIfPossible(M,J,K,ie)];case 5:return[2,je.sent()]}})})},G.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(I,M,x,U,K){return r(this,void 0,void 0,function(){var ee,re,J,ie;return t(this,function(ue){switch(ue.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(I,M,x,U)];case 1:return ee=s.apply(void 0,[ue.sent(),2]),re=ee[0],J=ee[1],re?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(I,this._seedRouter,M,x,U)];case 2:ie=s.apply(void 0,[ue.sent(),2]),re=ie[0],J=ie[1],ue.label=3;case 3:return[4,this._applyRoutingTableIfPossible(M,re,K,J)];case 4:return[2,ue.sent()]}})})},G.prototype._fetchRoutingTableUsingKnownRouters=function(I,M,x,U){return r(this,void 0,void 0,function(){var K,ee,re,J;return t(this,function(ie){switch(ie.label){case 0:return[4,this._fetchRoutingTable(I,M,x,U)];case 1:return K=s.apply(void 0,[ie.sent(),2]),ee=K[0],re=K[1],ee?[2,[ee,null]]:(J=I.length-1,G._forgetRouter(M,I,J),[2,[null,re]])}})})},G.prototype._fetchRoutingTableUsingSeedRouter=function(I,M,x,U,K){return r(this,void 0,void 0,function(){var ee,re;return t(this,function(J){switch(J.label){case 0:return[4,this._resolveSeedRouter(M)];case 1:return ee=J.sent(),re=ee.filter(function(ie){return I.indexOf(ie)<0}),[4,this._fetchRoutingTable(re,x,U,K)];case 2:return[2,J.sent()]}})})},G.prototype._resolveSeedRouter=function(I){return r(this,void 0,void 0,function(){var M,x,U=this;return t(this,function(K){switch(K.label){case 0:return[4,this._hostNameResolver.resolve(I)];case 1:return M=K.sent(),[4,Promise.all(M.map(function(ee){return U._dnsResolver.resolve(ee)}))];case 2:return x=K.sent(),[2,[].concat.apply([],x)]}})})},G.prototype._fetchRoutingTable=function(I,M,x,U){return r(this,void 0,void 0,function(){var K=this;return t(this,function(ee){return[2,I.reduce(function(re,J,ie){return r(K,void 0,void 0,function(){var ue,le,Re,je,qe,Qe,Ie;return t(this,function(Ce){switch(Ce.label){case 0:return[4,re];case 1:return ue=s.apply(void 0,[Ce.sent(),1]),le=ue[0],le?[2,[le,null]]:(Re=ie-1,G._forgetRouter(M,I,Re),[4,this._createSessionForRediscovery(J,x,U)]);case 2:if(je=s.apply(void 0,[Ce.sent(),2]),qe=je[0],Qe=je[1],!qe)return[3,8];Ce.label=3;case 3:return Ce.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(qe,M.database,J,U)];case 4:return[2,[Ce.sent(),null]];case 5:return Ie=Ce.sent(),[2,this._handleRediscoveryError(Ie,J)];case 6:return qe.close(),[7];case 7:return[3,9];case 8:return[2,[null,Qe]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},G.prototype._createSessionForRediscovery=function(I,M,x){return r(this,void 0,void 0,function(){var U,K,ee,re,J,ie=this;return t(this,function(ue){switch(ue.label){case 0:return ue.trys.push([0,2,,3]),[4,this._connectionPool.acquire(I)];case 1:return U=ue.sent(),K=f.ConnectionErrorHandler.create({errorCode:p,handleAuthorizationExpired:function(le,Re){return ie._handleAuthorizationExpired(le,Re)}}),ee=new _.default(new f.DelegateConnection(U,K)),re=U.protocol().version,re<4?[2,[new h.Session({mode:w,bookmarks:b.empty(),connectionProvider:ee}),null]]:[2,[new h.Session({mode:O,database:k,bookmarks:M,connectionProvider:ee,impersonatedUser:x}),null]];case 2:return J=ue.sent(),[2,this._handleRediscoveryError(J,I)];case 3:return[2]}})})},G.prototype._handleRediscoveryError=function(I,M){if($(I)||Z(I))throw I;if(I.code===B)throw(0,h.newError)("Server at ".concat(M.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),v,I);return this._log.warn("unable to fetch routing table because of an error ".concat(I)),[null,I]},G.prototype._applyRoutingTableIfPossible=function(I,M,x,U){return r(this,void 0,void 0,function(){return t(this,function(K){switch(K.label){case 0:if(!M)throw(0,h.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(I),v,U);return M.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(M,x)];case 1:return K.sent(),[2,M]}})})},G.prototype._updateRoutingTable=function(I,M){return r(this,void 0,void 0,function(){return t(this,function(x){switch(x.label){case 0:return[4,this._connectionPool.keepAll(I.allServers())];case 1:return x.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(I),M(I.database),this._log.info("Updated routing table ".concat(I)),[2]}})})},G._forgetRouter=function(I,M,x){var U=M[x];I&&U&&I.forgetRouter(U)},G}(y.default);Su.default=Y;var N=function(){function z(G){this._tables=new Map,this._routingTablePurgeDelay=G}return z.prototype.register=function(G){return this._tables.set(G.database,G),this},z.prototype.apply=function(G,I){var M=I===void 0?{}:I,x=M.applyWhenExists,U=M.applyWhenDontExists,K=U===void 0?function(){}:U;return this._tables.has(G)?x(this._tables.get(G)):typeof G=="string"||G===null?K():this._forEach(x),this},z.prototype.get=function(G,I){return this._tables.has(G)?this._tables.get(G):typeof I=="function"?I():I},z.prototype.removeExpired=function(){var G=this;return this._removeIf(function(I){return I.isExpiredFor(G._routingTablePurgeDelay)})},z.prototype._forEach=function(G){var I,M;try{for(var x=a(this._tables),U=x.next();!U.done;U=x.next()){var K=s(U.value,2),ee=K[1];G(ee)}}catch(re){I={error:re}}finally{try{U&&!U.done&&(M=x.return)&&M.call(x)}finally{if(I)throw I.error}}return this},z.prototype._remove=function(G){return this._tables.delete(G),this},z.prototype._removeIf=function(G){var I,M;try{for(var x=a(this._tables),U=x.next();!U.done;U=x.next()){var K=s(U.value,2),ee=K[0],re=K[1];G(re)&&this._remove(ee)}}catch(J){I={error:J}}finally{try{U&&!U.done&&(M=x.return)&&M.call(x)}finally{if(I)throw I.error}}return this},z}();function $(z){return[D,q,F].includes(z.code)}function Z(z){return z.code.startsWith("Neo.ClientError.Security.")&&![W].includes(z.code)}return Su}var W_;function rT(){return W_||(W_=1,function(e){var i=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var u=yb();Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return i(u).default}});var o=tl();Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return i(o).default}});var n=QS();Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return i(n).default}});var r=eT();Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return i(r).default}})}(rc)),rc}var V_;function tT(){return V_||(V_=1,function(e){var i=P&&P.__createBinding||(Object.create?function(r,t,a,s){s===void 0&&(s=a);var c=Object.getOwnPropertyDescriptor(t,a);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(r,s,c)}:function(r,t,a,s){s===void 0&&(s=a),r[s]=t[a]}),u=P&&P.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),o=P&&P.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var a in r)a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)&&i(t,r,a);return u(t,r),t},n=P&&P.__exportStar||function(r,t){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(t,a)&&i(t,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=o(Ym()),e.bolt=o(hb()),e.buf=o(Kc()),e.channel=o(wa()),e.packstream=o(Cr()),e.pool=o(_b()),n(rT(),e)}(Ks)),Ks}(function(e){var i=Er.exports;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return t.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return t.DateTime}}),Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return n.Driver}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return t.Duration}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return t.Integer}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return t.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return t.LocalTime}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return t.ManagedTransaction}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return t.Neo4jError}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return t.Node}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return t.Notification}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return t.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return t.PathSegment}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return t.Plan}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return t.Point}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return t.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return t.QueryStatistics}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return t.Record}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return t.Relationship}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return t.Result}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return t.ResultSummary}}),Object.defineProperty(e,"RxManagedTransaction",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"RxResult",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"RxSession",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"RxTransaction",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return t.ServerInfo}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return t.Session}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return t.Time}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return t.UnboundRelationship}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return t.auth}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return t.bookmarkManager}}),e.default=void 0,e.driver=p,Object.defineProperty(e,"error",{enumerable:!0,get:function(){return t.error}}),e.hasReachableServer=b,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return t.int}}),e.integer=void 0,Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return t.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return t.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return t.isDuration}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return t.isInt}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return t.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return t.isLocalTime}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return t.isPoint}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return t.isRetryableError}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return t.isTime}}),e.types=e.temporal=e.spatial=e.session=e.logging=void 0;var u=i(z_()),o=i(Y_()),n=TS(),r=i(PS()),t=se(),a=tT(),s=i(Hm()),c=i(Yc()),h=i($m()),l=i(Ju()),m=t.internal.util,_=m.ENCRYPTION_ON,y=m.assertString,d=m.isEmptyObjectOrNull,f=t.internal.serverAddress.ServerAddress,v=t.internal.urlUtil;function p(W,k){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};y(W,"Bolt URL");var V=v.parseDatabaseUrl(W),Y=!1,N=!1,$;switch(V.scheme){case"bolt":break;case"bolt+s":N=!0,$="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":N=!0,$="TRUST_ALL_CERTIFICATES";break;case"neo4j":Y=!0;break;case"neo4j+s":N=!0,$="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",Y=!0;break;case"neo4j+ssc":N=!0,$="TRUST_ALL_CERTIFICATES",Y=!0;break;default:throw new Error("Unknown scheme: ".concat(V.scheme))}if(N){if("encrypted"in j||"trust"in j)throw new Error("Encryption/trust can only be configured either through URL or config, not both");j.encrypted=_,j.trust=$}k=k||{},k.scheme=k.scheme||"none",j.userAgent=j.userAgent||O;var Z=f.fromUrl(V.hostAndPort),z={address:Z,typename:Y?"Routing":"Direct",routing:Y};return new n.Driver(z,j,G());function G(){if(Y)return function(I,M,x,U){return new a.RoutingConnectionProvider({id:I,config:M,log:x,hostNameResolver:U,authToken:k,address:Z,userAgent:M.userAgent,routingContext:V.query})};if(!d(V.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(W,"'"));return function(I,M,x){return new a.DirectConnectionProvider({id:I,config:M,log:x,authToken:k,address:Z,userAgent:M.userAgent})}}}function b(W,k){return g.apply(this,arguments)}function g(){return g=(0,o.default)(u.default.mark(function W(k,j){var V;return u.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return V=p(k,{scheme:"none",principal:"",credentials:""},j),N.prev=1,N.next=4,V.getNegotiatedProtocolVersion();case 4:return N.abrupt("return",!0);case 5:return N.prev=5,N.next=8,V.close();case 8:return N.finish(5);case 9:case"end":return N.stop()}},W,null,[[1,,5,9]])})),g.apply(this,arguments)}var O="neo4j-javascript/"+r.default,w={console:function(W){function k(j){return W.apply(this,arguments)}return k.toString=function(){return W.toString()},k}(function(W){return{level:W,logger:function(j,V){return console.log("".concat(P.Date.now()," ").concat(j.toUpperCase()," ").concat(V))}}})};e.logging=w;var E={Node:t.Node,Relationship:t.Relationship,UnboundRelationship:t.UnboundRelationship,PathSegment:t.PathSegment,Path:t.Path,Result:t.Result,ResultSummary:t.ResultSummary,Record:t.Record,Point:t.Point,Date:t.Date,DateTime:t.DateTime,Duration:t.Duration,LocalDateTime:t.LocalDateTime,LocalTime:t.LocalTime,Time:t.Time,Integer:t.Integer};e.types=E;var R={READ:n.READ,WRITE:n.WRITE};e.session=R;var A={toNumber:t.toNumber,toString:t.toString,inSafeRange:t.inSafeRange};e.integer=A;var B={isPoint:t.isPoint};e.spatial=B;var D={isDuration:t.isDuration,isLocalTime:t.isLocalTime,isTime:t.isTime,isDate:t.isDate,isLocalDateTime:t.isLocalDateTime,isDateTime:t.isDateTime};e.temporal=D;var q={driver:p,hasReachableServer:b,int:t.int,isInt:t.isInt,isPoint:t.isPoint,isDuration:t.isDuration,isLocalTime:t.isLocalTime,isTime:t.isTime,isDate:t.isDate,isLocalDateTime:t.isLocalDateTime,isDateTime:t.isDateTime,integer:A,Neo4jError:t.Neo4jError,isRetryableError:t.isRetryableError,auth:t.auth,logging:w,types:E,session:R,error:t.error,spatial:B,temporal:D,Driver:n.Driver,Session:t.Session,Transaction:t.Transaction,ManagedTransaction:t.ManagedTransaction,Result:t.Result,RxSession:s.default,RxTransaction:c.default,RxManagedTransaction:h.default,RxResult:l.default,ResultSummary:t.ResultSummary,Plan:t.Plan,ProfiledPlan:t.ProfiledPlan,QueryStatistics:t.QueryStatistics,Notification:t.Notification,ServerInfo:t.ServerInfo,Record:t.Record,Node:t.Node,Relationship:t.Relationship,UnboundRelationship:t.UnboundRelationship,Path:t.Path,PathSegment:t.PathSegment,Point:t.Point,Integer:t.Integer,Duration:t.Duration,LocalTime:t.LocalTime,Time:t.Time,Date:t.Date,LocalDateTime:t.LocalDateTime,DateTime:t.DateTime,bookmarkManager:t.bookmarkManager},F=q;e.default=F})(H_);const $_=_0(H_);const nT={},iT={class:"element_batch"},oT={class:"batch_element_label"},aT={class:"batch_element_score"};function uT(e,i){return sa(),Ru("div",iT,[nl("div",oT,[nc(e.$slots,"default",{},()=>[ca("Here")],!0)]),nl("div",aT,[nc(e.$slots,"score",{},void 0,!0)])])}const sT=uc(nT,[["render",uT],["__scopeId","data-v-3db16340"]]);const cT={},lT={type:"button"};function fT(e,i){return sa(),Ru("button",lT,[nc(e.$slots,"default",{},()=>[ca("Button")],!0)])}const dT=uc(cT,[["render",fT],["__scopeId","data-v-4ae19ac0"]]);const vT={class:"async"},hT={__name:"GenreList",setup(e){const i="neo4j+s://7d0dd3ed.databases.neo4j.io",u="neo4j",o="5LZyZ1o6FUbWLxfmS5276x6R1kSM6xf_O6sKO79MbcU",n=$_.driver(i,$_.auth.basic(u,o)),r=a0(),t=u0(),a=s0(),s=c0(),c=l0(),h=il([]),l=il([]);function m(p){return p.length>0?"|":":"}function _(){let p="";const b=()=>{p+=p.length>0?m(p):"n"+m(p)};return r.selected.length>0&&(b(),p+="Tempo"),t.selected.length>0&&(b(),p+="Environment"),a.selected.length>0&&(b(),p+="Fullness"),s.selected.length>0&&(b(),p+="Mood"),c.selected.length>0&&(b(),p+="Type"),p}function y(){let p="";return r.selected.length>0&&(p+=m(p),p+="IN_TEMPO"),t.selected.length>0&&(p+=m(p),p+="BEST_ENVIRONMENT"),a.selected.length>0&&(p+=m(p),p+="WITH_FULLNESS"),s.selected.length>0&&(p+=m(p),p+="HAS_MOOD"),c.selected.length>0&&(p+=m(p),p+="OF_TYPE"),p}function d(){let p="";const b=()=>{p+=p.length>0?"OR ":"WHERE "};return r.selected.length>0&&(b(),p+=`(n:Tempo AND n.name IN ${JSON.stringify(r.selected)})
`),t.selected.length>0&&(b(),p+=`(n:Environment AND n.name IN ${JSON.stringify(t.selected)})
`),a.selected.length>0&&(b(),p+=`(n:Fullness AND n.name IN ${JSON.stringify(a.selected)})
`),s.selected.length>0&&(b(),p+=`(n:Mood AND n.name IN ${JSON.stringify(s.selected)})
`),c.selected.length>0&&(b(),p+=`(n:Type AND n.name IN ${JSON.stringify(c.selected)})
`),p}function f(){let p="";return p+=`MATCH (g:Genre)
`,p+=`OPTIONAL MATCH (g)-[${y()}]->(${_()})
`,p+=d(),p+=`RETURN g.name AS genre, count(n) AS score
`,p+=`ORDER BY score DESC
`,p}async function v(){const p=n.session();try{if(r.selected.length+t.selected.length+a.selected.length+s.selected.length+c.selected.length>0){const g=await p.run(f());console.log(`Query: ${f()}`),h.value=g.records.map(O=>({name:O.get("genre"),score:O.get("score")}))}const b=await p.run(`MATCH (g:Genre)-->(n)
                RETURN g.name AS genre, count(n) AS score
                ORDER BY score DESC`);console.log(`Query: ${f()}`),l.value=b.records.map(g=>({name:g.get("genre"),score:g.get("score")}))}catch(b){console.log(`Error happened, pls help: ${b}`)}finally{p.close()}}return v(),f0(()=>{n.close()}),(p,b)=>(sa(),Ru("div",vT,[d0(dT,{onClick:b[0]||(b[0]=g=>v())},{default:ts(()=>[ca("Click to refresh")]),_:1}),(sa(!0),Ru(v0,null,h0(h.value.slice(0,5),g=>(sa(),p0(sT,{key:g.name},{score:ts(()=>[ca(ol((g.score/13*100).toPrecision(4))+"% match ",1)]),default:ts(()=>[ca(ol(g.name)+" ",1)]),_:2},1024))),128))]))}},yT=uc(hT,[["__scopeId","data-v-8b7e90a6"]]);export{yT as default};
